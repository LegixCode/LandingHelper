import{g as Zh,a as tl}from"./_commonjsHelpers-92s3wAHG.js";function el(Ge,Ds){for(var Ft=0;Ft<Ds.length;Ft++){const ut=Ds[Ft];if(typeof ut!="string"&&!Array.isArray(ut)){for(const Ct in ut)if(Ct!=="default"&&!(Ct in Ge)){const Mt=Object.getOwnPropertyDescriptor(ut,Ct);Mt&&Object.defineProperty(Ge,Ct,Mt.get?Mt:{enumerable:!0,get:()=>ut[Ct]})}}}return Object.freeze(Object.defineProperty(Ge,Symbol.toStringTag,{value:"Module"}))}var Pi={exports:{}},Su={exports:{}},Th;function sl(){return Th||(Th=1,(function(Ge,Ds){(function(Ft){function ut(){var Ct=Ft();return Ct.default||Ct}Ge.exports=ut()})(function(){var Ft=Object.create,ut=Object.defineProperty,Ct=Object.getOwnPropertyDescriptor,Mt=Object.getOwnPropertyNames,$o=Object.getPrototypeOf,Ht=Object.prototype.hasOwnProperty,Vo=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),ks=(e,n)=>{for(var o in n)ut(e,o,{get:n[o],enumerable:!0})},Ui=(e,n,o,u)=>{if(n&&typeof n=="object"||typeof n=="function")for(let l of Mt(n))!Ht.call(e,l)&&l!==o&&ut(e,l,{get:()=>n[l],enumerable:!(u=Ct(n,l))||u.enumerable});return e},jo=(e,n,o)=>(o=e!=null?Ft($o(e)):{},Ui(ut(o,"default",{value:e,enumerable:!0}),e)),Wo=e=>Ui(ut({},"__esModule",{value:!0}),e),Qo=Vo((e,n)=>{var o,u,l,h,f,_,k,y,C,b,A,g,N,S,H,M,$,W,P;N=/\/(?![*\/])(?:\[(?:[^\]\\\n\r\u2028\u2029]+|\\.)*\]|[^\/\\\n\r\u2028\u2029]+|\\.)*(\/[$_\u200C\u200D\p{ID_Continue}]*|\\)?/yu,g=/--|\+\+|=>|\.{3}|\??\.(?!\d)|(?:&&|\|\||\?\?|[+\-%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\/(?![\/*]))=?|[?~,:;[\](){}]/y,o=/(\x23?)(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]+|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+/yu,H=/(['"])(?:[^'"\\\n\r]+|(?!\1)['"]|\\(?:\r\n|[^]))*(\1)?/y,A=/(?:0[xX][\da-fA-F](?:_?[\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\d)*n|(?:(?:0(?!\d)|0\d*[89]\d*|[1-9](?:_?\d)*)(?:\.(?:\d(?:_?\d)*)?)?|\.\d(?:_?\d)*)(?:[eE][+-]?\d(?:_?\d)*)?|0[0-7]+/y,M=/[`}](?:[^`\\$]+|\\[^]|\$(?!\{))*(`|\$\{)?/y,P=/[\t\v\f\ufeff\p{Zs}]+/yu,y=/\r?\n|[\r\u2028\u2029]/y,C=/\/\*(?:[^*]+|\*(?!\/))*(\*\/)?/y,S=/\/\/.*/y,l=/[<>.:={}]|\/(?![\/*])/y,u=/[$_\p{ID_Start}][$_\u200C\u200D\p{ID_Continue}-]*/yu,h=/(['"])(?:[^'"]+|(?!\1)['"])*(\1)?/y,f=/[^<>{}]+/y,W=/^(?:[\/+-]|\.{3}|\?(?:InterpolationIn(?:JSX|Template)|NoLineTerminatorHere|NonExpressionParenEnd|UnaryIncDec))?$|[{}([,;<>=*%&|^!~?:]$/,$=/^(?:=>|[;\]){}]|else|\?(?:NoLineTerminatorHere|NonExpressionParenEnd))?$/,_=/^(?:await|case|default|delete|do|else|instanceof|new|return|throw|typeof|void|yield)$/,k=/^(?:return|throw|yield)$/,b=RegExp(y.source),n.exports=function*(Q,{jsx:it=!1}={}){var ht,gt,Tt,V,Y,fe,B,nt,Z,yt,_e,st,ge,lt;for({length:fe}=Q,V=0,Y="",lt=[{tag:"JS"}],ht=[],_e=0,st=!1;V<fe;){switch(nt=lt[lt.length-1],nt.tag){case"JS":case"JSNonExpressionParen":case"InterpolationInTemplate":case"InterpolationInJSX":if(Q[V]==="/"&&(W.test(Y)||_.test(Y))&&(N.lastIndex=V,B=N.exec(Q))){V=N.lastIndex,Y=B[0],st=!0,yield{type:"RegularExpressionLiteral",value:B[0],closed:B[1]!==void 0&&B[1]!=="\\"};continue}if(g.lastIndex=V,B=g.exec(Q)){switch(ge=B[0],Z=g.lastIndex,yt=ge,ge){case"(":Y==="?NonExpressionParenKeyword"&&lt.push({tag:"JSNonExpressionParen",nesting:_e}),_e++,st=!1;break;case")":_e--,st=!0,nt.tag==="JSNonExpressionParen"&&_e===nt.nesting&&(lt.pop(),yt="?NonExpressionParenEnd",st=!1);break;case"{":g.lastIndex=0,Tt=!$.test(Y)&&(W.test(Y)||_.test(Y)),ht.push(Tt),st=!1;break;case"}":switch(nt.tag){case"InterpolationInTemplate":if(ht.length===nt.nesting){M.lastIndex=V,B=M.exec(Q),V=M.lastIndex,Y=B[0],B[1]==="${"?(Y="?InterpolationInTemplate",st=!1,yield{type:"TemplateMiddle",value:B[0]}):(lt.pop(),st=!0,yield{type:"TemplateTail",value:B[0],closed:B[1]==="`"});continue}break;case"InterpolationInJSX":if(ht.length===nt.nesting){lt.pop(),V+=1,Y="}",yield{type:"JSXPunctuator",value:"}"};continue}}st=ht.pop(),yt=st?"?ExpressionBraceEnd":"}";break;case"]":st=!0;break;case"++":case"--":yt=st?"?PostfixIncDec":"?UnaryIncDec";break;case"<":if(it&&(W.test(Y)||_.test(Y))){lt.push({tag:"JSXTag"}),V+=1,Y="<",yield{type:"JSXPunctuator",value:ge};continue}st=!1;break;default:st=!1}V=Z,Y=yt,yield{type:"Punctuator",value:ge};continue}if(o.lastIndex=V,B=o.exec(Q)){switch(V=o.lastIndex,yt=B[0],B[0]){case"for":case"if":case"while":case"with":Y!=="."&&Y!=="?."&&(yt="?NonExpressionParenKeyword")}Y=yt,st=!_.test(B[0]),yield{type:B[1]==="#"?"PrivateIdentifier":"IdentifierName",value:B[0]};continue}if(H.lastIndex=V,B=H.exec(Q)){V=H.lastIndex,Y=B[0],st=!0,yield{type:"StringLiteral",value:B[0],closed:B[2]!==void 0};continue}if(A.lastIndex=V,B=A.exec(Q)){V=A.lastIndex,Y=B[0],st=!0,yield{type:"NumericLiteral",value:B[0]};continue}if(M.lastIndex=V,B=M.exec(Q)){V=M.lastIndex,Y=B[0],B[1]==="${"?(Y="?InterpolationInTemplate",lt.push({tag:"InterpolationInTemplate",nesting:ht.length}),st=!1,yield{type:"TemplateHead",value:B[0]}):(st=!0,yield{type:"NoSubstitutionTemplate",value:B[0],closed:B[1]==="`"});continue}break;case"JSXTag":case"JSXTagEnd":if(l.lastIndex=V,B=l.exec(Q)){switch(V=l.lastIndex,yt=B[0],B[0]){case"<":lt.push({tag:"JSXTag"});break;case">":lt.pop(),Y==="/"||nt.tag==="JSXTagEnd"?(yt="?JSX",st=!0):lt.push({tag:"JSXChildren"});break;case"{":lt.push({tag:"InterpolationInJSX",nesting:ht.length}),yt="?InterpolationInJSX",st=!1;break;case"/":Y==="<"&&(lt.pop(),lt[lt.length-1].tag==="JSXChildren"&&lt.pop(),lt.push({tag:"JSXTagEnd"}))}Y=yt,yield{type:"JSXPunctuator",value:B[0]};continue}if(u.lastIndex=V,B=u.exec(Q)){V=u.lastIndex,Y=B[0],yield{type:"JSXIdentifier",value:B[0]};continue}if(h.lastIndex=V,B=h.exec(Q)){V=h.lastIndex,Y=B[0],yield{type:"JSXString",value:B[0],closed:B[2]!==void 0};continue}break;case"JSXChildren":if(f.lastIndex=V,B=f.exec(Q)){V=f.lastIndex,Y=B[0],yield{type:"JSXText",value:B[0]};continue}switch(Q[V]){case"<":lt.push({tag:"JSXTag"}),V++,Y="<",yield{type:"JSXPunctuator",value:"<"};continue;case"{":lt.push({tag:"InterpolationInJSX",nesting:ht.length}),V++,Y="?InterpolationInJSX",st=!1,yield{type:"JSXPunctuator",value:"{"};continue}}if(P.lastIndex=V,B=P.exec(Q)){V=P.lastIndex,yield{type:"WhiteSpace",value:B[0]};continue}if(y.lastIndex=V,B=y.exec(Q)){V=y.lastIndex,st=!1,k.test(Y)&&(Y="?NoLineTerminatorHere"),yield{type:"LineTerminatorSequence",value:B[0]};continue}if(C.lastIndex=V,B=C.exec(Q)){V=C.lastIndex,b.test(B[0])&&(st=!1,k.test(Y)&&(Y="?NoLineTerminatorHere")),yield{type:"MultiLineComment",value:B[0],closed:B[1]!==void 0};continue}if(S.lastIndex=V,B=S.exec(Q)){V=S.lastIndex,st=!1,yield{type:"SingleLineComment",value:B[0]};continue}gt=String.fromCodePoint(Q.codePointAt(V)),V+=gt.length,Y=gt,st=!1,yield{type:nt.tag.startsWith("JSX")?"JSXInvalid":"Invalid",value:gt}}}}),Gt={};ks(Gt,{__debug:()=>So,check:()=>No,doc:()=>mi,format:()=>Fi,formatWithCursor:()=>vo,getSupportInfo:()=>cu,util:()=>lo,version:()=>ho});var ke=(e,n)=>(o,u,...l)=>o|1&&u==null?void 0:(n.call(u)??u[e]).apply(u,l),Yo=String.prototype.replaceAll??function(e,n){return e.global?this.replace(e,n):this.split(e).join(n)},zo=ke("replaceAll",function(){if(typeof this=="string")return Yo}),$e=zo,Jo=class{diff(e,n,o={}){let u;typeof o=="function"?(u=o,o={}):"callback"in o&&(u=o.callback);let l=this.castInput(e,o),h=this.castInput(n,o),f=this.removeEmpty(this.tokenize(l,o)),_=this.removeEmpty(this.tokenize(h,o));return this.diffWithOptionsObj(f,_,o,u)}diffWithOptionsObj(e,n,o,u){var l;let h=M=>{if(M=this.postProcess(M,o),u){setTimeout(function(){u(M)},0);return}else return M},f=n.length,_=e.length,k=1,y=f+_;o.maxEditLength!=null&&(y=Math.min(y,o.maxEditLength));let C=(l=o.timeout)!==null&&l!==void 0?l:1/0,b=Date.now()+C,A=[{oldPos:-1,lastComponent:void 0}],g=this.extractCommon(A[0],n,e,0,o);if(A[0].oldPos+1>=_&&g+1>=f)return h(this.buildValues(A[0].lastComponent,n,e));let N=-1/0,S=1/0,H=()=>{for(let M=Math.max(N,-k);M<=Math.min(S,k);M+=2){let $,W=A[M-1],P=A[M+1];W&&(A[M-1]=void 0);let Q=!1;if(P){let ht=P.oldPos-M;Q=P&&0<=ht&&ht<f}let it=W&&W.oldPos+1<_;if(!Q&&!it){A[M]=void 0;continue}if(!it||Q&&W.oldPos<P.oldPos?$=this.addToPath(P,!0,!1,0,o):$=this.addToPath(W,!1,!0,1,o),g=this.extractCommon($,n,e,M,o),$.oldPos+1>=_&&g+1>=f)return h(this.buildValues($.lastComponent,n,e))||!0;A[M]=$,$.oldPos+1>=_&&(S=Math.min(S,M-1)),g+1>=f&&(N=Math.max(N,M+1))}k++};if(u)(function M(){setTimeout(function(){if(k>y||Date.now()>b)return u(void 0);H()||M()},0)})();else for(;k<=y&&Date.now()<=b;){let M=H();if(M)return M}}addToPath(e,n,o,u,l){let h=e.lastComponent;return h&&!l.oneChangePerToken&&h.added===n&&h.removed===o?{oldPos:e.oldPos+u,lastComponent:{count:h.count+1,added:n,removed:o,previousComponent:h.previousComponent}}:{oldPos:e.oldPos+u,lastComponent:{count:1,added:n,removed:o,previousComponent:h}}}extractCommon(e,n,o,u,l){let h=n.length,f=o.length,_=e.oldPos,k=_-u,y=0;for(;k+1<h&&_+1<f&&this.equals(o[_+1],n[k+1],l);)k++,_++,y++,l.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return y&&!l.oneChangePerToken&&(e.lastComponent={count:y,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=_,k}equals(e,n,o){return o.comparator?o.comparator(e,n):e===n||!!o.ignoreCase&&e.toLowerCase()===n.toLowerCase()}removeEmpty(e){let n=[];for(let o=0;o<e.length;o++)e[o]&&n.push(e[o]);return n}castInput(e,n){return e}tokenize(e,n){return Array.from(e)}join(e){return e.join("")}postProcess(e,n){return e}get useLongestToken(){return!1}buildValues(e,n,o){let u=[],l;for(;e;)u.push(e),l=e.previousComponent,delete e.previousComponent,e=l;u.reverse();let h=u.length,f=0,_=0,k=0;for(;f<h;f++){let y=u[f];if(y.removed)y.value=this.join(o.slice(k,k+y.count)),k+=y.count;else{if(!y.added&&this.useLongestToken){let C=n.slice(_,_+y.count);C=C.map(function(b,A){let g=o[k+A];return g.length>b.length?g:b}),y.value=this.join(C)}else y.value=this.join(n.slice(_,_+y.count));_+=y.count,y.added||(k+=y.count)}}return u}},_t=class extends Jo{tokenize(e){return e.slice()}join(e){return e}removeEmpty(e){return e}},Ko=new _t;function Mi(e,n,o){return Ko.diff(e,n,o)}var Xo=()=>{},qo=Xo,Hi="cr",Gi="crlf",Zo="lf",ta=Zo,Es="\r",$i=`\r
`,Ve=`
`,ea=Ve;function Vi(e){let n=e.indexOf(Es);return n!==-1?e.charAt(n+1)===Ve?Gi:Hi:ta}function ms(e){return e===Hi?Es:e===Gi?$i:ea}var sa=new Map([[Ve,/\n/gu],[Es,/\r/gu],[$i,/\r\n/gu]]);function ji(e,n){let o=sa.get(n);return e.match(o)?.length??0}var ia=/\r\n?/gu;function na(e){return $e(0,e,ia,Ve)}function ra(e){return this[e<0?this.length+e:e]}var oa=ke("at",function(){if(Array.isArray(this)||typeof this=="string")return ra}),at=oa,rt="string",St="array",Zt="cursor",wt="indent",$t="align",Vt="trim",Et="group",mt="fill",q="if-break",Rt="indent-if-break",Bt="line-suffix",J="line-suffix-boundary",ct="line",It="label",At="break-parent",Ts=new Set([Zt,wt,$t,Vt,Et,mt,q,Rt,Bt,J,ct,It,At]);function Wi(e){let n=e.length;for(;n>0&&(e[n-1]==="\r"||e[n-1]===`
`);)n--;return n<e.length?e.slice(0,n):e}function aa(e){if(typeof e=="string")return rt;if(Array.isArray(e))return St;if(!e)return;let{type:n}=e;if(Ts.has(n))return n}var te=aa,Qi=e=>new Intl.ListFormat("en-US",{type:"disjunction"}).format(e);function ua(e){let n=e===null?"null":typeof e;if(n!=="string"&&n!=="object")return`Unexpected doc '${n}', 
Expected it to be 'string' or 'object'.`;if(te(e))throw new Error("doc is valid.");let o=Object.prototype.toString.call(e);if(o!=="[object Object]")return`Unexpected doc '${o}'.`;let u=Qi([...Ts].map(l=>`'${l}'`));return`Unexpected doc.type '${e.type}'.
Expected it to be ${u}.`}var Yi=class extends Error{name="InvalidDocError";constructor(e){super(ua(e)),this.doc=e}},ue=Yi,zi={};function Ji(e,n,o,u){let l=[e];for(;l.length>0;){let h=l.pop();if(h===zi){o(l.pop());continue}o&&l.push(h,zi);let f=te(h);if(!f)throw new ue(h);if(n?.(h)!==!1)switch(f){case St:case mt:{let _=f===St?h:h.parts;for(let k=_.length,y=k-1;y>=0;--y)l.push(_[y]);break}case q:l.push(h.flatContents,h.breakContents);break;case Et:if(u&&h.expandedStates)for(let _=h.expandedStates.length,k=_-1;k>=0;--k)l.push(h.expandedStates[k]);else l.push(h.contents);break;case $t:case wt:case Rt:case It:case Bt:l.push(h.contents);break;case rt:case Zt:case Vt:case J:case ct:case At:break;default:throw new ue(h)}}}var je=Ji;function We(e,n){if(typeof e=="string")return n(e);let o=new Map;return u(e);function u(h){if(o.has(h))return o.get(h);let f=l(h);return o.set(h,f),f}function l(h){switch(te(h)){case St:return n(h.map(u));case mt:return n({...h,parts:h.parts.map(u)});case q:return n({...h,breakContents:u(h.breakContents),flatContents:u(h.flatContents)});case Et:{let{expandedStates:f,contents:_}=h;return f?(f=f.map(u),_=f[0]):_=u(_),n({...h,contents:_,expandedStates:f})}case $t:case wt:case Rt:case It:case Bt:return n({...h,contents:u(h.contents)});case rt:case Zt:case Vt:case J:case ct:case At:return n(h);default:throw new ue(h)}}}function Qe(e,n,o){let u=o,l=!1;function h(f){if(l)return!1;let _=n(f);_!==void 0&&(l=!0,u=_)}return je(e,h),u}function Ki(e){if(e.type===Et&&e.break||e.type===ct&&e.hard||e.type===At)return!0}function ha(e){return Qe(e,Ki,!1)}function ys(e){if(e.length>0){let n=at(0,e,-1);!n.expandedStates&&!n.break&&(n.break="propagated")}return null}function Xi(e){let n=new Set,o=[];function u(h){if(h.type===At&&ys(o),h.type===Et){if(o.push(h),n.has(h))return!1;n.add(h)}}function l(h){h.type===Et&&o.pop().break&&ys(o)}je(e,u,l,!0)}function Ee(e){return e.type===ct&&!e.hard?e.soft?"":" ":e.type===q?e.flatContents:e}function qi(e){return We(e,Ee)}function Zi(e){for(e=[...e];e.length>=2&&at(0,e,-2).type===ct&&at(0,e,-1).type===At;)e.length-=2;if(e.length>0){let n=me(at(0,e,-1));e[e.length-1]=n}return e}function me(e){switch(te(e)){case wt:case Rt:case Et:case Bt:case It:{let n=me(e.contents);return{...e,contents:n}}case q:return{...e,breakContents:me(e.breakContents),flatContents:me(e.flatContents)};case mt:return{...e,parts:Zi(e.parts)};case St:return Zi(e);case rt:return Wi(e);case $t:case Zt:case Vt:case J:case ct:case At:break;default:throw new ue(e)}return e}function xs(e){return me(tn(e))}function tt(e){switch(te(e)){case mt:if(e.parts.every(n=>n===""))return"";break;case Et:if(!e.contents&&!e.id&&!e.break&&!e.expandedStates)return"";if(e.contents.type===Et&&e.contents.id===e.id&&e.contents.break===e.break&&e.contents.expandedStates===e.expandedStates)return e.contents;break;case $t:case wt:case Rt:case Bt:if(!e.contents)return"";break;case q:if(!e.flatContents&&!e.breakContents)return"";break;case St:{let n=[];for(let o of e){if(!o)continue;let[u,...l]=Array.isArray(o)?o:[o];typeof u=="string"&&typeof at(0,n,-1)=="string"?n[n.length-1]+=u:n.push(u),n.push(...l)}return n.length===0?"":n.length===1?n[0]:n}case rt:case Zt:case Vt:case J:case ct:case It:case At:break;default:throw new ue(e)}return e}function tn(e){return We(e,n=>tt(n))}function en(e,n=hn){return We(e,o=>typeof o=="string"?Cs(n,o.split(`
`)):o)}function Ye(e){if(e.type===ct)return!0}function sn(e){return Qe(e,Ye,!1)}function Ae(e,n){return e.type===It?{...e,contents:n(e.contents)}:n(e)}var ee=qo;function be(e){return{type:wt,contents:e}}function he(e,n){return{type:$t,contents:n,n:e}}function la(e){return he(Number.NEGATIVE_INFINITY,e)}function gs(e){return he({type:"root"},e)}function nn(e){return he(-1,e)}function rn(e,n,o){let u=e;if(n>0){for(let l=0;l<Math.floor(n/o);++l)u=be(u);u=he(n%o,u),u=he(Number.NEGATIVE_INFINITY,u)}return u}var ve={type:At},se={type:Zt};function ca(e){return{type:mt,parts:e}}function Fs(e,n={}){return ee(n.expandedStates),{type:Et,id:n.id,contents:e,break:!!n.shouldBreak,expandedStates:n.expandedStates}}function on(e,n){return Fs(e[0],{...n,expandedStates:e})}function da(e,n="",o={}){return{type:q,breakContents:e,flatContents:n,groupId:o.groupId}}function an(e,n){return{type:Rt,contents:e,groupId:n.groupId,negate:n.negate}}function Cs(e,n){let o=[];for(let u=0;u<n.length;u++)u!==0&&o.push(e),o.push(n[u]);return o}function pa(e,n){return e?{type:It,label:e,contents:n}:n}var As={type:ct},un={type:ct,soft:!0},bs={type:ct,hard:!0},Pt=[bs,ve],vs={type:ct,hard:!0,literal:!0},hn=[vs,ve];function ze(e){return{type:Bt,contents:e}}var ln={type:J},cn={type:Vt};function pt(e){if(!e)return"";if(Array.isArray(e)){let n=[];for(let o of e)if(Array.isArray(o))n.push(...pt(o));else{let u=pt(o);u!==""&&n.push(u)}return n}return e.type===q?{...e,breakContents:pt(e.breakContents),flatContents:pt(e.flatContents)}:e.type===Et?{...e,contents:pt(e.contents),expandedStates:e.expandedStates?.map(pt)}:e.type===mt?{type:"fill",parts:e.parts.map(pt)}:e.contents?{...e,contents:pt(e.contents)}:e}function dn(e){let n=Object.create(null),o=new Set;return u(pt(e));function u(h,f,_){if(typeof h=="string")return JSON.stringify(h);if(Array.isArray(h)){let k=h.map(u).filter(Boolean);return k.length===1?k[0]:`[${k.join(", ")}]`}if(h.type===ct){let k=_?.[f+1]?.type===At;return h.literal?k?"literalline":"literallineWithoutBreakParent":h.hard?k?"hardline":"hardlineWithoutBreakParent":h.soft?"softline":"line"}if(h.type===At)return _?.[f-1]?.type===ct&&_[f-1].hard?void 0:"breakParent";if(h.type===Vt)return"trim";if(h.type===wt)return"indent("+u(h.contents)+")";if(h.type===$t)return h.n===Number.NEGATIVE_INFINITY?"dedentToRoot("+u(h.contents)+")":h.n<0?"dedent("+u(h.contents)+")":h.n.type==="root"?"markAsRoot("+u(h.contents)+")":"align("+JSON.stringify(h.n)+", "+u(h.contents)+")";if(h.type===q)return"ifBreak("+u(h.breakContents)+(h.flatContents?", "+u(h.flatContents):"")+(h.groupId?(h.flatContents?"":', ""')+`, { groupId: ${l(h.groupId)} }`:"")+")";if(h.type===Rt){let k=[];h.negate&&k.push("negate: true"),h.groupId&&k.push(`groupId: ${l(h.groupId)}`);let y=k.length>0?`, { ${k.join(", ")} }`:"";return`indentIfBreak(${u(h.contents)}${y})`}if(h.type===Et){let k=[];h.break&&h.break!=="propagated"&&k.push("shouldBreak: true"),h.id&&k.push(`id: ${l(h.id)}`);let y=k.length>0?`, { ${k.join(", ")} }`:"";return h.expandedStates?`conditionalGroup([${h.expandedStates.map(C=>u(C)).join(",")}]${y})`:`group(${u(h.contents)}${y})`}if(h.type===mt)return`fill([${h.parts.map(k=>u(k)).join(", ")}])`;if(h.type===Bt)return"lineSuffix("+u(h.contents)+")";if(h.type===J)return"lineSuffixBoundary";if(h.type===It)return`label(${JSON.stringify(h.label)}, ${u(h.contents)})`;if(h.type===Zt)return"cursor";throw new Error("Unknown doc type "+h.type)}function l(h){if(typeof h!="symbol")return JSON.stringify(String(h));if(h in n)return n[h];let f=h.description||"symbol";for(let _=0;;_++){let k=f+(_>0?` #${_}`:"");if(!o.has(k))return o.add(k),n[h]=`Symbol.for(${JSON.stringify(k)})`}}}var pn=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E-\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED8\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])|\uD83E(?:[\uDD1D\uDEEF]\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF]|[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83E(?:[\uDD1D\uDEEF]\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF]|[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83E(?:[\uDD1D\uDEEF]\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83E(?:[\uDD1D\uDEEF]\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF]|[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])|\uD83E(?:[\uDD1D\uDEEF]\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE]|[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC69\uD83C[\uDFFC-\uDFFF])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF]|\uDEEF\u200D\uD83D\uDC69\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC69\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF]|\uDEEF\u200D\uD83D\uDC69\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC69\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uDEEF\u200D\uD83D\uDC69\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC69\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF]|\uDEEF\u200D\uD83D\uDC69\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC69\uD83C[\uDFFB-\uDFFE])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE]|\uDEEF\u200D\uD83D\uDC69\uD83C[\uDFFB-\uDFFE])))?))?|\uDD75(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3C-\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE8A\uDE8E-\uDEC2\uDEC6\uDEC8\uDECD-\uDEDC\uDEDF-\uDEEA\uDEEF]|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3\uDE70]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3\uDE70]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF]|\uDEEF\u200D\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3\uDE70]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF]|\uDEEF\u200D\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3\uDE70]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF]|\uDEEF\u200D\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3\uDE70]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF]|\uDEEF\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3\uDE70]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF]|\uDEEF\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g;function fa(e){return e===12288||e>=65281&&e<=65376||e>=65504&&e<=65510}function fn(e){return e>=4352&&e<=4447||e===8986||e===8987||e===9001||e===9002||e>=9193&&e<=9196||e===9200||e===9203||e===9725||e===9726||e===9748||e===9749||e>=9776&&e<=9783||e>=9800&&e<=9811||e===9855||e>=9866&&e<=9871||e===9875||e===9889||e===9898||e===9899||e===9917||e===9918||e===9924||e===9925||e===9934||e===9940||e===9962||e===9970||e===9971||e===9973||e===9978||e===9981||e===9989||e===9994||e===9995||e===10024||e===10060||e===10062||e>=10067&&e<=10069||e===10071||e>=10133&&e<=10135||e===10160||e===10175||e===11035||e===11036||e===11088||e===11093||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12287||e>=12289&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12591||e>=12593&&e<=12686||e>=12688&&e<=12773||e>=12783&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=94176&&e<=94180||e>=94192&&e<=94198||e>=94208&&e<=101589||e>=101631&&e<=101662||e>=101760&&e<=101874||e>=110576&&e<=110579||e>=110581&&e<=110587||e===110589||e===110590||e>=110592&&e<=110882||e===110898||e>=110928&&e<=110930||e===110933||e>=110948&&e<=110951||e>=110960&&e<=111355||e>=119552&&e<=119638||e>=119648&&e<=119670||e===126980||e===127183||e===127374||e>=127377&&e<=127386||e>=127488&&e<=127490||e>=127504&&e<=127547||e>=127552&&e<=127560||e===127568||e===127569||e>=127584&&e<=127589||e>=127744&&e<=127776||e>=127789&&e<=127797||e>=127799&&e<=127868||e>=127870&&e<=127891||e>=127904&&e<=127946||e>=127951&&e<=127955||e>=127968&&e<=127984||e===127988||e>=127992&&e<=128062||e===128064||e>=128066&&e<=128252||e>=128255&&e<=128317||e>=128331&&e<=128334||e>=128336&&e<=128359||e===128378||e===128405||e===128406||e===128420||e>=128507&&e<=128591||e>=128640&&e<=128709||e===128716||e>=128720&&e<=128722||e>=128725&&e<=128728||e>=128732&&e<=128735||e===128747||e===128748||e>=128756&&e<=128764||e>=128992&&e<=129003||e===129008||e>=129292&&e<=129338||e>=129340&&e<=129349||e>=129351&&e<=129535||e>=129648&&e<=129660||e>=129664&&e<=129674||e>=129678&&e<=129734||e===129736||e>=129741&&e<=129756||e>=129759&&e<=129770||e>=129775&&e<=129784||e>=131072&&e<=196605||e>=196608&&e<=262141}var _n="©®‼⁉™ℹ↔↕↖↗↘↙↩↪⌨⏏⏱⏲⏸⏹⏺▪▫▶◀◻◼☀☁☂☃☄☎☑☘☝☠☢☣☦☪☮☯☸☹☺♀♂♟♠♣♥♦♨♻♾⚒⚔⚕⚖⚗⚙⚛⚜⚠⚧⚰⚱⛈⛏⛑⛓⛩⛱⛷⛸⛹✂✈✉✌✍✏✒✔✖✝✡✳✴❄❇❣❤➡⤴⤵⬅⬆⬇",Dn=/[^\x20-\x7F]/u,kn=new Set(_n);function En(e){if(!e)return 0;if(!Dn.test(e))return e.length;e=e.replace(pn(),o=>kn.has(o)?" ":"  ");let n=0;for(let o of e){let u=o.codePointAt(0);u<=31||u>=127&&u<=159||u>=768&&u<=879||u>=65024&&u<=65039||(n+=fa(u)||fn(u)?2:1)}return n}var Je=En,_a={type:0},mn={type:1},Ns={value:"",length:0,queue:[],get root(){return Ns}};function Tn(e,n,o){let u=n.type===1?e.queue.slice(0,-1):[...e.queue,n],l="",h=0,f=0,_=0;for(let N of u)switch(N.type){case 0:C(),o.useTabs?k(1):y(o.tabWidth);break;case 3:{let{string:S}=N;C(),l+=S,h+=S.length;break}case 2:{let{width:S}=N;f+=1,_+=S;break}default:throw new Error(`Unexpected indent comment '${N.type}'.`)}return A(),{...e,value:l,length:h,queue:u};function k(N){l+="	".repeat(N),h+=o.tabWidth*N}function y(N){l+=" ".repeat(N),h+=N}function C(){o.useTabs?b():A()}function b(){f>0&&k(f),g()}function A(){_>0&&y(_),g()}function g(){f=0,_=0}}function yn(e,n,o){if(!n)return e;if(n.type==="root")return{...e,root:e};if(n===Number.NEGATIVE_INFINITY)return e.root;let u;return typeof n=="number"?n<0?u=mn:u={type:2,width:n}:u={type:3,string:n},Tn(e,u,o)}function xn(e,n){return Tn(e,_a,n)}function Da(e){let n=0;for(let o=e.length-1;o>=0;o--){let u=e[o];if(u===" "||u==="	")n++;else break}return n}function Ss(e){let n=Da(e);return{text:n===0?e:e.slice(0,e.length-n),count:n}}var Dt=Symbol("MODE_BREAK"),Lt=Symbol("MODE_FLAT"),Ke=Symbol("DOC_FILL_PRINTED_LENGTH");function Xe(e,n,o,u,l,h){if(o===Number.POSITIVE_INFINITY)return!0;let f=n.length,_=!1,k=[e],y="";for(;o>=0;){if(k.length===0){if(f===0)return!0;k.push(n[--f]);continue}let{mode:C,doc:b}=k.pop(),A=te(b);switch(A){case rt:b&&(_&&(y+=" ",o-=1,_=!1),y+=b,o-=Je(b));break;case St:case mt:{let g=A===St?b:b.parts,N=b[Ke]??0;for(let S=g.length-1;S>=N;S--)k.push({mode:C,doc:g[S]});break}case wt:case $t:case Rt:case It:k.push({mode:C,doc:b.contents});break;case Vt:{let{text:g,count:N}=Ss(y);y=g,o+=N;break}case Et:{if(h&&b.break)return!1;let g=b.break?Dt:C,N=b.expandedStates&&g===Dt?at(0,b.expandedStates,-1):b.contents;k.push({mode:g,doc:N});break}case q:{let g=(b.groupId?l[b.groupId]||Lt:C)===Dt?b.breakContents:b.flatContents;g&&k.push({mode:C,doc:g});break}case ct:if(C===Dt||b.hard)return!0;b.soft||(_=!0);break;case Bt:u=!0;break;case J:if(u)return!1;break}}return!1}function Ne(e,n){let o=Object.create(null),u=n.printWidth,l=ms(n.endOfLine),h=0,f=[{indent:Ns,mode:Dt,doc:e}],_="",k=!1,y=[],C=[],b=[],A=[],g=0;for(Xi(e);f.length>0;){let{indent:$,mode:W,doc:P}=f.pop();switch(te(P)){case rt:{let Q=l!==`
`?$e(0,P,`
`,l):P;Q&&(_+=Q,f.length>0&&(h+=Je(Q)));break}case St:for(let Q=P.length-1;Q>=0;Q--)f.push({indent:$,mode:W,doc:P[Q]});break;case Zt:if(C.length>=2)throw new Error("There are too many 'cursor' in doc.");C.push(g+_.length);break;case wt:f.push({indent:xn($,n),mode:W,doc:P.contents});break;case $t:f.push({indent:yn($,P.n,n),mode:W,doc:P.contents});break;case Vt:M();break;case Et:switch(W){case Lt:if(!k){f.push({indent:$,mode:P.break?Dt:Lt,doc:P.contents});break}case Dt:{k=!1;let Q={indent:$,mode:Lt,doc:P.contents},it=u-h,ht=y.length>0;if(!P.break&&Xe(Q,f,it,ht,o))f.push(Q);else if(P.expandedStates){let gt=at(0,P.expandedStates,-1);if(P.break){f.push({indent:$,mode:Dt,doc:gt});break}else for(let Tt=1;Tt<P.expandedStates.length+1;Tt++)if(Tt>=P.expandedStates.length){f.push({indent:$,mode:Dt,doc:gt});break}else{let V=P.expandedStates[Tt],Y={indent:$,mode:Lt,doc:V};if(Xe(Y,f,it,ht,o)){f.push(Y);break}}}else f.push({indent:$,mode:Dt,doc:P.contents});break}}P.id&&(o[P.id]=at(0,f,-1).mode);break;case mt:{let Q=u-h,it=P[Ke]??0,{parts:ht}=P,gt=ht.length-it;if(gt===0)break;let Tt=ht[it+0],V=ht[it+1],Y={indent:$,mode:Lt,doc:Tt},fe={indent:$,mode:Dt,doc:Tt},B=Xe(Y,[],Q,y.length>0,o,!0);if(gt===1){B?f.push(Y):f.push(fe);break}let nt={indent:$,mode:Lt,doc:V},Z={indent:$,mode:Dt,doc:V};if(gt===2){B?f.push(nt,Y):f.push(Z,fe);break}let yt=ht[it+2],_e={indent:$,mode:W,doc:{...P,[Ke]:it+2}},st=Xe({indent:$,mode:Lt,doc:[Tt,V,yt]},[],Q,y.length>0,o,!0);f.push(_e),st?f.push(nt,Y):B?f.push(Z,Y):f.push(Z,fe);break}case q:case Rt:{let Q=P.groupId?o[P.groupId]:W;if(Q===Dt){let it=P.type===q?P.breakContents:P.negate?P.contents:be(P.contents);it&&f.push({indent:$,mode:W,doc:it})}if(Q===Lt){let it=P.type===q?P.flatContents:P.negate?be(P.contents):P.contents;it&&f.push({indent:$,mode:W,doc:it})}break}case Bt:y.push({indent:$,mode:W,doc:P.contents});break;case J:y.length>0&&f.push({indent:$,mode:W,doc:bs});break;case ct:switch(W){case Lt:if(P.hard)k=!0;else{P.soft||(_+=" ",h+=1);break}case Dt:if(y.length>0){f.push({indent:$,mode:W,doc:P},...y.reverse()),y.length=0;break}P.literal?(_+=l,h=0,$.root&&($.root.value&&(_+=$.root.value),h=$.root.length)):(M(),_+=l+$.value,h=$.length);break}break;case It:f.push({indent:$,mode:W,doc:P.contents});break;case At:break;default:throw new ue(P)}f.length===0&&y.length>0&&(f.push(...y.reverse()),y.length=0)}let N=b.join("")+_,S=[...A,...C];if(S.length!==2)return{formatted:N};let H=S[0];return{formatted:N,cursorNodeStart:H,cursorNodeText:N.slice(H,at(0,S,-1))};function M(){let{text:$,count:W}=Ss(_);$&&(b.push($),g+=$.length),_="",h-=W,C.length>0&&(A.push(...C.map(P=>Math.min(P,g))),C.length=0)}}function gn(e,n,o=0){let u=0;for(let l=o;l<e.length;++l)e[l]==="	"?u=u+n-u%n:u++;return u}var Is=gn,Fn=class{constructor(e){this.stack=[e]}get key(){let{stack:e,siblings:n}=this;return at(0,e,n===null?-2:-4)??null}get index(){return this.siblings===null?null:at(0,this.stack,-2)}get node(){return at(0,this.stack,-1)}get parent(){return this.getNode(1)}get grandparent(){return this.getNode(2)}get isInArray(){return this.siblings!==null}get siblings(){let{stack:e}=this,n=at(0,e,-3);return Array.isArray(n)?n:null}get next(){let{siblings:e}=this;return e===null?null:e[this.index+1]}get previous(){let{siblings:e}=this;return e===null?null:e[this.index-1]}get isFirst(){return this.index===0}get isLast(){let{siblings:e,index:n}=this;return e!==null&&n===e.length-1}get isRoot(){return this.stack.length===1}get root(){return this.stack[0]}get ancestors(){return[...this.#t()]}getName(){let{stack:e}=this,{length:n}=e;return n>1?at(0,e,-2):null}getValue(){return at(0,this.stack,-1)}getNode(e=0){let n=this.#e(e);return n===-1?null:this.stack[n]}getParentNode(e=0){return this.getNode(e+1)}#e(e){let{stack:n}=this;for(let o=n.length-1;o>=0;o-=2)if(!Array.isArray(n[o])&&--e<0)return o;return-1}call(e,...n){let{stack:o}=this,{length:u}=o,l=at(0,o,-1);for(let h of n)l=l?.[h],o.push(h,l);try{return e(this)}finally{o.length=u}}callParent(e,n=0){let o=this.#e(n+1),u=this.stack.splice(o+1);try{return e(this)}finally{this.stack.push(...u)}}each(e,...n){let{stack:o}=this,{length:u}=o,l=at(0,o,-1);for(let h of n)l=l[h],o.push(h,l);try{for(let h=0;h<l.length;++h)o.push(h,l[h]),e(this,h,l),o.length-=2}finally{o.length=u}}map(e,...n){let o=[];return this.each((u,l,h)=>{o[l]=e(u,l,h)},...n),o}match(...e){let n=this.stack.length-1,o=null,u=this.stack[n--];for(let l of e){if(u===void 0)return!1;let h=null;if(typeof o=="number"&&(h=o,o=this.stack[n--],u=this.stack[n--]),l&&!l(u,o,h))return!1;o=this.stack[n--],u=this.stack[n--]}return!0}findAncestor(e){for(let n of this.#t())if(e(n))return n}hasAncestor(e){for(let n of this.#t())if(e(n))return!0;return!1}*#t(){let{stack:e}=this;for(let n=e.length-3;n>=0;n-=2){let o=e[n];Array.isArray(o)||(yield o)}}},Cn=Fn;function ka(e){return e!==null&&typeof e=="object"}var qe=ka;function Te(e){return(n,o,u)=>{let l=!!u?.backwards;if(o===!1)return!1;let{length:h}=n,f=o;for(;f>=0&&f<h;){let _=n.charAt(f);if(e instanceof RegExp){if(!e.test(_))return f}else if(!e.includes(_))return f;l?f--:f++}return f===-1||f===h?f:!1}}var Ea=Te(/\s/u),jt=Te(" 	"),Ls=Te(",; 	"),Se=Te(/[^\n\r]/u),An=e=>e===`
`||e==="\r"||e==="\u2028"||e==="\u2029";function bn(e,n,o){let u=!!o?.backwards;if(n===!1)return!1;let l=e.charAt(n);if(u){if(e.charAt(n-1)==="\r"&&l===`
`)return n-2;if(An(l))return n-1}else{if(l==="\r"&&e.charAt(n+1)===`
`)return n+2;if(An(l))return n+1}return n}var ie=bn;function ma(e,n,o={}){let u=jt(e,o.backwards?n-1:n,o),l=ie(e,u,o);return u!==l}var Wt=ma;function Ta(e){return Array.isArray(e)&&e.length>0}var vn=Ta;function*Ie(e,n){let{getVisitorKeys:o,filter:u=()=>!0}=n,l=h=>qe(h)&&u(h);for(let h of o(e)){let f=e[h];if(Array.isArray(f))for(let _ of f)l(_)&&(yield _);else l(f)&&(yield f)}}function*ya(e,n){let o=[e];for(let u=0;u<o.length;u++){let l=o[u];for(let h of Ie(l,n))yield h,o.push(h)}}function Nn(e,n){return Ie(e,n).next().done}function Os(e,n,o){let{cache:u}=o;if(u.has(e))return u.get(e);let{filter:l}=o;if(!l)return[];let h,f=(o.getChildren?.(e,o)??[...Ie(e,{getVisitorKeys:o.getVisitorKeys})]).flatMap(y=>(h??(h=[e,...n]),l(y,h)?[y]:Os(y,h,o))),{locStart:_,locEnd:k}=o;return f.sort((y,C)=>_(y)-_(C)||k(y)-k(C)),u.set(e,f),f}var Sn=Os;function In(e){let n=e.type||e.kind||"(unknown type)",o=String(e.name||e.id&&(typeof e.id=="object"?e.id.name:e.id)||e.key&&(typeof e.key=="object"?e.key.name:e.key)||e.value&&(typeof e.value=="object"?"":String(e.value))||e.operator||"");return o.length>20&&(o=o.slice(0,19)+"…"),n+(o?" "+o:"")}function Ze(e,n){(e.comments??(e.comments=[])).push(n),n.printed=!1,n.nodeDescription=In(e)}function Qt(e,n){n.leading=!0,n.trailing=!1,Ze(e,n)}function le(e,n,o){n.leading=!1,n.trailing=!1,o&&(n.marker=o),Ze(e,n)}function ye(e,n){n.leading=!1,n.trailing=!0,Ze(e,n)}var ws=new WeakMap;function Ln(e,n,o,u,l=[]){let{locStart:h,locEnd:f}=o,_=h(n),k=f(n),y=Sn(e,l,{cache:ws,locStart:h,locEnd:f,getVisitorKeys:o.getVisitorKeys,filter:o.printer.canAttachComment,getChildren:o.printer.getCommentChildNodes}),C,b,A=0,g=y.length;for(;A<g;){let N=A+g>>1,S=y[N],H=h(S),M=f(S);if(H<=_&&k<=M)return Ln(S,n,o,S,[S,...l]);if(M<=_){C=S,A=N+1;continue}if(k<=H){b=S,g=N;continue}throw new Error("Comment location overlaps with node location")}if(u?.type==="TemplateLiteral"){let{quasis:N}=u,S=es(N,n,o);C&&es(N,C,o)!==S&&(C=null),b&&es(N,b,o)!==S&&(b=null)}return{enclosingNode:u,precedingNode:C,followingNode:b}}var ts=()=>!1;function On(e,n){let{comments:o}=e;if(delete e.comments,!vn(o)||!n.printer.canAttachComment)return;let u=[],{printer:{features:{experimental_avoidAstMutation:l},handleComments:h={}},originalText:f}=n,{ownLine:_=ts,endOfLine:k=ts,remaining:y=ts}=h,C=o.map((b,A)=>({...Ln(e,b,n),comment:b,text:f,options:n,ast:e,isLastComment:o.length-1===A}));for(let[b,A]of C.entries()){let{comment:g,precedingNode:N,enclosingNode:S,followingNode:H,text:M,options:$,ast:W,isLastComment:P}=A,Q;if(l?Q=[A]:(g.enclosingNode=S,g.precedingNode=N,g.followingNode=H,Q=[g,M,$,W,P]),Rn(M,$,C,b))g.placement="ownLine",_(...Q)||(H?Qt(H,g):N?ye(N,g):le(S||W,g));else if(Bn(M,$,C,b))g.placement="endOfLine",k(...Q)||(N?ye(N,g):H?Qt(H,g):le(S||W,g));else if(g.placement="remaining",!y(...Q))if(N&&H){let it=u.length;it>0&&u[it-1].followingNode!==H&&Pn(u,$),u.push(A)}else N?ye(N,g):H?Qt(H,g):le(S||W,g)}if(Pn(u,n),!l)for(let b of o)delete b.precedingNode,delete b.enclosingNode,delete b.followingNode}var wn=e=>!/[\S\n\u2028\u2029]/u.test(e);function Rn(e,n,o,u){let{comment:l,precedingNode:h}=o[u],{locStart:f,locEnd:_}=n,k=f(l);if(h)for(let y=u-1;y>=0;y--){let{comment:C,precedingNode:b}=o[y];if(b!==h||!wn(e.slice(_(C),k)))break;k=f(C)}return Wt(e,k,{backwards:!0})}function Bn(e,n,o,u){let{comment:l,followingNode:h}=o[u],{locStart:f,locEnd:_}=n,k=_(l);if(h)for(let y=u+1;y<o.length;y++){let{comment:C,followingNode:b}=o[y];if(b!==h||!wn(e.slice(k,f(C))))break;k=_(C)}return Wt(e,k)}function Pn(e,n){let o=e.length;if(o===0)return;let{precedingNode:u,followingNode:l}=e[0],h=n.locStart(l),f;for(f=o;f>0;--f){let{comment:_,precedingNode:k,followingNode:y}=e[f-1],C=n.originalText.slice(n.locEnd(_),h);if(n.printer.isGap?.(C,n)??/^[\s(]*$/u.test(C))h=n.locStart(_);else break}for(let[_,{comment:k}]of e.entries())_<f?ye(u,k):Qt(l,k);for(let _ of[u,l])_.comments&&_.comments.length>1&&_.comments.sort((k,y)=>n.locStart(k)-n.locStart(y));e.length=0}function es(e,n,o){let u=o.locStart(n)-1;for(let l=1;l<e.length;++l)if(u<o.locStart(e[l]))return l-1;return 0}function Un(e,n){let o=n-1;o=jt(e,o,{backwards:!0}),o=ie(e,o,{backwards:!0}),o=jt(e,o,{backwards:!0});let u=ie(e,o,{backwards:!0});return o!==u}var Rs=Un;function Bs(e,n){let o=e.node;return o.printed=!0,n.printer.printComment(e,n)}function Mn(e,n){let o=e.node,u=[Bs(e,n)],{printer:l,originalText:h,locStart:f,locEnd:_}=n;if(l.isBlockComment?.(o)){let y=Wt(h,_(o))?Wt(h,f(o),{backwards:!0})?Pt:As:" ";u.push(y)}else u.push(Pt);let k=ie(h,jt(h,_(o)));return k!==!1&&Wt(h,k)&&u.push(Pt),u}function xa(e,n,o){let u=e.node,l=Bs(e,n),{printer:h,originalText:f,locStart:_}=n,k=h.isBlockComment?.(u);if(o?.hasLineSuffix&&!o?.isBlock||Wt(f,_(u),{backwards:!0})){let y=Rs(f,_(u));return{doc:ze([Pt,y?Pt:"",l]),isBlock:k,hasLineSuffix:!0}}return!k||o?.hasLineSuffix?{doc:[ze([" ",l]),ve],isBlock:k,hasLineSuffix:!0}:{doc:[" ",l],isBlock:k,hasLineSuffix:!1}}function Hn(e,n){let o=e.node;if(!o)return{};let u=n[Symbol.for("printedComments")];if((o.comments||[]).filter(_=>!u.has(_)).length===0)return{leading:"",trailing:""};let l=[],h=[],f;return e.each(()=>{let _=e.node;if(u?.has(_))return;let{leading:k,trailing:y}=_;k?l.push(Mn(e,n)):y&&(f=xa(e,n,f),h.push(f.doc))},"comments"),{leading:l,trailing:h}}function Gn(e,n,o){let{leading:u,trailing:l}=Hn(e,o);return!u&&!l?n:Ae(n,h=>[u,h,l])}function ga(e){let{[Symbol.for("comments")]:n,[Symbol.for("printedComments")]:o}=e;for(let u of n){if(!u.printed&&!o.has(u))throw new Error('Comment "'+u.value.trim()+'" was not printed. Please report this error!');delete u.printed}}var Ps=class extends Error{name="ConfigError"},Us=class extends Error{name="UndefinedParserError"},Fa={checkIgnorePragma:{category:"Special",type:"boolean",default:!1,description:"Check whether the file's first docblock comment contains '@noprettier' or '@noformat' to determine if it should be formatted.",cliCategory:"Other"},cursorOffset:{category:"Special",type:"int",default:-1,range:{start:-1,end:1/0,step:1},description:"Print (to stderr) where a cursor at the given position would move to after formatting.",cliCategory:"Editor"},endOfLine:{category:"Global",type:"choice",default:"lf",description:"Which end of line characters to apply.",choices:[{value:"lf",description:"Line Feed only (\\n), common on Linux and macOS as well as inside git repos"},{value:"crlf",description:"Carriage Return + Line Feed characters (\\r\\n), common on Windows"},{value:"cr",description:"Carriage Return character only (\\r), used very rarely"},{value:"auto",description:`Maintain existing
(mixed values within one file are normalised by looking at what's used after the first line)`}]},filepath:{category:"Special",type:"path",description:"Specify the input filepath. This will be used to do parser inference.",cliName:"stdin-filepath",cliCategory:"Other",cliDescription:"Path to the file to pretend that stdin comes from."},insertPragma:{category:"Special",type:"boolean",default:!1,description:"Insert @format pragma into file's first docblock comment.",cliCategory:"Other"},parser:{category:"Global",type:"choice",default:void 0,description:"Which parser to use.",exception:e=>typeof e=="string"||typeof e=="function",choices:[{value:"flow",description:"Flow"},{value:"babel",description:"JavaScript"},{value:"babel-flow",description:"Flow"},{value:"babel-ts",description:"TypeScript"},{value:"typescript",description:"TypeScript"},{value:"acorn",description:"JavaScript"},{value:"espree",description:"JavaScript"},{value:"meriyah",description:"JavaScript"},{value:"css",description:"CSS"},{value:"less",description:"Less"},{value:"scss",description:"SCSS"},{value:"json",description:"JSON"},{value:"json5",description:"JSON5"},{value:"jsonc",description:"JSON with Comments"},{value:"json-stringify",description:"JSON.stringify"},{value:"graphql",description:"GraphQL"},{value:"markdown",description:"Markdown"},{value:"mdx",description:"MDX"},{value:"vue",description:"Vue"},{value:"yaml",description:"YAML"},{value:"glimmer",description:"Ember / Handlebars"},{value:"html",description:"HTML"},{value:"angular",description:"Angular"},{value:"lwc",description:"Lightning Web Components"},{value:"mjml",description:"MJML"}]},plugins:{type:"path",array:!0,default:[{value:[]}],category:"Global",description:"Add a plugin. Multiple plugins can be passed as separate `--plugin`s.",exception:e=>typeof e=="string"||typeof e=="object",cliName:"plugin",cliCategory:"Config"},printWidth:{category:"Global",type:"int",default:80,description:"The line length where Prettier will try wrap.",range:{start:0,end:1/0,step:1}},rangeEnd:{category:"Special",type:"int",default:1/0,range:{start:0,end:1/0,step:1},description:`Format code ending at a given character offset (exclusive).
The range will extend forwards to the end of the selected statement.`,cliCategory:"Editor"},rangeStart:{category:"Special",type:"int",default:0,range:{start:0,end:1/0,step:1},description:`Format code starting at a given character offset.
The range will extend backwards to the start of the first line containing the selected statement.`,cliCategory:"Editor"},requirePragma:{category:"Special",type:"boolean",default:!1,description:"Require either '@prettier' or '@format' to be present in the file's first docblock comment in order for it to be formatted.",cliCategory:"Other"},tabWidth:{type:"int",category:"Global",default:2,description:"Number of spaces per indentation level.",range:{start:0,end:1/0,step:1}},useTabs:{category:"Global",type:"boolean",default:!1,description:"Indent with tabs instead of spaces."},embeddedLanguageFormatting:{category:"Global",type:"choice",default:"auto",description:"Control how Prettier formats quoted code embedded in the file.",choices:[{value:"auto",description:"Format embedded code if Prettier can automatically identify it."},{value:"off",description:"Never automatically format embedded code."}]}};function Ms({plugins:e=[],showDeprecated:n=!1}={}){let o=e.flatMap(l=>l.languages??[]),u=[];for(let l of Ca(Object.assign({},...e.map(({options:h})=>h),Fa)))!n&&l.deprecated||(Array.isArray(l.choices)&&(n||(l.choices=l.choices.filter(h=>!h.deprecated)),l.name==="parser"&&(l.choices=[...l.choices,...$n(l.choices,o,e)])),l.pluginDefaults=Object.fromEntries(e.filter(h=>h.defaultOptions?.[l.name]!==void 0).map(h=>[h.name,h.defaultOptions[l.name]])),u.push(l));return{languages:o,options:u}}function*$n(e,n,o){let u=new Set(e.map(l=>l.value));for(let l of n)if(l.parsers){for(let h of l.parsers)if(!u.has(h)){u.add(h);let f=o.find(k=>k.parsers&&Object.prototype.hasOwnProperty.call(k.parsers,h)),_=l.name;f?.name&&(_+=` (plugin: ${f.name})`),yield{value:h,description:_}}}}function Ca(e){let n=[];for(let[o,u]of Object.entries(e)){let l={name:o,...u};Array.isArray(l.default)&&(l.default=at(0,l.default,-1).value),n.push(l)}return n}var Vn=Array.prototype.toReversed??function(){return[...this].reverse()},Aa=ke("toReversed",function(){if(Array.isArray(this))return Vn}),jn=Aa;function Wn(){let e=globalThis,n=e.Deno?.build?.os;return typeof n=="string"?n==="windows":e.navigator?.platform?.startsWith("Win")??e.process?.platform?.startsWith("win")??!1}var ba=Wn();function Hs(e){if(e=e instanceof URL?e:new URL(e),e.protocol!=="file:")throw new TypeError(`URL must be a file URL: received "${e.protocol}"`);return e}function Qn(e){return e=Hs(e),decodeURIComponent(e.pathname.replace(/%(?![0-9A-Fa-f]{2})/g,"%25"))}function Yn(e){e=Hs(e);let n=decodeURIComponent(e.pathname.replace(/\//g,"\\").replace(/%(?![0-9A-Fa-f]{2})/g,"%25")).replace(/^\\*([A-Za-z]:)(\\|$)/,"$1\\");return e.hostname!==""&&(n=`\\\\${e.hostname}${n}`),n}function zn(e){return ba?Yn(e):Qn(e)}var Jn=e=>String(e).split(/[/\\]/u).pop(),va=e=>String(e).startsWith("file:");function Gs(e,n){if(!n)return;let o=Jn(n).toLowerCase();return e.find(({filenames:u})=>u?.some(l=>l.toLowerCase()===o))??e.find(({extensions:u})=>u?.some(l=>o.endsWith(l)))}function Kn(e,n){if(n)return e.find(({name:o})=>o.toLowerCase()===n)??e.find(({aliases:o})=>o?.includes(n))??e.find(({extensions:o})=>o?.includes(`.${n}`))}var Na=void 0;function $s(e,n){if(n){if(va(n))try{n=zn(n)}catch{return}if(typeof n=="string")return e.find(({isSupported:o})=>o?.({filepath:n}))}}function Xn(e,n){let o=jn(0,e.plugins).flatMap(u=>u.languages??[]);return(Kn(o,n.language)??Gs(o,n.physicalFile)??Gs(o,n.file)??$s(o,n.physicalFile)??$s(o,n.file)??Na?.(o,n.physicalFile))?.parsers[0]}var qn=Xn,ce={key:e=>/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(e)?e:JSON.stringify(e),value(e){if(e===null||typeof e!="object")return JSON.stringify(e);if(Array.isArray(e))return`[${e.map(o=>ce.value(o)).join(", ")}]`;let n=Object.keys(e);return n.length===0?"{}":`{ ${n.map(o=>`${ce.key(o)}: ${ce.value(e[o])}`).join(", ")} }`},pair:({key:e,value:n})=>ce.value({[e]:n})},ss=new Proxy(String,{get:()=>ss}),Yt=ss,Zn=()=>ss,tr=(e,n,{descriptor:o})=>{let u=[`${Yt.yellow(typeof e=="string"?o.key(e):o.pair(e))} is deprecated`];return n&&u.push(`we now treat it as ${Yt.blue(typeof n=="string"?o.key(n):o.pair(n))}`),u.join("; ")+"."},er=Symbol.for("vnopts.VALUE_NOT_EXIST"),Le=Symbol.for("vnopts.VALUE_UNCHANGED"),Vs=" ".repeat(2),Sa=(e,n,o)=>{let{text:u,list:l}=o.normalizeExpectedResult(o.schemas[e].expected(o)),h=[];return u&&h.push(js(e,n,u,o.descriptor)),l&&h.push([js(e,n,l.title,o.descriptor)].concat(l.values.map(f=>Ws(f,o.loggerPrintWidth))).join(`
`)),sr(h,o.loggerPrintWidth)};function js(e,n,o,u){return[`Invalid ${Yt.red(u.key(e))} value.`,`Expected ${Yt.blue(o)},`,`but received ${n===er?Yt.gray("nothing"):Yt.red(u.value(n))}.`].join(" ")}function Ws({text:e,list:n},o){let u=[];return e&&u.push(`- ${Yt.blue(e)}`),n&&u.push([`- ${Yt.blue(n.title)}:`].concat(n.values.map(l=>Ws(l,o-Vs.length).replace(/^|\n/g,`$&${Vs}`))).join(`
`)),sr(u,o)}function sr(e,n){if(e.length===1)return e[0];let[o,u]=e,[l,h]=e.map(f=>f.split(`
`,1)[0].length);return l>n&&l>h?u:o}var de=[],is=[];function Qs(e,n,o){if(e===n)return 0;let u=o?.maxDistance,l=e;e.length>n.length&&(e=n,n=l);let h=e.length,f=n.length;for(;h>0&&e.charCodeAt(~-h)===n.charCodeAt(~-f);)h--,f--;let _=0;for(;_<h&&e.charCodeAt(_)===n.charCodeAt(_);)_++;if(h-=_,f-=_,u!==void 0&&f-h>u)return u;if(h===0)return u!==void 0&&f>u?u:f;let k,y,C,b,A=0,g=0;for(;A<h;)is[A]=e.charCodeAt(_+A),de[A]=++A;for(;g<f;){for(k=n.charCodeAt(_+g),C=g++,y=g,A=0;A<h;A++)b=k===is[A]?C:C+1,C=de[A],y=de[A]=C>y?b>y?y+1:b:b>C?C+1:b;if(u!==void 0){let N=y;for(A=0;A<h;A++)de[A]<N&&(N=de[A]);if(N>u)return u}}return de.length=h,is.length=h,u!==void 0&&y>u?u:y}function ir(e,n,o){if(!Array.isArray(n)||n.length===0)return;let u=o?.maxDistance,l=e.length;for(let k of n)if(k===e)return k;let h,f=Number.POSITIVE_INFINITY,_=new Set;for(let k of n){if(_.has(k))continue;_.add(k);let y=Math.abs(k.length-l);if(y>=f||y>u)continue;let C=Number.isFinite(f)?Math.min(f,u):u,b=C===void 0?Qs(e,k):Qs(e,k,{maxDistance:C});if(b>u)continue;let A=b;if(C!==void 0&&b===C&&C===u&&(A=Qs(e,k)),A<f&&(f=A,h=k,f===0))break}if(!(f>u))return h}var Ys=(e,n,{descriptor:o,logger:u,schemas:l})=>{let h=[`Ignored unknown option ${Yt.yellow(o.pair({key:e,value:n}))}.`],f=ir(e,Object.keys(l),{maxDistance:3});f&&h.push(`Did you mean ${Yt.blue(o.key(f))}?`),u.warn(h.join(" "))},Ia=["default","expected","validate","deprecated","forward","redirect","overlap","preprocess","postprocess"];function nr(e,n){let o=new e(n),u=Object.create(o);for(let l of Ia)l in n&&(u[l]=La(n[l],o,zt.prototype[l].length));return u}var zt=class{static create(e){return nr(this,e)}constructor(e){this.name=e.name}default(e){}expected(e){return"nothing"}validate(e,n){return!1}deprecated(e,n){return!1}forward(e,n){}redirect(e,n){}overlap(e,n,o){return e}preprocess(e,n){return e}postprocess(e,n){return Le}};function La(e,n,o){return typeof e=="function"?(...u)=>e(...u.slice(0,o-1),n,...u.slice(o-1)):()=>e}var rr=class extends zt{constructor(e){super(e),this._sourceName=e.sourceName}expected(e){return e.schemas[this._sourceName].expected(e)}validate(e,n){return n.schemas[this._sourceName].validate(e,n)}redirect(e,n){return this._sourceName}},or=class extends zt{expected(){return"anything"}validate(){return!0}},Oa=class extends zt{constructor({valueSchema:e,name:n=e.name,...o}){super({...o,name:n}),this._valueSchema=e}expected(e){let{text:n,list:o}=e.normalizeExpectedResult(this._valueSchema.expected(e));return{text:n&&`an array of ${n}`,list:o&&{title:"an array of the following values",values:[{list:o}]}}}validate(e,n){if(!Array.isArray(e))return!1;let o=[];for(let u of e){let l=n.normalizeValidateResult(this._valueSchema.validate(u,n),u);l!==!0&&o.push(l.value)}return o.length===0?!0:{value:o}}deprecated(e,n){let o=[];for(let u of e){let l=n.normalizeDeprecatedResult(this._valueSchema.deprecated(u,n),u);l!==!1&&o.push(...l.map(({value:h})=>({value:[h]})))}return o}forward(e,n){let o=[];for(let u of e){let l=n.normalizeForwardResult(this._valueSchema.forward(u,n),u);o.push(...l.map(zs))}return o}redirect(e,n){let o=[],u=[];for(let l of e){let h=n.normalizeRedirectResult(this._valueSchema.redirect(l,n),l);"remain"in h&&o.push(h.remain),u.push(...h.redirect.map(zs))}return o.length===0?{redirect:u}:{redirect:u,remain:o}}overlap(e,n){return e.concat(n)}};function zs({from:e,to:n}){return{from:[e],to:n}}var ar=class extends zt{expected(){return"true or false"}validate(e){return typeof e=="boolean"}};function wa(e,n){let o=Object.create(null);for(let u of e){let l=u[n];if(o[l])throw new Error(`Duplicate ${n} ${JSON.stringify(l)}`);o[l]=u}return o}function ur(e,n){let o=new Map;for(let u of e){let l=u[n];if(o.has(l))throw new Error(`Duplicate ${n} ${JSON.stringify(l)}`);o.set(l,u)}return o}function hr(){let e=Object.create(null);return n=>{let o=JSON.stringify(n);return e[o]?!0:(e[o]=!0,!1)}}function Oe(e,n){let o=[],u=[];for(let l of e)n(l)?o.push(l):u.push(l);return[o,u]}function lr(e){return e===Math.floor(e)}function cr(e,n){if(e===n)return 0;let o=typeof e,u=typeof n,l=["undefined","object","boolean","number","string"];return o!==u?l.indexOf(o)-l.indexOf(u):o!=="string"?Number(e)-Number(n):e.localeCompare(n)}function Ra(e){return(...n)=>{let o=e(...n);return typeof o=="string"?new Error(o):o}}function Js(e){return e===void 0?{}:e}function Ks(e){if(typeof e=="string")return{text:e};let{text:n,list:o}=e;return pr((n||o)!==void 0,"Unexpected `expected` result, there should be at least one field."),o?{text:n,list:{title:o.title,values:o.values.map(Ks)}}:{text:n}}function dr(e,n){return e===!0?!0:e===!1?{value:n}:e}function Xs(e,n,o=!1){return e===!1?!1:e===!0?o?!0:[{value:n}]:"value"in e?[e]:e.length===0?!1:e}function qs(e,n){return typeof e=="string"||"key"in e?{from:n,to:e}:"from"in e?{from:e.from,to:e.to}:{from:n,to:e.to}}function Zs(e,n){return e===void 0?[]:Array.isArray(e)?e.map(o=>qs(o,n)):[qs(e,n)]}function ti(e,n){let o=Zs(typeof e=="object"&&"redirect"in e?e.redirect:e,n);return o.length===0?{remain:n,redirect:o}:typeof e=="object"&&"remain"in e?{remain:e.remain,redirect:o}:{redirect:o}}function pr(e,n){if(!e)throw new Error(n)}var Ba=class extends zt{constructor(e){super(e),this._choices=ur(e.choices.map(n=>n&&typeof n=="object"?n:{value:n}),"value")}expected({descriptor:e}){let n=Array.from(this._choices.keys()).map(l=>this._choices.get(l)).filter(({hidden:l})=>!l).map(l=>l.value).sort(cr).map(e.value),o=n.slice(0,-2),u=n.slice(-2);return{text:o.concat(u.join(" or ")).join(", "),list:{title:"one of the following values",values:n}}}validate(e){return this._choices.has(e)}deprecated(e){let n=this._choices.get(e);return n&&n.deprecated?{value:e}:!1}forward(e){let n=this._choices.get(e);return n?n.forward:void 0}redirect(e){let n=this._choices.get(e);return n?n.redirect:void 0}},fr=class extends zt{expected(){return"a number"}validate(e,n){return typeof e=="number"}},_r=class extends fr{expected(){return"an integer"}validate(e,n){return n.normalizeValidateResult(super.validate(e,n),e)===!0&&lr(e)}},Pa=class extends zt{expected(){return"a string"}validate(e){return typeof e=="string"}},xe=ce,Dr=Ys,kr=Sa,we=tr,Ua=class{constructor(e,n){let{logger:o=console,loggerPrintWidth:u=80,descriptor:l=xe,unknown:h=Dr,invalid:f=kr,deprecated:_=we,missing:k=()=>!1,required:y=()=>!1,preprocess:C=A=>A,postprocess:b=()=>Le}=n||{};this._utils={descriptor:l,logger:o||{warn:()=>{}},loggerPrintWidth:u,schemas:wa(e,"name"),normalizeDefaultResult:Js,normalizeExpectedResult:Ks,normalizeDeprecatedResult:Xs,normalizeForwardResult:Zs,normalizeRedirectResult:ti,normalizeValidateResult:dr},this._unknownHandler=h,this._invalidHandler=Ra(f),this._deprecatedHandler=_,this._identifyMissing=(A,g)=>!(A in g)||k(A,g),this._identifyRequired=y,this._preprocess=C,this._postprocess=b,this.cleanHistory()}cleanHistory(){this._hasDeprecationWarned=hr()}normalize(e){let n={},o=[this._preprocess(e,this._utils)],u=()=>{for(;o.length!==0;){let l=o.shift(),h=this._applyNormalization(l,n);o.push(...h)}};u();for(let l of Object.keys(this._utils.schemas)){let h=this._utils.schemas[l];if(!(l in n)){let f=Js(h.default(this._utils));"value"in f&&o.push({[l]:f.value})}}u();for(let l of Object.keys(this._utils.schemas)){if(!(l in n))continue;let h=this._utils.schemas[l],f=n[l],_=h.postprocess(f,this._utils);_!==Le&&(this._applyValidation(_,l,h),n[l]=_)}return this._applyPostprocess(n),this._applyRequiredCheck(n),n}_applyNormalization(e,n){let o=[],{knownKeys:u,unknownKeys:l}=this._partitionOptionKeys(e);for(let h of u){let f=this._utils.schemas[h],_=f.preprocess(e[h],this._utils);this._applyValidation(_,h,f);let k=({from:b,to:A})=>{o.push(typeof A=="string"?{[A]:b}:{[A.key]:A.value})},y=({value:b,redirectTo:A})=>{let g=Xs(f.deprecated(b,this._utils),_,!0);if(g!==!1)if(g===!0)this._hasDeprecationWarned(h)||this._utils.logger.warn(this._deprecatedHandler(h,A,this._utils));else for(let{value:N}of g){let S={key:h,value:N};if(!this._hasDeprecationWarned(S)){let H=typeof A=="string"?{key:A,value:N}:A;this._utils.logger.warn(this._deprecatedHandler(S,H,this._utils))}}};Zs(f.forward(_,this._utils),_).forEach(k);let C=ti(f.redirect(_,this._utils),_);if(C.redirect.forEach(k),"remain"in C){let b=C.remain;n[h]=h in n?f.overlap(n[h],b,this._utils):b,y({value:b})}for(let{from:b,to:A}of C.redirect)y({value:b,redirectTo:A})}for(let h of l){let f=e[h];this._applyUnknownHandler(h,f,n,(_,k)=>{o.push({[_]:k})})}return o}_applyRequiredCheck(e){for(let n of Object.keys(this._utils.schemas))if(this._identifyMissing(n,e)&&this._identifyRequired(n))throw this._invalidHandler(n,er,this._utils)}_partitionOptionKeys(e){let[n,o]=Oe(Object.keys(e).filter(u=>!this._identifyMissing(u,e)),u=>u in this._utils.schemas);return{knownKeys:n,unknownKeys:o}}_applyValidation(e,n,o){let u=dr(o.validate(e,this._utils),e);if(u!==!0)throw this._invalidHandler(n,u.value,this._utils)}_applyUnknownHandler(e,n,o,u){let l=this._unknownHandler(e,n,this._utils);if(l)for(let h of Object.keys(l)){if(this._identifyMissing(h,l))continue;let f=l[h];h in this._utils.schemas?u(h,f):o[h]=f}}_applyPostprocess(e){let n=this._postprocess(e,this._utils);if(n!==Le){if(n.delete)for(let o of n.delete)delete e[o];if(n.override){let{knownKeys:o,unknownKeys:u}=this._partitionOptionKeys(n.override);for(let l of o){let h=n.override[l];this._applyValidation(h,l,this._utils.schemas[l]),e[l]=h}for(let l of u){let h=n.override[l];this._applyUnknownHandler(l,h,e,(f,_)=>{let k=this._utils.schemas[f];this._applyValidation(_,f,k),e[f]=_})}}}}},ns;function Er(e,n,{logger:o=!1,isCLI:u=!1,passThrough:l=!1,FlagSchema:h,descriptor:f}={}){if(u){if(!h)throw new Error("'FlagSchema' option is required.");if(!f)throw new Error("'descriptor' option is required.")}else f=ce;let _=l?Array.isArray(l)?(A,g)=>l.includes(A)?{[A]:g}:void 0:(A,g)=>({[A]:g}):(A,g,N)=>{let{_:S,...H}=N.schemas;return Ys(A,g,{...N,schemas:H})},k=Ma(n,{isCLI:u,FlagSchema:h}),y=new Ua(k,{logger:o,unknown:_,descriptor:f}),C=o!==!1;C&&ns&&(y._hasDeprecationWarned=ns);let b=y.normalize(e);return C&&(ns=y._hasDeprecationWarned),b}function Ma(e,{isCLI:n,FlagSchema:o}){let u=[];n&&u.push(or.create({name:"_"}));for(let l of e)u.push(mr(l,{isCLI:n,optionInfos:e,FlagSchema:o})),l.alias&&n&&u.push(rr.create({name:l.alias,sourceName:l.name}));return u}function mr(e,{isCLI:n,optionInfos:o,FlagSchema:u}){let{name:l}=e,h={name:l},f,_={};switch(e.type){case"int":f=_r,n&&(h.preprocess=Number);break;case"string":f=Pa;break;case"choice":f=Ba,h.choices=e.choices.map(k=>k?.redirect?{...k,redirect:{to:{key:e.name,value:k.redirect}}}:k);break;case"boolean":f=ar;break;case"flag":f=u,h.flags=o.flatMap(k=>[k.alias,k.description&&k.name,k.oppositeDescription&&`no-${k.name}`].filter(Boolean));break;case"path":f=Pa;break;default:throw new Error(`Unexpected type ${e.type}`)}if(e.exception?h.validate=(k,y,C)=>e.exception(k)||y.validate(k,C):h.validate=(k,y,C)=>k===void 0||y.validate(k,C),e.redirect&&(_.redirect=k=>k?{to:typeof e.redirect=="string"?e.redirect:{key:e.redirect.option,value:e.redirect.value}}:void 0),e.deprecated&&(_.deprecated=!0),n&&!e.array){let k=h.preprocess||(y=>y);h.preprocess=(y,C,b)=>C.preprocess(k(Array.isArray(y)?at(0,y,-1):y),b)}return e.array?Oa.create({...n?{preprocess:k=>Array.isArray(k)?k:[k]}:{},..._,valueSchema:f.create(h)}):f.create({...h,..._})}var Tr=Er,Ha=Array.prototype.findLast??function(e){for(let n=this.length-1;n>=0;n--){let o=this[n];if(e(o,n,this))return o}},yr=ke("findLast",function(){if(Array.isArray(this))return Ha}),xr=yr,gr=Symbol.for("PRETTIER_IS_FRONT_MATTER"),Fr=[];function Ga(e){return!!e?.[gr]}var rs=Ga,ei=new Set(["yaml","toml"]),Cr=({node:e})=>rs(e)&&ei.has(e.language);async function Ar(e,n,o,u){let{node:l}=o,{language:h}=l;if(!ei.has(h))return;let f=l.value.trim(),_;if(f){let k=h==="yaml"?h:qn(u,{language:h});if(!k)return;_=f?await e(f,{parser:k}):""}else _=f;return gs([l.startDelimiter,l.explicitLanguage??"",Pt,_,_?Pt:"",l.endDelimiter])}function br(e,n){return Cr({node:e})&&(delete n.end,delete n.raw,delete n.value),n}var $a=br;function vr({node:e}){return e.raw}var Nr=vr,Sr=new Set(["tokens","comments","parent","enclosingNode","precedingNode","followingNode"]),Ir=e=>Object.keys(e).filter(n=>!Sr.has(n));function Lr(e,n){let o=e?u=>e(u,Sr):Ir;return n?new Proxy(o,{apply:(u,l,h)=>rs(h[0])?Fr:Reflect.apply(u,l,h)}):o}var Or=Lr;function si(e,n){if(!n)throw new Error("parserName is required.");let o=xr(0,e,l=>l.parsers&&Object.prototype.hasOwnProperty.call(l.parsers,n));if(o)return o;let u=`Couldn't resolve parser "${n}".`;throw u+=" Plugins must be explicitly added to the standalone bundle.",new Ps(u)}function wr(e,n){if(!n)throw new Error("astFormat is required.");let o=xr(0,e,l=>l.printers&&Object.prototype.hasOwnProperty.call(l.printers,n));if(o)return o;let u=`Couldn't find plugin for AST format "${n}".`;throw u+=" Plugins must be explicitly added to the standalone bundle.",new Ps(u)}function ii({plugins:e,parser:n}){let o=si(e,n);return ni(o,n)}function ni(e,n){let o=e.parsers[n];return typeof o=="function"?o():o}async function Rr(e,n){let o=e.printers[n],u=typeof o=="function"?await o():o;return Br(u)}var ri=new WeakMap;function Br(e){if(ri.has(e))return ri.get(e);let{features:n,getVisitorKeys:o,embed:u,massageAstNode:l,print:h,...f}=e;n=Ur(n);let _=n.experimental_frontMatterSupport;o=Or(o,_.massageAstNode||_.embed||_.print);let k=l;l&&_.massageAstNode&&(k=new Proxy(l,{apply(A,g,N){return $a(...N),Reflect.apply(A,g,N)}}));let y=u;if(u){let A;y=new Proxy(u,{get(g,N,S){return N==="getVisitorKeys"?(A??(A=u.getVisitorKeys?Or(u.getVisitorKeys,_.massageAstNode||_.embed):o),A):Reflect.get(g,N,S)},apply:(g,N,S)=>_.embed&&Cr(...S)?Ar:Reflect.apply(g,N,S)})}let C=h;_.print&&(C=new Proxy(h,{apply(A,g,N){let[S]=N;return rs(S.node)?Nr(S):Reflect.apply(A,g,N)}}));let b={features:n,getVisitorKeys:o,embed:y,massageAstNode:k,print:C,...f};return ri.set(e,b),b}var Pr=["clean","embed","print"],Iu=Object.fromEntries(Pr.map(e=>[e,!1]));function Va(e){return{...Iu,...e}}function Ur(e){return{experimental_avoidAstMutation:!1,...e,experimental_frontMatterSupport:Va(e?.experimental_frontMatterSupport)}}var oi={astFormat:"estree",printer:{},originalText:void 0,locStart:null,locEnd:null,getVisitorKeys:null};async function ja(e,n={}){let o={...e};if(!o.parser)if(o.filepath){if(o.parser=qn(o,{physicalFile:o.filepath}),!o.parser)throw new Us(`No parser could be inferred for file "${o.filepath}".`)}else throw new Us("No parser and no file path given, couldn't infer a parser.");let u=Ms({plugins:e.plugins,showDeprecated:!0}).options,l={...oi,...Object.fromEntries(u.filter(b=>b.default!==void 0).map(b=>[b.name,b.default]))},h=si(o.plugins,o.parser),f=await ni(h,o.parser);o.astFormat=f.astFormat,o.locEnd=f.locEnd,o.locStart=f.locStart;let _=h.printers?.[f.astFormat]?h:wr(o.plugins,f.astFormat),k=await Rr(_,f.astFormat);o.printer=k,o.getVisitorKeys=k.getVisitorKeys;let y=_.defaultOptions?Object.fromEntries(Object.entries(_.defaultOptions).filter(([,b])=>b!==void 0)):{},C={...l,...y};for(let[b,A]of Object.entries(C))(o[b]===null||o[b]===void 0)&&(o[b]=A);return o.parser==="json"&&(o.trailingComma="none"),Tr(o,u,{passThrough:Object.keys(oi),...n})}var pe=ja;jo(Qo());var ai={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"],strictBind:["eval","arguments"]};new Set(ai.keyword),new Set(ai.strict),new Set(ai.strictBind);var Re=(e,n)=>o=>e(n(o));function ui(e){return{keyword:e.cyan,capitalized:e.yellow,jsxIdentifier:e.yellow,punctuator:e.yellow,number:e.magenta,string:e.green,regex:e.magenta,comment:e.gray,invalid:Re(Re(e.white,e.bgRed),e.bold),gutter:e.gray,marker:Re(e.red,e.bold),message:Re(e.red,e.bold),reset:e.reset}}ui(Zn()),ui(Zn());function Wa(){return new Proxy({},{get:()=>e=>e})}var hi=/\r\n|[\n\r\u2028\u2029]/;function Mr(e,n,o){let u=Object.assign({column:0,line:-1},e.start),l=Object.assign({},u,e.end),{linesAbove:h=2,linesBelow:f=3}=o||{},_=u.line,k=u.column,y=l.line,C=l.column,b=Math.max(_-(h+1),0),A=Math.min(n.length,y+f);_===-1&&(b=0),y===-1&&(A=n.length);let g=y-_,N={};if(g)for(let S=0;S<=g;S++){let H=S+_;if(!k)N[H]=!0;else if(S===0){let M=n[H-1].length;N[H]=[k,M-k+1]}else if(S===g)N[H]=[0,C];else{let M=n[H-S].length;N[H]=[0,M]}}else k===C?k?N[_]=[k,0]:N[_]=!0:N[_]=[k,C-k];return{start:b,end:A,markerLines:N}}function Qa(e,n,o={}){let u=Wa(),l=e.split(hi),{start:h,end:f,markerLines:_}=Mr(n,l,o),k=n.start&&typeof n.start.column=="number",y=String(f).length,C=e.split(hi,f).slice(h,f).map((b,A)=>{let g=h+1+A,N=` ${` ${g}`.slice(-y)} |`,S=_[g],H=!_[g+1];if(S){let M="";if(Array.isArray(S)){let $=b.slice(0,Math.max(S[0]-1,0)).replace(/[^\t]/g," "),W=S[1]||1;M=[`
 `,u.gutter(N.replace(/\d/g," "))," ",$,u.marker("^").repeat(W)].join(""),H&&o.message&&(M+=" "+u.message(o.message))}return[u.marker(">"),u.gutter(N),b.length>0?` ${b}`:"",M].join("")}else return` ${u.gutter(N)}${b.length>0?` ${b}`:""}`}).join(`
`);return o.message&&!k&&(C=`${" ".repeat(y+1)}${o.message}
${C}`),C}async function Hr(e,n){let o=await ii(n),u=o.preprocess?await o.preprocess(e,n):e;n.originalText=u;let l;try{l=await o.parse(u,n,n)}catch(h){Gr(h,e)}return{text:u,ast:l}}function Gr(e,n){let{loc:o}=e;if(o){let u=Qa(n,o,{});throw e.message+=`
`+u,e.codeFrame=u,e}throw e}var Be=Hr;async function $r(e,n,o,u,l){if(o.embeddedLanguageFormatting!=="auto")return;let{printer:h}=o,{embed:f}=h;if(!f)return;if(f.length>2)throw new Error("printer.embed has too many parameters. The API changed in Prettier v3. Please update your plugin. See https://prettier.io/docs/plugins#optional-embed");let{hasPrettierIgnore:_}=h,{getVisitorKeys:k}=f,y=[];A();let C=e.stack;for(let{print:g,node:N,pathStack:S}of y)try{e.stack=S;let H=await g(b,n,e,o);H&&l.set(N,H)}catch(H){if(globalThis.PRETTIER_DEBUG)throw H}e.stack=C;function b(g,N){return Vr(g,N,o,u)}function A(){let{node:g}=e;if(g===null||typeof g!="object"||_?.(e))return;for(let S of k(g))Array.isArray(g[S])?e.each(A,S):e.call(A,S);let N=f(e,o);if(N){if(typeof N=="function"){y.push({print:N,node:g,pathStack:[...e.stack]});return}l.set(g,N)}}}async function Vr(e,n,o,u){let l=await pe({...o,...n,parentParser:o.parser,originalText:e,cursorOffset:void 0,rangeStart:void 0,rangeEnd:void 0},{passThrough:!0}),{ast:h}=await Be(e,l),f=await u(h,l);return xs(f)}function Ya(e,n,o,u){let{originalText:l,[Symbol.for("comments")]:h,locStart:f,locEnd:_,[Symbol.for("printedComments")]:k}=n,{node:y}=e,C=f(y),b=_(y);for(let g of h)f(g)>=C&&_(g)<=b&&k.add(g);let{printPrettierIgnored:A}=n.printer;return A?A(e,n,o,u):l.slice(C,b)}var jr=Ya;async function Pe(e,n){({ast:e}=await Wr(e,n));let o=new Map,u=new Cn(e),l=new Map;await $r(u,f,n,Pe,l);let h=await li(u,n,f,void 0,l);if(ga(n),n.cursorOffset>=0){if(n.nodeAfterCursor&&!n.nodeBeforeCursor)return[se,h];if(n.nodeBeforeCursor&&!n.nodeAfterCursor)return[h,se]}return h;function f(k,y){return k===void 0||k===u?_(y):Array.isArray(k)?u.call(()=>_(y),...k):u.call(()=>_(y),k)}function _(k){let y=u.node;if(y==null)return"";let C=qe(y)&&k===void 0;if(C&&o.has(y))return o.get(y);let b=li(u,n,f,k,l);return C&&o.set(y,b),b}}function li(e,n,o,u,l){let{node:h}=e,{printer:f}=n,_;switch(f.hasPrettierIgnore?.(e)?_=jr(e,n,o,u):l.has(h)?_=l.get(h):_=f.print(e,n,o,u),h){case n.cursorNode:_=Ae(_,k=>[se,k,se]);break;case n.nodeBeforeCursor:_=Ae(_,k=>[k,se]);break;case n.nodeAfterCursor:_=Ae(_,k=>[se,k]);break}return f.printComment&&!f.willPrintOwnComments?.(e,n)&&(_=Gn(e,_,n)),_}async function Wr(e,n){let o=e.comments??[];n[Symbol.for("comments")]=o,n[Symbol.for("printedComments")]=new Set,On(e,n);let{printer:{preprocess:u}}=n;return e=u?await u(e,n):e,{ast:e,comments:o}}function Qr(e,n){let{cursorOffset:o,locStart:u,locEnd:l,getVisitorKeys:h}=n,f=g=>u(g)<=o&&l(g)>=o,_=e,k=[e];for(let g of ya(e,{getVisitorKeys:h,filter:f}))k.push(g),_=g;if(Nn(_,{getVisitorKeys:h}))return{cursorNode:_};let y,C,b=-1,A=Number.POSITIVE_INFINITY;for(;k.length>0&&(y===void 0||C===void 0);){_=k.pop();let g=y!==void 0,N=C!==void 0;for(let S of Ie(_,{getVisitorKeys:h})){if(!g){let H=l(S);H<=o&&H>b&&(y=S,b=H)}if(!N){let H=u(S);H>=o&&H<A&&(C=S,A=H)}}}return{nodeBeforeCursor:y,nodeAfterCursor:C}}var ci=Qr;function za(e,n){let{printer:o}=n,u=o.massageAstNode;if(!u)return e;let{getVisitorKeys:l}=o,{ignoredProperties:h}=u;return f(e);function f(_,k){if(!qe(_))return _;if(Array.isArray(_))return _.map(A=>f(A,k)).filter(Boolean);let y={},C=new Set(l(_));for(let A in _)!Object.prototype.hasOwnProperty.call(_,A)||h?.has(A)||(C.has(A)?y[A]=f(_[A],_):y[A]=_[A]);let b=u(_,y,k);if(b!==null)return b??y}}var Yr=za,zr=Array.prototype.findLastIndex??function(e){for(let n=this.length-1;n>=0;n--){let o=this[n];if(e(o,n,this))return n}return-1},Ja=ke("findLastIndex",function(){if(Array.isArray(this))return zr}),Jr=Ja,Kr=({parser:e})=>e==="json"||e==="json5"||e==="jsonc"||e==="json-stringify";function Lu(e,n){return n=new Set(n),e.find(o=>di.has(o.type)&&n.has(o))}function Xr(e){let n=Jr(0,e,o=>o.type!=="Program"&&o.type!=="File");return n===-1?e:e.slice(0,n+1)}function qr(e,n,{locStart:o,locEnd:u}){let[l,...h]=e,[f,..._]=n;if(l===f)return[l,f];let k=o(l);for(let C of Xr(_))if(o(C)>=k)f=C;else break;let y=u(f);for(let C of Xr(h)){if(u(C)<=y)l=C;else break;if(l===f)break}return[l,f]}function os(e,n,o,u,l=[],h){let{locStart:f,locEnd:_}=o,k=f(e),y=_(e);if(n>y||n<k||h==="rangeEnd"&&n===k||h==="rangeStart"&&n===y)return;let C=[e,...l],b=Sn(e,C,{cache:ws,locStart:f,locEnd:_,getVisitorKeys:o.getVisitorKeys,filter:o.printer.canAttachComment,getChildren:o.printer.getCommentChildNodes});for(let A of b){let g=os(A,n,o,u,C,h);if(g)return g}if(u(e,l[0]))return C}function Ka(e,n){return n!=="DeclareExportDeclaration"&&e!=="TypeParameterDeclaration"&&(e==="Directive"||e==="TypeAlias"||e==="TSExportAssignment"||e.startsWith("Declare")||e.startsWith("TSDeclare")||e.endsWith("Statement")||e.endsWith("Declaration"))}var di=new Set(["JsonRoot","ObjectExpression","ArrayExpression","StringLiteral","NumericLiteral","BooleanLiteral","NullLiteral","UnaryExpression","TemplateLiteral"]),Zr=new Set(["OperationDefinition","FragmentDefinition","VariableDefinition","TypeExtensionDefinition","ObjectTypeDefinition","FieldDefinition","DirectiveDefinition","EnumTypeDefinition","EnumValueDefinition","InputValueDefinition","InputObjectTypeDefinition","SchemaDefinition","OperationTypeDefinition","InterfaceTypeDefinition","UnionTypeDefinition","ScalarTypeDefinition"]);function to(e,n,o){if(!n)return!1;switch(e.parser){case"flow":case"hermes":case"babel":case"babel-flow":case"babel-ts":case"typescript":case"acorn":case"espree":case"meriyah":case"oxc":case"oxc-ts":case"__babel_estree":return Ka(n.type,o?.type);case"json":case"json5":case"jsonc":case"json-stringify":return di.has(n.type);case"graphql":return Zr.has(n.kind);case"vue":return n.tag!=="root"}return!1}function eo(e,n,o){let{rangeStart:u,rangeEnd:l,locStart:h,locEnd:f}=n,_=e.slice(u,l).search(/\S/u),k=_===-1;if(!k)for(u+=_;l>u&&!/\S/u.test(e[l-1]);--l);let y=os(o,u,n,(g,N)=>to(n,g,N),[],"rangeStart");if(!y)return;let C=k?y:os(o,l,n,g=>to(n,g),[],"rangeEnd");if(!C)return;let b,A;if(Kr(n)){let g=Lu(y,C);b=g,A=g}else[b,A]=qr(y,C,n);return[Math.min(h(b),h(A)),Math.max(f(b),f(A))]}var pi="\uFEFF",so=Symbol("cursor");async function fi(e,n,o=0){if(!e||e.trim().length===0)return{formatted:"",cursorOffset:-1,comments:[]};let{ast:u,text:l}=await Be(e,n);n.cursorOffset>=0&&(n={...n,...ci(u,n)});let h=await Pe(u,n);o>0&&(h=rn([Pt,h],o,n.tabWidth));let f=Ne(h,n);if(o>0){let k=f.formatted.trim();f.cursorNodeStart!==void 0&&(f.cursorNodeStart-=f.formatted.indexOf(k),f.cursorNodeStart<0&&(f.cursorNodeStart=0,f.cursorNodeText=f.cursorNodeText.trimStart()),f.cursorNodeStart+f.cursorNodeText.length>k.length&&(f.cursorNodeText=f.cursorNodeText.trimEnd())),f.formatted=k+ms(n.endOfLine)}let _=n[Symbol.for("comments")];if(n.cursorOffset>=0){let k,y,C,b;if((n.cursorNode||n.nodeBeforeCursor||n.nodeAfterCursor)&&f.cursorNodeText)if(C=f.cursorNodeStart,b=f.cursorNodeText,n.cursorNode)k=n.locStart(n.cursorNode),y=l.slice(k,n.locEnd(n.cursorNode));else{if(!n.nodeBeforeCursor&&!n.nodeAfterCursor)throw new Error("Cursor location must contain at least one of cursorNode, nodeBeforeCursor, nodeAfterCursor");k=n.nodeBeforeCursor?n.locEnd(n.nodeBeforeCursor):0;let M=n.nodeAfterCursor?n.locStart(n.nodeAfterCursor):l.length;y=l.slice(k,M)}else k=0,y=l,C=0,b=f.formatted;let A=n.cursorOffset-k;if(y===b)return{formatted:f.formatted,cursorOffset:C+A,comments:_};let g=y.split("");g.splice(A,0,so);let N=b.split(""),S=Mi(g,N),H=C;for(let M of S)if(M.removed){if(M.value.includes(so))break}else H+=M.count;return{formatted:f.formatted,cursorOffset:H,comments:_}}return{formatted:f.formatted,cursorOffset:-1,comments:_}}async function io(e,n){let{ast:o,text:u}=await Be(e,n),[l,h]=eo(u,n,o)??[0,0],f=u.slice(l,h),_=Math.min(l,u.lastIndexOf(`
`,l)+1),k=u.slice(_,l).match(/^\s*/u)[0],y=Is(k,n.tabWidth),C=await fi(f,{...n,rangeStart:0,rangeEnd:Number.POSITIVE_INFINITY,cursorOffset:n.cursorOffset>l&&n.cursorOffset<=h?n.cursorOffset-l:-1,endOfLine:"lf"},y),b=C.formatted.trimEnd(),{cursorOffset:A}=n;A>h?A+=b.length-f.length:C.cursorOffset>=0&&(A=C.cursorOffset+l);let g=u.slice(0,l)+b+u.slice(h);if(n.endOfLine!=="lf"){let N=ms(n.endOfLine);A>=0&&N===`\r
`&&(A+=ji(g.slice(0,A),`
`)),g=$e(0,g,`
`,N)}return{formatted:g,cursorOffset:A,comments:C.comments}}function _i(e,n,o){return typeof n!="number"||Number.isNaN(n)||n<0||n>e.length?o:n}function Di(e,n){let{cursorOffset:o,rangeStart:u,rangeEnd:l}=n;return o=_i(e,o,-1),u=_i(e,u,0),l=_i(e,l,e.length),{...n,cursorOffset:o,rangeStart:u,rangeEnd:l}}function ki(e,n){let{cursorOffset:o,rangeStart:u,rangeEnd:l,endOfLine:h}=Di(e,n),f=e.charAt(0)===pi;if(f&&(e=e.slice(1),o--,u--,l--),h==="auto"&&(h=Vi(e)),e.includes("\r")){let _=k=>ji(e.slice(0,Math.max(k,0)),`\r
`);o-=_(o),u-=_(u),l-=_(l),e=na(e)}return{hasBOM:f,text:e,options:Di(e,{...n,cursorOffset:o,rangeStart:u,rangeEnd:l,endOfLine:h})}}async function Xa(e,n){let o=await ii(n);return!o.hasPragma||o.hasPragma(e)}async function qa(e,n){return(await ii(n)).hasIgnorePragma?.(e)}async function Ei(e,n){let{hasBOM:o,text:u,options:l}=ki(e,await pe(n));if(l.rangeStart>=l.rangeEnd&&u!==""||l.requirePragma&&!await Xa(u,l)||l.checkIgnorePragma&&await qa(u,l))return{formatted:e,cursorOffset:n.cursorOffset,comments:[]};let h;return l.rangeStart>0||l.rangeEnd<u.length?h=await io(u,l):(!l.requirePragma&&l.insertPragma&&l.printer.insertPragma&&!await Xa(u,l)&&(u=l.printer.insertPragma(u)),h=await fi(u,l)),o&&(h.formatted=pi+h.formatted,h.cursorOffset>=0&&h.cursorOffset++),h}async function no(e,n,o){let{text:u,options:l}=ki(e,await pe(n)),h=await Be(u,l);return o&&(o.preprocessForPrint&&(h.ast=await Wr(h.ast,l)),o.massage&&(h.ast=Yr(h.ast,l))),h}async function Za(e,n){n=await pe(n);let o=await Pe(e,n);return Ne(o,n)}async function ro(e,n){let o=dn(e),{formatted:u}=await Ei(o,{...n,parser:"__js_expression"});return u}async function oo(e,n){n=await pe(n);let{ast:o}=await Be(e,n);return n.cursorOffset>=0&&(n={...n,...ci(o,n)}),Pe(o,n)}async function tu(e,n){return Ne(e,await pe(n))}var mi={};ks(mi,{builders:()=>ao,printer:()=>eu,utils:()=>uo});var ao={join:Cs,line:As,softline:un,hardline:Pt,literalline:hn,group:Fs,conditionalGroup:on,fill:ca,lineSuffix:ze,lineSuffixBoundary:ln,cursor:se,breakParent:ve,ifBreak:da,trim:cn,indent:be,indentIfBreak:an,align:he,addAlignmentToDoc:rn,markAsRoot:gs,dedentToRoot:la,dedent:nn,hardlineWithoutBreakParent:bs,literallineWithoutBreakParent:vs,label:pa,concat:e=>e},eu={printDocToString:Ne},uo={willBreak:ha,traverseDoc:je,findInDoc:Qe,mapDoc:We,removeLines:qi,stripTrailingHardline:xs,replaceEndOfLine:en,canBreak:sn},ho="3.8.1",lo={};ks(lo,{addDanglingComment:()=>le,addLeadingComment:()=>Qt,addTrailingComment:()=>ye,getAlignmentSize:()=>Is,getIndentSize:()=>_o,getMaxContinuousCount:()=>ko,getNextNonSpaceNonCommentCharacter:()=>ru,getNextNonSpaceNonCommentCharacterIndex:()=>hu,getPreferredQuote:()=>au,getStringWidth:()=>Je,hasNewline:()=>Wt,hasNewlineInRange:()=>xo,hasSpaces:()=>go,isNextLineEmpty:()=>bo,isNextLineEmptyAfterIndex:()=>hs,isPreviousLineEmpty:()=>Ao,makeString:()=>lu,skip:()=>Te,skipEverythingButNewLine:()=>Se,skipInlineComment:()=>as,skipNewline:()=>ie,skipSpaces:()=>jt,skipToLineEnd:()=>Ls,skipTrailingComment:()=>us,skipWhitespace:()=>Ea});function co(e,n){if(n===!1)return!1;if(e.charAt(n)==="/"&&e.charAt(n+1)==="*"){for(let o=n+2;o<e.length;++o)if(e.charAt(o)==="*"&&e.charAt(o+1)==="/")return o+2}return n}var as=co;function su(e,n){return n===!1?!1:e.charAt(n)==="/"&&e.charAt(n+1)==="/"?Se(e,n):n}var us=su;function po(e,n){let o=null,u=n;for(;u!==o;)o=u,u=jt(e,u),u=as(e,u),u=us(e,u),u=ie(e,u);return u}var Ti=po;function fo(e,n){let o=null,u=n;for(;u!==o;)o=u,u=Ls(e,u),u=as(e,u),u=jt(e,u);return u=us(e,u),u=ie(e,u),u!==!1&&Wt(e,u)}var hs=fo;function iu(e,n){let o=e.lastIndexOf(`
`);return o===-1?0:Is(e.slice(o+1).match(/^[\t ]*/u)[0],n)}var _o=iu;function nu(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Do(e,n){let o=e.matchAll(new RegExp(`(?:${nu(n)})+`,"gu"));return o.reduce||(o=[...o]),o.reduce((u,[l])=>Math.max(u,l.length),0)/n.length}var ko=Do;function Eo(e,n){let o=Ti(e,n);return o===!1?"":e.charAt(o)}var ru=Eo,yi=Object.freeze({character:"'",codePoint:39}),xi=Object.freeze({character:'"',codePoint:34}),ou=Object.freeze({preferred:yi,alternate:xi}),mo=Object.freeze({preferred:xi,alternate:yi});function To(e,n){let{preferred:o,alternate:u}=n===!0||n==="'"?ou:mo,{length:l}=e,h=0,f=0;for(let _=0;_<l;_++){let k=e.charCodeAt(_);k===o.codePoint?h++:k===u.codePoint&&f++}return(h>f?u:o).character}var au=To;function yo(e,n,o){for(let u=n;u<o;++u)if(e.charAt(u)===`
`)return!0;return!1}var xo=yo;function uu(e,n,o={}){return jt(e,o.backwards?n-1:n,o)!==n}var go=uu;function Fo(e,n,o){return Ti(e,o(n))}function hu(e,n){return arguments.length===2||typeof n=="number"?Ti(e,n):Fo(...arguments)}function Co(e,n,o){return Rs(e,o(n))}function Ao(e,n){return arguments.length===2||typeof n=="number"?Rs(e,n):Co(...arguments)}function gi(e,n,o){return hs(e,o(n))}function lu(e,n,o){let u=n==='"'?"'":'"',l=$e(0,e,/\\(.)|(["'])/gsu,(h,f,_)=>f===u?f:_===n?"\\"+_:_||(o&&/^[^\n\r"'0-7\\bfnrt-vx\u2028\u2029]$/u.test(f)?f:"\\"+f));return n+l+n}function bo(e,n){return arguments.length===2||typeof n=="number"?hs(e,n):gi(...arguments)}function ne(e,n=1){return async(...o)=>{let u=o[n]??{},l=u.plugins??[];return o[n]={...u,plugins:Array.isArray(l)?l:Object.values(l)},e(...o)}}var vo=ne(Ei);async function Fi(e,n){let{formatted:o}=await vo(e,{...n,cursorOffset:-1});return o}async function No(e,n){return await Fi(e,n)===e}var cu=ne(Ms,0),So={parse:ne(no),formatAST:ne(Za),formatDoc:ne(ro),printToDoc:ne(oo),printDocToString:ne(tu)};return Wo(Gt)})})(Su)),Su.exports}const il={},nl=Object.freeze(Object.defineProperty({__proto__:null,default:il},Symbol.toStringTag,{value:"Module"})),yh=Zh(nl);var rl=Pi.exports,xh;function ol(){return xh||(xh=1,(function(Ge,Ds){(function(Ft,ut){ut(Ds,sl(),yh,yh)})(rl,(function(Ft,ut,Ct,Mt){function $o(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ht={exports:{}},Vo={attributeIndex:0,attributeListDepth:{},matchST_ATTRIBUTE(){let t=this.input();if(this.is_WHITESPACE()){do t=this.input();while(this.is_WHITESPACE());return this.unput(1),null}switch(t){case"]":return this.attributeListDepth[this.attributeIndex]===0?(delete this.attributeListDepth[this.attributeIndex],this.attributeIndex--,this.popState()):this.attributeListDepth[this.attributeIndex]--,"]";case"(":case")":case":":case"=":case"|":case"&":case"^":case"-":case"+":case"*":case"%":case"~":case"<":case">":case"!":case".":return this.consume_TOKEN();case"[":return this.attributeListDepth[this.attributeIndex]++,"[";case",":return",";case'"':return this.ST_DOUBLE_QUOTES();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case"/":return this._input[this.offset]==="/"?this.T_COMMENT():this._input[this.offset]==="*"?(this.input(),this.T_DOC_COMMENT()):this.consume_TOKEN()}if(this.is_LABEL_START()||t==="\\"){for(;this.offset<this.size;){const s=this.input();if(!this.is_LABEL()&&s!=="\\"){s&&this.unput(1);break}}return this.T_STRING()}if(this.is_NUM())return this.consume_NUM();throw new Error(`Bad terminal sequence "${t}" at line ${this.yylineno} (offset ${this.offset})`)}},ks={T_COMMENT(){for(;this.offset<this.size;){const t=this.input();if(t===`
`||t==="\r")return this.tok.T_COMMENT;if(t==="?"&&!this.aspTagMode&&this._input[this.offset]===">")return this.unput(1),this.tok.T_COMMENT;if(t==="%"&&this.aspTagMode&&this._input[this.offset]===">")return this.unput(1),this.tok.T_COMMENT}return this.tok.T_COMMENT},T_DOC_COMMENT(){let t=this.input(),s=this.tok.T_COMMENT;if(t==="*"){if(t=this.input(),this.is_WHITESPACE()&&(s=this.tok.T_DOC_COMMENT),t==="/")return s;this.unput(1)}for(;this.offset<this.size;)if(t=this.input(),t==="*"&&this._input[this.offset]==="/"){this.input();break}return s}},Ui={nextINITIAL(){return this.conditionStack.length>1&&this.conditionStack[this.conditionStack.length-1]==="INITIAL"?this.popState():this.begin("ST_IN_SCRIPTING"),this},matchINITIAL(){for(;this.offset<this.size;){let t=this.input();if(t=="<"){if(t=this.ahead(1),t=="?"){if(this.tryMatch("?=")){this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}if(this.tryMatchCaseless("?php")&&(t=this._input[this.offset+4],t===" "||t==="	"||t===`
`||t==="\r")){this.unput(1).appendToken(this.tok.T_OPEN_TAG,6).nextINITIAL();break}if(this.short_tags){this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}else if(this.asp_tags&&t=="%"){if(this.tryMatch("%=")){this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}}return this.yytext.length>0&&this.tok.T_INLINE_HTML}},jo={consume_NUM(){let t=this.yytext[0],s=t===".";if(t==="0")if(t=this.input(),t==="x"||t==="X"){if(t=this.input(),t!=="_"&&this.is_HEX())return this.consume_HNUM();this.unput(t?2:1)}else if(t==="b"||t==="B"){if(t=this.input(),t!=="_"&&t==="0"||t==="1")return this.consume_BNUM();this.unput(t?2:1)}else if(t==="o"||t==="O"){if(t=this.input(),t!=="_"&&this.is_OCTAL())return this.consume_ONUM();this.unput(t?2:1)}else this.is_NUM()||t&&this.unput(1);for(;this.offset<this.size;){const i=t;if(t=this.input(),t==="_"){if(i==="_"){this.unput(2);break}if(i==="."){this.unput(1);break}if(i==="e"||i==="E"){this.unput(2);break}}else{if(t==="."){if(s){this.unput(1);break}if(i==="_"){this.unput(2);break}s=!0;continue}if(t==="e"||t==="E"){if(i==="_"){this.unput(1);break}let r=2;if(t=this.input(),t!=="+"&&t!=="-"||(r=3,t=this.input()),this.is_NUM_START())return this.consume_LNUM(),this.tok.T_DNUMBER;this.unput(t?r:r-1);break}}if(!this.is_NUM()){t&&this.unput(1);break}}return s?this.tok.T_DNUMBER:this.yytext.length<9||this.yytext.length<10||this.yytext.length==10&&this.yytext<"2147483648"?this.tok.T_LNUMBER:this.tok.T_DNUMBER},consume_HNUM(){for(;this.offset<this.size;){const t=this.input();if(!this.is_HEX()){t&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_LNUM(){for(;this.offset<this.size;){const t=this.input();if(!this.is_NUM()){t&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_BNUM(){let t;for(;this.offset<this.size;)if(t=this.input(),t!=="0"&&t!=="1"&&t!=="_"){t&&this.unput(1);break}return this.tok.T_LNUMBER},consume_ONUM(){for(;this.offset<this.size;){const t=this.input();if(!this.is_OCTAL()){t&&this.unput(1);break}}return this.tok.T_LNUMBER}},Wo={matchST_LOOKING_FOR_PROPERTY(){let t=this.input();if(t==="-"){if(t=this.input(),t===">")return this.tok.T_OBJECT_OPERATOR;t&&this.unput(1)}else{if(this.is_WHITESPACE())return this.tok.T_WHITESPACE;if(this.is_LABEL_START())return this.consume_LABEL(),this.popState(),this.tok.T_STRING}return this.popState(),t&&this.unput(1),!1},matchST_LOOKING_FOR_VARNAME(){let t=this.input();if(this.popState(),this.begin("ST_IN_SCRIPTING"),this.is_LABEL_START()){if(this.consume_LABEL(),t=this.input(),t==="["||t==="}")return this.unput(1),this.tok.T_STRING_VARNAME;this.unput(this.yytext.length)}else t&&this.unput(1);return!1},matchST_VAR_OFFSET(){const t=this.input();if(this.is_NUM_START())return this.consume_NUM(),this.tok.T_NUM_STRING;if(t==="]")return this.popState(),"]";if(t==="$"){if(this.input(),this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_VARIABLE;throw new Error("Unexpected terminal")}if(this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_STRING;if(this.is_WHITESPACE()||t==="\\"||t==="'"||t==="#")return this.tok.T_ENCAPSED_AND_WHITESPACE;if(t==="["||t==="{"||t==="}"||t==='"'||t==="`"||this.is_TOKEN())return t;throw new Error("Unexpected terminal")}},Qo={matchST_IN_SCRIPTING(){let t=this.input();switch(t){case" ":case"	":case`
`:case"\r":case`\r
`:return this.T_WHITESPACE();case"#":return this.version>=800&&this._input[this.offset]==="["?(this.input(),this.attributeListDepth[++this.attributeIndex]=0,this.begin("ST_ATTRIBUTE"),this.tok.T_ATTRIBUTE):this.T_COMMENT();case"/":return this._input[this.offset]==="/"?this.T_COMMENT():this._input[this.offset]==="*"?(this.input(),this.T_DOC_COMMENT()):this.consume_TOKEN();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case'"':return this.ST_DOUBLE_QUOTES();case"`":return this.begin("ST_BACKQUOTE"),"`";case"?":if(!this.aspTagMode&&this.tryMatch(">")){this.input();const s=this._input[this.offset];return s!==`
`&&s!=="\r"||this.input(),this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG}return this.consume_TOKEN();case"%":return this.aspTagMode&&this._input[this.offset]===">"?(this.input(),t=this._input[this.offset],t!==`
`&&t!=="\r"||this.input(),this.aspTagMode=!1,this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG):this.consume_TOKEN();case"{":return this.begin("ST_IN_SCRIPTING"),"{";case"}":return this.conditionStack.length>2&&this.popState(),"}";default:if(t==="."){if(t=this.input(),this.is_NUM_START())return this.consume_NUM();t&&this.unput(1)}if(this.is_NUM_START())return this.consume_NUM();if(this.is_LABEL_START())return this.consume_LABEL().T_STRING();if(this.is_TOKEN())return this.consume_TOKEN()}throw new Error('Bad terminal sequence "'+t+'" at line '+this.yylineno+" (offset "+this.offset+")")},T_WHITESPACE(){for(;this.offset<this.size;){const t=this.input();if(t!==" "&&t!=="	"&&t!==`
`&&t!=="\r"){t&&this.unput(1);break}}return this.tok.T_WHITESPACE}};const Gt=[`
`,"\r"],ke=[`
`,"\r",";"],Yo=ke.concat(["	"," ",",","]",")","/","=","!","."]);var zo={T_CONSTANT_ENCAPSED_STRING(){let t;for(;this.offset<this.size;)if(t=this.input(),t=="\\")this.input();else if(t=="'")break;return this.tok.T_CONSTANT_ENCAPSED_STRING},is_HEREDOC(){const t=this.offset;if(this._input[this.offset-1]==="<"&&this._input[this.offset]==="<"&&this._input[this.offset+1]==="<"){if(this.offset+=3,this.is_TABSPACE())for(;this.offset<this.size&&(this.offset++,this.is_TABSPACE()););let s=this._input[this.offset-1];if(s==="'"||s==='"'?this.offset++:s=null,this.is_LABEL_START()){let i=this.offset-1;for(;this.offset<this.size&&(this.offset++,this.is_LABEL()););const r=this._input.substring(i,this.offset-1);if((!s||s===this._input[this.offset-1])&&(s&&this.offset++,Gt.includes(this._input[this.offset-1])))return this.heredoc_label.label=r,this.heredoc_label.length=r.length,this.heredoc_label.finished=!1,i=this.offset-t,this.offset=t,this.consume(i),s==="'"?this.begin("ST_NOWDOC"):this.begin("ST_HEREDOC"),this.prematch_ENDOFDOC(),this.tok.T_START_HEREDOC}}return this.offset=t,!1},ST_DOUBLE_QUOTES(){let t;for(;this.offset<this.size;)if(t=this.input(),t=="\\")this.input();else{if(t=='"')break;if(t=="$"){if(t=this.input(),t=="{"||this.is_LABEL_START()){this.unput(2);break}t&&this.unput(1)}else if(t=="{"){if(t=this.input(),t=="$"){this.unput(2);break}t&&this.unput(1)}}if(t=='"')return this.tok.T_CONSTANT_ENCAPSED_STRING;{let s=1;return this.yytext[0]!=="b"&&this.yytext[0]!=="B"||(s=2),this.yytext.length>2&&this.appendToken(this.tok.T_ENCAPSED_AND_WHITESPACE,this.yytext.length-s),this.unput(this.yytext.length-s),this.begin("ST_DOUBLE_QUOTES"),this.yytext}},isDOC_MATCH(t,s){const i=this._input[t-2];if(!Gt.includes(i))return!1;let r=!1,a=!1,c=0,D=this._input[t-1];if(this.version>=703){for(;D==="	"||D===" ";)D===" "?r=!0:D==="	"&&(a=!0),D=this._input[t+c],c++;if(t+=c,Gt.includes(this._input[t-1]))return!1}if(this._input.substring(t-1,t-1+this.heredoc_label.length)===this.heredoc_label.label){const d=this._input[t-1+this.heredoc_label.length];if((this.version>=703?Yo:ke).includes(d)){if(s){if(this.consume(c),r&&a)throw new Error("Parse error:  mixing spaces and tabs in ending marker at line "+this.yylineno+" (offset "+this.offset+")")}else this.heredoc_label.indentation=c,this.heredoc_label.indentation_uses_spaces=r,this.heredoc_label.first_encaps_node=!0;return!0}}return!1},prematch_ENDOFDOC(){this.heredoc_label.indentation_uses_spaces=!1,this.heredoc_label.indentation=0,this.heredoc_label.first_encaps_node=!0;let t=this.offset+1;for(;t<this._input.length;){if(this.isDOC_MATCH(t,!1))return;if(!Gt.includes(this._input[t-1]))for(;!Gt.includes(this._input[t++])&&t<this._input.length;);t++}},matchST_NOWDOC(){if(this.isDOC_MATCH(this.offset,!0))return this.consume(this.heredoc_label.length),this.popState(),this.tok.T_END_HEREDOC;let t=this._input[this.offset-1];for(;this.offset<this.size;)if(Gt.includes(t)){if(t=this.input(),this.isDOC_MATCH(this.offset,!0))return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else t=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_HEREDOC(){let t=this.input();if(this.isDOC_MATCH(this.offset,!0))return this.consume(this.heredoc_label.length-1),this.popState(),this.tok.T_END_HEREDOC;for(;this.offset<this.size;)if(t==="\\"&&(t=this.input(),Gt.includes(t)||(t=this.input())),Gt.includes(t)){if(t=this.input(),this.isDOC_MATCH(this.offset,!0))return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else if(t==="$"){if(t=this.input(),t==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){const s=this.offset,i=this.consume_VARIABLE();return this.yytext.length>this.offset-s+2?(this.appendToken(i,this.offset-s+2),this.unput(this.offset-s+2),this.tok.T_ENCAPSED_AND_WHITESPACE):i}}else if(t==="{"){if(t=this.input(),t==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN)}else t=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},consume_VARIABLE(){this.consume_LABEL();const t=this.input();if(t=="[")return this.unput(1),this.begin("ST_VAR_OFFSET"),this.tok.T_VARIABLE;if(t==="-"){if(this.input()===">")return this.input(),this.is_LABEL_START()&&this.begin("ST_LOOKING_FOR_PROPERTY"),this.unput(3),this.tok.T_VARIABLE;this.unput(2)}else t&&this.unput(1);return this.tok.T_VARIABLE},matchST_BACKQUOTE(){let t=this.input();if(t==="$"){if(t=this.input(),t==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if(t==="{"){if(this._input[this.offset]==="$")return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if(t==="`")return this.popState(),"`";for(;this.offset<this.size;){if(t==="\\")this.input();else{if(t==="`"){this.unput(1),this.popState(),this.appendToken("`",1);break}if(t==="$"){if(t=this.input(),t==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){const s=this.offset,i=this.consume_VARIABLE();return this.yytext.length>this.offset-s+2?(this.appendToken(i,this.offset-s+2),this.unput(this.offset-s+2),this.tok.T_ENCAPSED_AND_WHITESPACE):i}continue}if(t==="{"){if(t=this.input(),t==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);continue}}t=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_DOUBLE_QUOTES(){let t=this.input();if(t==="$"){if(t=this.input(),t==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if(t==="{"){if(this._input[this.offset]==="$")return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if(t==='"')return this.popState(),'"';for(;this.offset<this.size;){if(t==="\\")this.input();else{if(t==='"'){this.unput(1),this.popState(),this.appendToken('"',1);break}if(t==="$"){if(t=this.input(),t==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){const s=this.offset,i=this.consume_VARIABLE();return this.yytext.length>this.offset-s+2?(this.appendToken(i,this.offset-s+2),this.unput(this.offset-s+2),this.tok.T_ENCAPSED_AND_WHITESPACE):i}t&&this.unput(1)}else if(t==="{"){if(t=this.input(),t==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);t&&this.unput(1)}}t=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE}},$e={T_STRING(){const t=this.yytext.toLowerCase();let s=this.keywords[t];if(typeof s!="number"){if(t==="yield")this.version>=700&&this.tryMatch(" from")?(this.consume(5),s=this.tok.T_YIELD_FROM):s=this.tok.T_YIELD;else if(s=this.tok.T_STRING,t==="b"||t==="B"){const i=this.input();if(i==='"')return this.ST_DOUBLE_QUOTES();if(i==="'")return this.T_CONSTANT_ENCAPSED_STRING();i&&this.unput(1)}}if(s===this.tok.T_ENUM){if(this.version<801)return this.tok.T_STRING;const i=this.offset;let r=this.input();for(;r==" ";)r=this.input();let a=!1;if(this.is_LABEL_START()){for(;this.is_LABEL();)r+=this.input();const c=r.slice(0,-1).toLowerCase();a=c!=="extends"&&c!=="implements"}return this.unput(this.offset-i),a?this.tok.T_ENUM:this.tok.T_STRING}if(this.offset<this.size&&s!==this.tok.T_YIELD_FROM){let i=this.input();if(i==="\\"){s=t==="namespace"?this.tok.T_NAME_RELATIVE:this.tok.T_NAME_QUALIFIED;do{if(this._input[this.offset]==="{"){this.input();break}this.consume_LABEL(),i=this.input()}while(i==="\\")}i&&this.unput(1)}return s},consume_TOKEN(){const t=this._input[this.offset-1],s=this.tokenTerminals[t];return s?s.apply(this,[]):this.yytext},tokenTerminals:{$(){return this.offset++,this.is_LABEL_START()?(this.offset--,this.consume_LABEL(),this.tok.T_VARIABLE):(this.offset--,"$")},"-"(){const t=this._input[this.offset];return t===">"?(this.begin("ST_LOOKING_FOR_PROPERTY").input(),this.tok.T_OBJECT_OPERATOR):t==="-"?(this.input(),this.tok.T_DEC):t==="="?(this.input(),this.tok.T_MINUS_EQUAL):"-"},"\\"(){if(this.offset<this.size){if(this.input(),this.is_LABEL_START()){let t;do{if(this._input[this.offset]==="{"){this.input();break}this.consume_LABEL(),t=this.input()}while(t==="\\");return this.unput(1),this.tok.T_NAME_FULLY_QUALIFIED}this.unput(1)}return this.tok.T_NS_SEPARATOR},"/"(){return this._input[this.offset]==="="?(this.input(),this.tok.T_DIV_EQUAL):"/"},":"(){return this._input[this.offset]===":"?(this.input(),this.tok.T_DOUBLE_COLON):":"},"("(){const t=this.offset;if(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),this.is_LABEL_START()){const s=this.yytext.length;this.consume_LABEL();const i=this.yytext.substring(s-1).toLowerCase(),r=this.castKeywords[i];if(typeof r=="number"&&(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),this._input[this.offset-1]===")"))return r}return this.unput(this.offset-t),"("},"="(){const t=this._input[this.offset];return t===">"?(this.input(),this.tok.T_DOUBLE_ARROW):t==="="?this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_IS_IDENTICAL):(this.input(),this.tok.T_IS_EQUAL):"="},"+"(){const t=this._input[this.offset];return t==="+"?(this.input(),this.tok.T_INC):t==="="?(this.input(),this.tok.T_PLUS_EQUAL):"+"},"!"(){return this._input[this.offset]==="="?this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_IS_NOT_IDENTICAL):(this.input(),this.tok.T_IS_NOT_EQUAL):"!"},"?"(){return this.version>=700&&this._input[this.offset]==="?"?this.version>=704&&this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_COALESCE_EQUAL):(this.input(),this.tok.T_COALESCE):this.version>=800&&this._input[this.offset]==="-"&&this._input[this.offset+1]===">"?(this.consume(1),this.begin("ST_LOOKING_FOR_PROPERTY").input(),this.tok.T_NULLSAFE_OBJECT_OPERATOR):"?"},"<"(){let t=this._input[this.offset];return t==="<"?(t=this._input[this.offset+1],t==="="?(this.consume(2),this.tok.T_SL_EQUAL):t==="<"&&this.is_HEREDOC()?this.tok.T_START_HEREDOC:(this.input(),this.tok.T_SL)):t==="="?(this.input(),this.version>=700&&this._input[this.offset]===">"?(this.input(),this.tok.T_SPACESHIP):this.tok.T_IS_SMALLER_OR_EQUAL):t===">"?(this.input(),this.tok.T_IS_NOT_EQUAL):"<"},">"(){let t=this._input[this.offset];return t==="="?(this.input(),this.tok.T_IS_GREATER_OR_EQUAL):t===">"?(t=this._input[this.offset+1],t==="="?(this.consume(2),this.tok.T_SR_EQUAL):(this.input(),this.tok.T_SR)):">"},"*"(){const t=this._input[this.offset];return t==="="?(this.input(),this.tok.T_MUL_EQUAL):t==="*"?(this.input(),this._input[this.offset]==="="?(this.input(),this.tok.T_POW_EQUAL):this.tok.T_POW):"*"},"."(){const t=this._input[this.offset];return t==="="?(this.input(),this.tok.T_CONCAT_EQUAL):t==="."&&this._input[this.offset+1]==="."?(this.consume(2),this.tok.T_ELLIPSIS):"."},"%"(){return this._input[this.offset]==="="?(this.input(),this.tok.T_MOD_EQUAL):"%"},"&"(){const t=this._input[this.offset];return t==="="?(this.input(),this.tok.T_AND_EQUAL):t==="&"?(this.input(),this.tok.T_BOOLEAN_AND):"&"},"|"(){const t=this._input[this.offset];return t==="="?(this.input(),this.tok.T_OR_EQUAL):t==="|"?(this.input(),this.tok.T_BOOLEAN_OR):"|"},"^"(){return this._input[this.offset]==="="?(this.input(),this.tok.T_XOR_EQUAL):"^"}}},Jo={is_NUM(){const t=this._input.charCodeAt(this.offset-1);return t>47&&t<58||t===95},is_NUM_START(){const t=this._input.charCodeAt(this.offset-1);return t>47&&t<58},is_LABEL(){const t=this._input.charCodeAt(this.offset-1);return t>96&&t<123||t>64&&t<91||t===95||t>47&&t<58||t>126},is_LABEL_START(){const t=this._input.charCodeAt(this.offset-1);return t>64&&t<91||t>96&&t<123||t===95||t>126},consume_LABEL(){for(;this.offset<this.size;){const t=this.input();if(!this.is_LABEL()){t&&this.unput(1);break}}return this},is_TOKEN(){const t=this._input[this.offset-1];return";:,.\\[]()|^&+-/*=%!~$<>?@".indexOf(t)!==-1},is_WHITESPACE(){const t=this._input[this.offset-1];return t===" "||t==="	"||t===`
`||t==="\r"},is_TABSPACE(){const t=this._input[this.offset-1];return t===" "||t==="	"},consume_TABSPACE(){for(;this.offset<this.size;){const t=this.input();if(!this.is_TABSPACE()){t&&this.unput(1);break}}return this},is_HEX(){const t=this._input.charCodeAt(this.offset-1);return t>47&&t<58||t>64&&t<71||t>96&&t<103||t===95},is_OCTAL(){const t=this._input.charCodeAt(this.offset-1);return t>47&&t<56||t===95}};const _t=function(t){this.engine=t,this.tok=this.engine.tokens.names,this.EOF=1,this.debug=!1,this.all_tokens=!0,this.comment_tokens=!1,this.mode_eval=!1,this.asp_tags=!1,this.short_tags=!1,this.version=803,this.yyprevcol=0,this.keywords={__class__:this.tok.T_CLASS_C,__trait__:this.tok.T_TRAIT_C,__function__:this.tok.T_FUNC_C,__method__:this.tok.T_METHOD_C,__line__:this.tok.T_LINE,__file__:this.tok.T_FILE,__dir__:this.tok.T_DIR,__namespace__:this.tok.T_NS_C,exit:this.tok.T_EXIT,die:this.tok.T_EXIT,function:this.tok.T_FUNCTION,const:this.tok.T_CONST,return:this.tok.T_RETURN,try:this.tok.T_TRY,catch:this.tok.T_CATCH,finally:this.tok.T_FINALLY,throw:this.tok.T_THROW,if:this.tok.T_IF,elseif:this.tok.T_ELSEIF,endif:this.tok.T_ENDIF,else:this.tok.T_ELSE,while:this.tok.T_WHILE,endwhile:this.tok.T_ENDWHILE,do:this.tok.T_DO,for:this.tok.T_FOR,endfor:this.tok.T_ENDFOR,foreach:this.tok.T_FOREACH,endforeach:this.tok.T_ENDFOREACH,declare:this.tok.T_DECLARE,enddeclare:this.tok.T_ENDDECLARE,instanceof:this.tok.T_INSTANCEOF,as:this.tok.T_AS,switch:this.tok.T_SWITCH,endswitch:this.tok.T_ENDSWITCH,case:this.tok.T_CASE,default:this.tok.T_DEFAULT,break:this.tok.T_BREAK,continue:this.tok.T_CONTINUE,goto:this.tok.T_GOTO,echo:this.tok.T_ECHO,print:this.tok.T_PRINT,class:this.tok.T_CLASS,interface:this.tok.T_INTERFACE,trait:this.tok.T_TRAIT,enum:this.tok.T_ENUM,extends:this.tok.T_EXTENDS,implements:this.tok.T_IMPLEMENTS,new:this.tok.T_NEW,clone:this.tok.T_CLONE,var:this.tok.T_VAR,eval:this.tok.T_EVAL,include:this.tok.T_INCLUDE,include_once:this.tok.T_INCLUDE_ONCE,require:this.tok.T_REQUIRE,require_once:this.tok.T_REQUIRE_ONCE,namespace:this.tok.T_NAMESPACE,use:this.tok.T_USE,insteadof:this.tok.T_INSTEADOF,global:this.tok.T_GLOBAL,isset:this.tok.T_ISSET,empty:this.tok.T_EMPTY,__halt_compiler:this.tok.T_HALT_COMPILER,static:this.tok.T_STATIC,abstract:this.tok.T_ABSTRACT,final:this.tok.T_FINAL,private:this.tok.T_PRIVATE,protected:this.tok.T_PROTECTED,public:this.tok.T_PUBLIC,unset:this.tok.T_UNSET,list:this.tok.T_LIST,array:this.tok.T_ARRAY,callable:this.tok.T_CALLABLE,or:this.tok.T_LOGICAL_OR,and:this.tok.T_LOGICAL_AND,xor:this.tok.T_LOGICAL_XOR,match:this.tok.T_MATCH,readonly:this.tok.T_READ_ONLY},this.castKeywords={int:this.tok.T_INT_CAST,integer:this.tok.T_INT_CAST,real:this.tok.T_DOUBLE_CAST,double:this.tok.T_DOUBLE_CAST,float:this.tok.T_DOUBLE_CAST,string:this.tok.T_STRING_CAST,binary:this.tok.T_STRING_CAST,array:this.tok.T_ARRAY_CAST,object:this.tok.T_OBJECT_CAST,bool:this.tok.T_BOOL_CAST,boolean:this.tok.T_BOOL_CAST,unset:this.tok.T_UNSET_CAST}};_t.prototype.setInput=function(t){return this._input=t,this.size=t.length,this.yylineno=1,this.offset=0,this.yyprevcol=0,this.yytext="",this.yylloc={first_offset:0,first_line:1,first_column:0,prev_offset:0,prev_line:1,prev_column:0,last_line:1,last_column:0},this.tokens=[],this.version>703?this.keywords.fn=this.tok.T_FN:delete this.keywords.fn,this.done=this.offset>=this.size,!this.all_tokens&&this.mode_eval?(this.conditionStack=["INITIAL"],this.begin("ST_IN_SCRIPTING")):(this.conditionStack=[],this.begin("INITIAL")),this.heredoc_label={label:"",length:0,indentation:0,indentation_uses_spaces:!1,finished:!1,first_encaps_node:!1,toString(){this.label}},this},_t.prototype.input=function(){const t=this._input[this.offset];return t?(this.yytext+=t,this.offset++,t==="\r"&&this._input[this.offset]===`
`&&(this.yytext+=`
`,this.offset++),t===`
`||t==="\r"?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++,t):""},_t.prototype.unput=function(t){if(t===1)this.offset--,this._input[this.offset]===`
`&&this._input[this.offset-1]==="\r"&&(this.offset--,t++),this._input[this.offset]==="\r"||this._input[this.offset]===`
`?(this.yylloc.last_line--,this.yylineno--,this.yylloc.last_column=this.yyprevcol):this.yylloc.last_column--,this.yytext=this.yytext.substring(0,this.yytext.length-t);else if(t>0)if(this.offset-=t,t<this.yytext.length){this.yytext=this.yytext.substring(0,this.yytext.length-t),this.yylloc.last_line=this.yylloc.first_line,this.yylloc.last_column=this.yyprevcol=this.yylloc.first_column;for(let s=0;s<this.yytext.length;s++){let i=this.yytext[s];i==="\r"?(i=this.yytext[++s],this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0,i!==`
`&&(i==="\r"?this.yylloc.last_line++:this.yylloc.last_column++)):i===`
`?(this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++}this.yylineno=this.yylloc.last_line}else this.yytext="",this.yylloc.last_line=this.yylineno=this.yylloc.first_line,this.yylloc.last_column=this.yylloc.first_column;return this},_t.prototype.tryMatch=function(t){return t===this.ahead(t.length)},_t.prototype.tryMatchCaseless=function(t){return t===this.ahead(t.length).toLowerCase()},_t.prototype.ahead=function(t){let s=this._input.substring(this.offset,this.offset+t);return s[s.length-1]==="\r"&&this._input[this.offset+t+1]===`
`&&(s+=`
`),s},_t.prototype.consume=function(t){for(let s=0;s<t;s++){const i=this._input[this.offset];if(!i)break;this.yytext+=i,this.offset++,i==="\r"&&this._input[this.offset]===`
`&&(this.yytext+=`
`,this.offset++,s++),i===`
`||i==="\r"?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++}return this},_t.prototype.getState=function(){return{yytext:this.yytext,offset:this.offset,yylineno:this.yylineno,yyprevcol:this.yyprevcol,yylloc:{first_offset:this.yylloc.first_offset,first_line:this.yylloc.first_line,first_column:this.yylloc.first_column,last_line:this.yylloc.last_line,last_column:this.yylloc.last_column},heredoc_label:this.heredoc_label}},_t.prototype.setState=function(t){return this.yytext=t.yytext,this.offset=t.offset,this.yylineno=t.yylineno,this.yyprevcol=t.yyprevcol,this.yylloc=t.yylloc,t.heredoc_label&&(this.heredoc_label=t.heredoc_label),this},_t.prototype.appendToken=function(t,s){return this.tokens.push([t,s]),this},_t.prototype.lex=function(){this.yylloc.prev_offset=this.offset,this.yylloc.prev_line=this.yylloc.last_line,this.yylloc.prev_column=this.yylloc.last_column;let t=this.next()||this.lex();if(!this.all_tokens){for(;t===this.tok.T_WHITESPACE||!this.comment_tokens&&(t===this.tok.T_COMMENT||t===this.tok.T_DOC_COMMENT)||t===this.tok.T_OPEN_TAG;)t=this.next()||this.lex();if(t==this.tok.T_OPEN_TAG_WITH_ECHO)return this.tok.T_ECHO;if(t===this.tok.T_CLOSE_TAG)return";"}return this.yylloc.prev_offset||(this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column),t},_t.prototype.begin=function(t){if(this.conditionStack.push(t),this.curCondition=t,this.stateCb=this["match"+t],typeof this.stateCb!="function")throw new Error('Undefined condition state "'+t+'"');return this},_t.prototype.popState=function(){const t=this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0];if(this.curCondition=this.conditionStack[this.conditionStack.length-1],this.stateCb=this["match"+this.curCondition],typeof this.stateCb!="function")throw new Error('Undefined condition state "'+this.curCondition+'"');return t},_t.prototype.next=function(){let t;if(this._input||(this.done=!0),this.yylloc.first_offset=this.offset,this.yylloc.first_line=this.yylloc.last_line,this.yylloc.first_column=this.yylloc.last_column,this.yytext="",this.done)return this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column,this.EOF;if(this.tokens.length>0?(t=this.tokens.shift(),typeof t[1]=="object"?this.setState(t[1]):this.consume(t[1]),t=t[0]):t=this.stateCb.apply(this,[]),this.offset>=this.size&&this.tokens.length===0&&(this.done=!0),this.debug){let s=t;s=typeof s=="number"?this.engine.tokens.values[s]:'"'+s+'"';const i=new Error(s+"	from "+this.yylloc.first_line+","+this.yylloc.first_column+"	 - to "+this.yylloc.last_line+","+this.yylloc.last_column+'	"'+this.yytext+'"');console.error(i.stack)}return t},[Vo,ks,Ui,jo,Wo,Qo,zo,$e,Jo].forEach((function(t){for(const s in t)_t.prototype[s]=t[s]}));var Ko=_t,Mi=function(t,s,i){this.line=t,this.column=s,this.offset=i},Xo={read_array(){let t=null,s=!1;const i=this.node("array");this.token===this.tok.T_ARRAY?(this.next().expect("("),t=")"):(s=!0,t="]");let r=[];return this.next().token!==t&&(r=this.read_array_pair_list(s)),this.expect(t),this.next(),i(s,r)},read_array_pair_list(t){const s=this;return this.read_list((function(){return s.read_array_pair(t)}),",",!0)},read_array_pair(t){if(!t&&this.token===")"||t&&this.token==="]")return;if(this.token===",")return this.node("noop")();const s=this.node("entry");let i=null,r=null,a=!1,c=!1;if(this.token==="&")this.next(),a=!0,r=this.read_variable(!0,!1);else if(this.token===this.tok.T_ELLIPSIS&&this.version>=704)this.next(),this.token==="&"&&this.error(),c=!0,r=this.read_expr();else{const D=this.read_expr();this.token===this.tok.T_DOUBLE_ARROW?(this.next(),i=D,this.token==="&"?(this.next(),a=!0,r=this.read_variable(!0,!1)):r=this.read_expr()):r=D}return s(i,r,a,c)}},qo={read_class_declaration_statement(t){const s=this.node("class"),i=this.read_class_modifiers();if(this.token!==this.tok.T_CLASS)return this.error(this.tok.T_CLASS),this.next(),null;this.next().expect(this.tok.T_STRING);let r=this.node("identifier");const a=this.text();this.next(),r=r(a);const c=this.read_extends_from(),D=this.read_implements_list();this.expect("{");const d=s(r,c,D,this.next().read_class_body(!0,!1),i);return t&&(d.attrGroups=t),d},read_class_modifiers(){const t=this.read_class_modifier({readonly:0,final_or_abstract:0});return[0,0,t.final_or_abstract,t.readonly]},read_class_modifier(t){return this.token===this.tok.T_READ_ONLY?(this.next(),t.readonly=1,t=this.read_class_modifier(t)):t.final_or_abstract===0&&this.token===this.tok.T_ABSTRACT?(this.next(),t.final_or_abstract=1,t=this.read_class_modifier(t)):t.final_or_abstract===0&&this.token===this.tok.T_FINAL&&(this.next(),t.final_or_abstract=2,t=this.read_class_modifier(t)),t},read_class_body(t,s){let i=[],r=[];for(;this.token!==this.EOF&&this.token!=="}";){if(this.token===this.tok.T_COMMENT){i.push(this.read_comment());continue}if(this.token===this.tok.T_DOC_COMMENT){i.push(this.read_doc_comment());continue}if(this.token===this.tok.T_USE){i=i.concat(this.read_trait_use_statement());continue}if(s&&this.token===this.tok.T_CASE){const D=this.read_enum_case();this.expect(";")&&this.next(),i=i.concat(D);continue}this.token===this.tok.T_ATTRIBUTE&&(r=this.read_attr_list());const a=this.position(),c=this.read_member_flags(!1);if(this.token!==this.tok.T_CONST)if(t&&this.token===this.tok.T_VAR&&(this.next().expect(this.tok.T_VARIABLE),c[0]=null,c[1]=0),this.token===this.tok.T_FUNCTION)i.push(this.read_function(!1,c,r,a)),r=[];else if(t&&(this.token===this.tok.T_VARIABLE||this.version>=801&&this.token===this.tok.T_READ_ONLY||this.version>=704&&(this.token==="?"||this.token===this.tok.T_ARRAY||this.token===this.tok.T_CALLABLE||this.token===this.tok.T_NAMESPACE||this.token===this.tok.T_NAME_FULLY_QUALIFIED||this.token===this.tok.T_NAME_QUALIFIED||this.token===this.tok.T_NAME_RELATIVE||this.token===this.tok.T_NS_SEPARATOR||this.token===this.tok.T_STRING))){const D=this.read_variable_list(c,r);r=[],this.expect(";"),this.next(),i=i.concat(D)}else this.error([this.tok.T_CONST,...t?[this.tok.T_VARIABLE]:[],...s?[this.tok.T_CASE]:[],this.tok.T_FUNCTION]),this.next();else{const D=this.read_constant_list(c,r);this.expect(";")&&this.next(),i=i.concat(D)}}return this.expect("}"),this.next(),i},read_variable_list(t,s){const i=this.node("propertystatement"),r=this.read_list((function(){const a=this.node("property");let c=!1;this.token===this.tok.T_READ_ONLY&&(c=!0,this.next());const[D,d]=this.read_optional_type();this.expect(this.tok.T_VARIABLE);let m=this.node("identifier");const E=this.text().substring(1);this.next(),m=m(E);let p=null;return this.expect([",",";","="]),this.token==="="&&(p=this.next().read_expr()),a(m,p,c,D,d,s||[])}),",");return i(null,r,t)},read_constant_list(t,s){this.expect(this.tok.T_CONST)&&this.next();const[i,r]=this.version>=803?this.read_optional_type():[!1,null],a=this.node("classconstant"),c=this.read_list((function(){const D=this.node("constant");let d=null,m=null;if(this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){d=this.node("identifier");const E=this.text();this.next(),d=d(E)}else this.expect("IDENTIFIER");return this.expect("=")&&(m=this.next().read_expr()),D(d,m)}),",");return a(null,c,t,i,r,s||[])},read_member_flags(t){const s=[-1,-1,-1];if(this.is("T_MEMBER_FLAGS")){let i=0,r=0;do{switch(this.token){case this.tok.T_PUBLIC:i=0,r=0;break;case this.tok.T_PROTECTED:i=0,r=1;break;case this.tok.T_PRIVATE:i=0,r=2;break;case this.tok.T_STATIC:i=1,r=1;break;case this.tok.T_ABSTRACT:i=2,r=1;break;case this.tok.T_FINAL:i=2,r=2}t&&(i===0&&r===2?(this.expect([this.tok.T_PUBLIC,this.tok.T_PROTECTED]),r=-1):i===2&&r===1&&(this.error(),r=-1)),s[i]!==-1?this.error():r!==-1&&(s[i]=r)}while(this.next().is("T_MEMBER_FLAGS"))}return s[1]===-1&&(s[1]=0),s[2]===-1&&(s[2]=0),s},read_optional_type(){const t=this.token==="?";if(t&&this.next(),this.peekSkipComments()==="=")return[!1,null];let s=this.read_types();if(t&&!s&&this.raiseError("Expecting a type definition combined with nullable operator"),!t&&!s)return[!1,null];if(this.token==="|"){s=[s];do{this.next();const i=this.read_type();if(!i){this.raiseError("Expecting a type definition");break}s.push(i)}while(this.token==="|")}return[t,s]},peekSkipComments(){const t=this.lexer.getState();let s;do s=this.lexer.lex();while(s===this.tok.T_COMMENT||s===this.tok.T_WHITESPACE);return this.lexer.setState(t),s},read_interface_declaration_statement(t){const s=this.node("interface");if(this.token!==this.tok.T_INTERFACE)return this.error(this.tok.T_INTERFACE),this.next(),null;this.next().expect(this.tok.T_STRING);let i=this.node("identifier");const r=this.text();this.next(),i=i(r);const a=this.read_interface_extends_list();return this.expect("{"),s(i,a,this.next().read_interface_body(),t||[])},read_interface_body(){let t=[],s=[];for(;this.token!==this.EOF&&this.token!=="}";){if(this.token===this.tok.T_COMMENT){t.push(this.read_comment());continue}if(this.token===this.tok.T_DOC_COMMENT){t.push(this.read_doc_comment());continue}const i=this.position();s=this.read_attr_list();const r=this.read_member_flags(!0);if(this.token===this.tok.T_CONST){const a=this.read_constant_list(r,s);this.expect(";")&&this.next(),t=t.concat(a),s=[]}else if(this.token===this.tok.T_FUNCTION){const a=this.read_function_declaration(2,r,s,i);a.parseFlags(r),t.push(a),this.expect(";")&&this.next(),s=[]}else this.error([this.tok.T_CONST,this.tok.T_FUNCTION]),this.next()}return this.expect("}")&&this.next(),t},read_trait_declaration_statement(){const t=this.node("trait");if(this.token!==this.tok.T_TRAIT)return this.error(this.tok.T_TRAIT),this.next(),null;this.next().expect(this.tok.T_STRING);let s=this.node("identifier");const i=this.text();return this.next(),s=s(i),this.expect("{"),t(s,this.next().read_class_body(!0,!1))},read_trait_use_statement(){const t=this.node("traituse");this.expect(this.tok.T_USE)&&this.next();const s=[this.read_namespace_name()];let i=null;for(;this.token===",";)s.push(this.next().read_namespace_name());if(this.token==="{"){for(i=[];this.next().token!==this.EOF&&this.token!=="}";)i.push(this.read_trait_use_alias()),this.expect(";");this.expect("}")&&this.next()}else this.expect(";")&&this.next();return t(s,i)},read_trait_use_alias(){const t=this.node();let s,i=null;if(this.is("IDENTIFIER")){s=this.node("identifier");const r=this.text();this.next(),s=s(r)}else if(s=this.read_namespace_name(),this.token===this.tok.T_DOUBLE_COLON)if(this.next(),this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){i=s,s=this.node("identifier");const r=this.text();this.next(),s=s(r)}else this.expect(this.tok.T_STRING);else s=s.name;if(this.token===this.tok.T_INSTEADOF)return t("traitprecedence",i,s,this.next().read_name_list());if(this.token===this.tok.T_AS){let r=null,a=null;if(this.next().is("T_MEMBER_FLAGS")&&(r=this.read_member_flags()),this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){a=this.node("identifier");const c=this.text();this.next(),a=a(c)}else r===!1&&this.expect(this.tok.T_STRING);return t("traitalias",i,s,a,r)}return this.expect([this.tok.T_AS,this.tok.T_INSTEADOF]),t("traitalias",i,s,null,null)}},Hi={read_comment(){const t=this.text();let s=this.ast.prepare(t.substring(0,2)==="/*"?"commentblock":"commentline",null,this);const i=this.lexer.yylloc.first_offset,r=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),s=s(t),s.offset=i,this.prev=r,s},read_doc_comment(){let t=this.ast.prepare("commentblock",null,this);const s=this.lexer.yylloc.first_offset,i=this.text(),r=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),t=t(i),t.offset=s,this.prev=r,t}},Gi={read_expr(t){const s=this.node();if(this.token==="@")return t||(t=this.next().read_expr()),s("silent",t);if(t||(t=this.read_expr_item()),this.token==="|")return s("bin","|",t,this.next().read_expr());if(this.token==="&")return s("bin","&",t,this.next().read_expr());if(this.token==="^")return s("bin","^",t,this.next().read_expr());if(this.token===".")return s("bin",".",t,this.next().read_expr());if(this.token==="+")return s("bin","+",t,this.next().read_expr());if(this.token==="-")return s("bin","-",t,this.next().read_expr());if(this.token==="*")return s("bin","*",t,this.next().read_expr());if(this.token==="/")return s("bin","/",t,this.next().read_expr());if(this.token==="%")return s("bin","%",t,this.next().read_expr());if(this.token===this.tok.T_POW)return s("bin","**",t,this.next().read_expr());if(this.token===this.tok.T_SL)return s("bin","<<",t,this.next().read_expr());if(this.token===this.tok.T_SR)return s("bin",">>",t,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_OR)return s("bin","||",t,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_OR)return s("bin","or",t,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_AND)return s("bin","&&",t,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_AND)return s("bin","and",t,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_XOR)return s("bin","xor",t,this.next().read_expr());if(this.token===this.tok.T_IS_IDENTICAL)return s("bin","===",t,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_IDENTICAL)return s("bin","!==",t,this.next().read_expr());if(this.token===this.tok.T_IS_EQUAL)return s("bin","==",t,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_EQUAL)return s("bin","!=",t,this.next().read_expr());if(this.token==="<")return s("bin","<",t,this.next().read_expr());if(this.token===">")return s("bin",">",t,this.next().read_expr());if(this.token===this.tok.T_IS_SMALLER_OR_EQUAL)return s("bin","<=",t,this.next().read_expr());if(this.token===this.tok.T_IS_GREATER_OR_EQUAL)return s("bin",">=",t,this.next().read_expr());if(this.token===this.tok.T_SPACESHIP)return s("bin","<=>",t,this.next().read_expr());if(this.token===this.tok.T_INSTANCEOF&&(t=s("bin","instanceof",t,this.next().read_class_name_reference()),this.token!==";"&&this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF&&(t=this.read_expr(t))),this.token===this.tok.T_COALESCE)return s("bin","??",t,this.next().read_expr());if(this.token==="?"){let i=null;return this.next().token!==":"&&(i=this.read_expr()),this.expect(":")&&this.next(),s("retif",t,i,this.read_expr())}return s.destroy(t),t},read_expr_cast(t){return this.node("cast")(t,this.text(),this.next().read_expr())},read_isset_variable(){return this.read_expr()},read_isset_variables(){return this.read_function_list(this.read_isset_variable,",")},read_internal_functions_in_yacc(){let t=null;switch(this.token){case this.tok.T_ISSET:{t=this.node("isset"),this.next().expect("(")&&this.next();const s=this.read_isset_variables();this.expect(")")&&this.next(),t=t(s)}break;case this.tok.T_EMPTY:{t=this.node("empty"),this.next().expect("(")&&this.next();const s=this.read_expr();this.expect(")")&&this.next(),t=t(s)}break;case this.tok.T_INCLUDE:t=this.node("include")(!1,!1,this.next().read_expr());break;case this.tok.T_INCLUDE_ONCE:t=this.node("include")(!0,!1,this.next().read_expr());break;case this.tok.T_EVAL:{t=this.node("eval"),this.next().expect("(")&&this.next();const s=this.read_expr();this.expect(")")&&this.next(),t=t(s)}break;case this.tok.T_REQUIRE:t=this.node("include")(!1,!0,this.next().read_expr());break;case this.tok.T_REQUIRE_ONCE:t=this.node("include")(!0,!0,this.next().read_expr())}return t},read_optional_expr(t){return this.token!==t?this.read_expr():null},read_exit_expr(){let t=null;return this.token==="("&&(this.next(),t=this.read_optional_expr(")"),this.expect(")")&&this.next()),t},read_expr_item(){let t,s,i=[];if(this.token==="+")return this.node("unary")("+",this.next().read_expr());if(this.token==="-")return this.node("unary")("-",this.next().read_expr());if(this.token==="!")return this.node("unary")("!",this.next().read_expr());if(this.token==="~")return this.node("unary")("~",this.next().read_expr());if(this.token==="(")return s=this.next().read_expr(),s.parenthesizedExpression=!0,this.expect(")")&&this.next(),this.handleDereferencable(s);if(this.token==="`")return this.read_encapsed_string("`");if(this.token===this.tok.T_LIST){let r=null;const a=this.innerList;t=this.node("list"),a||(r=this.node("assign")),this.next().expect("(")&&this.next(),this.innerList||(this.innerList=!0);const c=this.read_array_pair_list(!1);this.expect(")")&&this.next();let D=!1;for(let d=0;d<c.length;d++)if(c[d]!==null&&c[d].kind!=="noop"){D=!0;break}return D||this.raiseError("Fatal Error :  Cannot use empty list on line "+this.lexer.yylloc.first_line),a?t(c,!1):(this.innerList=!1,this.expect("=")?r(t(c,!1),this.next().read_expr(),"="):t(c,!1))}if(this.token===this.tok.T_ATTRIBUTE&&(i=this.read_attr_list()),this.token===this.tok.T_CLONE)return this.node("clone")(this.next().read_expr());switch(this.token){case this.tok.T_INC:return this.node("pre")("+",this.next().read_variable(!1,!1));case this.tok.T_DEC:return this.node("pre")("-",this.next().read_variable(!1,!1));case this.tok.T_NEW:return s=this.read_new_expr(),this.token===this.tok.T_OBJECT_OPERATOR&&this.version<804&&this.raiseError("New without parenthesis is not allowed before PHP 8.4"),this.handleDereferencable(s);case this.tok.T_ISSET:case this.tok.T_EMPTY:case this.tok.T_INCLUDE:case this.tok.T_INCLUDE_ONCE:case this.tok.T_EVAL:case this.tok.T_REQUIRE:case this.tok.T_REQUIRE_ONCE:return this.read_internal_functions_in_yacc();case this.tok.T_MATCH:return this.read_match_expression();case this.tok.T_INT_CAST:return this.read_expr_cast("int");case this.tok.T_DOUBLE_CAST:return this.read_expr_cast("float");case this.tok.T_STRING_CAST:return this.read_expr_cast(this.text().indexOf("binary")!==-1?"binary":"string");case this.tok.T_ARRAY_CAST:return this.read_expr_cast("array");case this.tok.T_OBJECT_CAST:return this.read_expr_cast("object");case this.tok.T_BOOL_CAST:return this.read_expr_cast("bool");case this.tok.T_UNSET_CAST:return this.read_expr_cast("unset");case this.tok.T_THROW:return this.version<800&&this.raiseError("PHP 8+ is required to use throw as an expression"),this.node("throw")(this.next().read_expr());case this.tok.T_EXIT:{const r=this.lexer.yytext.toLowerCase()==="die";return t=this.node("exit"),this.next(),t(this.read_exit_expr(),r)}case this.tok.T_PRINT:return this.node("print")(this.next().read_expr());case this.tok.T_YIELD:{let r=null,a=null;return t=this.node("yield"),this.next().is("EXPR")&&(r=this.read_expr(),this.token===this.tok.T_DOUBLE_ARROW&&(a=r,r=this.next().read_expr())),t(r,a)}case this.tok.T_YIELD_FROM:return t=this.node("yieldfrom"),s=this.next().read_expr(),t(s);case this.tok.T_FN:case this.tok.T_FUNCTION:return this.read_inline_function(void 0,i);case this.tok.T_STATIC:{const r=[this.token,this.lexer.getState()];if(this.next(),this.token===this.tok.T_FUNCTION||this.version>=704&&this.token===this.tok.T_FN)return this.read_inline_function([0,1,0],i);this.lexer.tokens.push(r),this.next()}}if(this.is("VARIABLE")){t=this.node(),s=this.read_variable(!1,!1);const r=s.kind==="identifier"||s.kind==="staticlookup"&&s.offset.kind==="identifier";switch(this.token){case"=":return r&&this.error("VARIABLE"),this.next().token=="&"?this.read_assignref(t,s):t("assign",s,this.read_expr(),"=");case this.tok.T_PLUS_EQUAL:return r&&this.error("VARIABLE"),t("assign",s,this.next().read_expr(),"+=");case this.tok.T_MINUS_EQUAL:return r&&this.error("VARIABLE"),t("assign",s,this.next().read_expr(),"-=");case this.tok.T_MUL_EQUAL:return r&&this.error("VARIABLE"),t("assign",s,this.next().read_expr(),"*=");case this.tok.T_POW_EQUAL:return r&&this.error("VARIABLE"),t("assign",s,this.next().read_expr(),"**=");case this.tok.T_DIV_EQUAL:return r&&this.error("VARIABLE"),t("assign",s,this.next().read_expr(),"/=");case this.tok.T_CONCAT_EQUAL:return r&&this.error("VARIABLE"),t("assign",s,this.next().read_expr(),".=");case this.tok.T_MOD_EQUAL:return r&&this.error("VARIABLE"),t("assign",s,this.next().read_expr(),"%=");case this.tok.T_AND_EQUAL:return r&&this.error("VARIABLE"),t("assign",s,this.next().read_expr(),"&=");case this.tok.T_OR_EQUAL:return r&&this.error("VARIABLE"),t("assign",s,this.next().read_expr(),"|=");case this.tok.T_XOR_EQUAL:return r&&this.error("VARIABLE"),t("assign",s,this.next().read_expr(),"^=");case this.tok.T_SL_EQUAL:return r&&this.error("VARIABLE"),t("assign",s,this.next().read_expr(),"<<=");case this.tok.T_SR_EQUAL:return r&&this.error("VARIABLE"),t("assign",s,this.next().read_expr(),">>=");case this.tok.T_COALESCE_EQUAL:return r&&this.error("VARIABLE"),t("assign",s,this.next().read_expr(),"??=");case this.tok.T_INC:return r&&this.error("VARIABLE"),this.next(),t("post","+",s);case this.tok.T_DEC:return r&&this.error("VARIABLE"),this.next(),t("post","-",s);default:t.destroy(s)}}else{if(this.is("SCALAR")){if(t=this.node(),s=this.read_scalar(),s.kind==="array"&&s.shortForm&&this.token==="="){const r=this.convertToList(s);return s.loc&&(r.loc=s.loc),t("assign",r,this.next().read_expr(),"=")}return t.destroy(s),this.handleDereferencable(s)}this.error("EXPR"),this.next()}return s},convertToList(t){const s=t.items.map((r=>(r.value&&r.value.kind==="array"&&r.value.shortForm&&(r.value=this.convertToList(r.value)),r))),i=this.node("list")(s,!0);return t.loc&&(i.loc=t.loc),t.leadingComments&&(i.leadingComments=t.leadingComments),t.trailingComments&&(i.trailingComments=t.trailingComments),i},read_assignref(t,s){let i;return this.next(),this.token===this.tok.T_NEW?(this.version>=700&&this.error(),i=this.read_new_expr()):i=this.read_variable(!1,!1),t("assignref",s,i)},read_inline_function(t,s){if(this.token===this.tok.T_FUNCTION){const m=this.read_function(!0,t,s);return m.attrGroups=s,m}!this.version>=704&&this.raiseError("Arrow Functions are not allowed");const i=this.node("arrowfunc");this.expect(this.tok.T_FN)&&this.next();const r=this.is_reference();this.expect("(")&&this.next();const a=this.read_parameter_list();this.expect(")")&&this.next();let c=!1,D=null;this.token===":"&&(this.next().token==="?"&&(c=!0,this.next()),D=this.read_types()),this.expect(this.tok.T_DOUBLE_ARROW)&&this.next();const d=i(a,r,this.read_expr(),D,c,!!t);return d.attrGroups=s,d},read_match_expression(){const t=this.node("match");this.expect(this.tok.T_MATCH)&&this.next(),this.version<800&&this.raiseError("Match statements are not allowed before PHP 8");let s=null,i=[];return this.expect("(")&&this.next(),s=this.read_expr(),this.expect(")")&&this.next(),this.expect("{")&&this.next(),i=this.read_match_arms(),this.expect("}")&&this.next(),t(s,i)},read_match_arms(){return this.read_list((()=>this.read_match_arm()),",",!0)},read_match_arm(){if(this.token!=="}")return this.node("matcharm")(this.read_match_arm_conds(),this.read_expr())},read_match_arm_conds(){let t=[];if(this.token===this.tok.T_DEFAULT)t=null,this.next();else for(t.push(this.read_expr());this.token===",";){if(this.next(),this.token===this.tok.T_DOUBLE_ARROW)return this.next(),t;t.push(this.read_expr())}return this.expect(this.tok.T_DOUBLE_ARROW)&&this.next(),t},read_attribute(){const t=this.text();let s=[];return this.next(),this.token==="("&&(s=this.read_argument_list()),this.node("attribute")(t,s)},read_attr_list(){const t=[];if(this.token===this.tok.T_ATTRIBUTE)do{const s=this.node("attrgroup")([]);for(this.next(),s.attrs.push(this.read_attribute());this.token===",";)this.next(),this.token!=="]"&&s.attrs.push(this.read_attribute());t.push(s),this.expect("]"),this.next()}while(this.token===this.tok.T_ATTRIBUTE);return t},read_new_expr(){const t=this.node("new");this.expect(this.tok.T_NEW)&&this.next();let s=[];if(this.token==="("){this.next();const a=this.read_expr();return this.expect(")"),this.next(),this.token==="("&&(s=this.read_argument_list()),t(a,s)}const i=this.read_attr_list();if(this.token===this.tok.T_CLASS){const a=this.node("class");this.next().token==="("&&(s=this.read_argument_list());const c=this.read_extends_from(),D=this.read_implements_list();let d=null;this.expect("{")&&(d=this.next().read_class_body(!0,!1));const m=a(null,c,D,d,[0,0,0]);return m.attrGroups=i,t(m,s)}let r=this.read_new_class_name();for(;this.token==="[";){const a=this.node("offsetlookup"),c=this.next().read_encaps_var_offset();this.expect("]")&&this.next(),r=a(r,c)}return this.token==="("&&(s=this.read_argument_list()),t(r,s)},read_new_class_name(){if(this.token===this.tok.T_NS_SEPARATOR||this.token===this.tok.T_NAME_RELATIVE||this.token===this.tok.T_NAME_QUALIFIED||this.token===this.tok.T_NAME_FULLY_QUALIFIED||this.token===this.tok.T_STRING||this.token===this.tok.T_NAMESPACE){let t=this.read_namespace_name(!0);return this.token===this.tok.T_DOUBLE_COLON&&(t=this.read_static_getter(t)),t}if(this.is("VARIABLE"))return this.read_variable(!0,!1);this.expect([this.tok.T_STRING,"VARIABLE"])},handleDereferencable(t){for(;this.token!==this.EOF;)if(this.token===this.tok.T_OBJECT_OPERATOR||this.token===this.tok.T_DOUBLE_COLON)t=this.recursive_variable_chain_scan(t,!1,!1,!0);else if(this.token===this.tok.T_CURLY_OPEN||this.token==="[")t=this.read_dereferencable(t);else{if(this.token!=="(")return t;t=this.node("call")(t,this.read_argument_list())}return t}},Zo={read_enum_declaration_statement(t){const s=this.node("enum");if(!this.expect(this.tok.T_ENUM))return null;this.next().expect(this.tok.T_STRING);let i=this.node("identifier");const r=this.text();this.next(),i=i(r);const a=this.read_enum_value_type(),c=this.read_implements_list();this.expect("{");const D=s(i,a,c,this.next().read_class_body(!1,!0));return t&&(D.attrGroups=t),D},read_enum_value_type(){return this.token===":"?this.next().read_namespace_name():null},read_enum_case(){this.expect(this.tok.T_CASE);const t=this.node("enumcase");let s=this.node("identifier");const i=this.next().text();this.next(),s=s(i);const r=this.token==="="?this.next().read_expr():null;return this.expect(";"),t(s,r)}},ta={is_reference(){return this.token==="&"&&(this.next(),!0)},is_variadic(){return this.token===this.tok.T_ELLIPSIS&&(this.next(),!0)},read_function(t,s,i,r){const a=this.read_function_declaration(t?1:s?2:0,s&&s[1]===1,i||[],r);return s&&s[2]==1?(a.parseFlags(s),this.expect(";")&&this.next()):(this.expect("{")&&(a.body=this.read_code_block(!1),a.loc&&a.body.loc&&(a.loc.end=a.body.loc.end)),!t&&s&&a.parseFlags(s)),a},read_function_declaration(t,s,i,r){let a="function";t===1?a="closure":t===2&&(a="method");const c=this.node(a);this.expect(this.tok.T_FUNCTION)&&this.next();const D=this.is_reference();let d=!1,m=[],E=null,p=!1;if(t!==1){const v=this.node("identifier");t===2?this.version>=700?this.token===this.tok.T_STRING||this.is("IDENTIFIER")?(d=this.text(),this.next()):this.version<704&&this.error("IDENTIFIER"):this.token===this.tok.T_STRING?(d=this.text(),this.next()):this.error("IDENTIFIER"):this.version>=700?this.token===this.tok.T_STRING?(d=this.text(),this.next()):this.version>=704?this.expect("(")||this.next():(this.error(this.tok.T_STRING),this.next()):(this.expect(this.tok.T_STRING)&&(d=this.text()),this.next()),d=v(d)}this.expect("(")&&this.next();const T=this.read_parameter_list(d.name==="__construct");return this.expect(")")&&this.next(),t===1&&(m=this.read_lexical_vars()),this.token===":"&&(this.next().token==="?"&&(p=!0,this.next()),E=this.read_types()),(v=>(v.attrGroups=i||[],r&&v.loc&&(v.loc.start=r,v.loc.source&&(v.loc.source=this.lexer._input.substr(v.loc.start.offset,v.loc.end.offset-v.loc.start.offset))),v))(t===1?c(T,D,m,E,p,s):c(d,T,D,E,p))},read_lexical_vars(){let t=[];return this.token===this.tok.T_USE&&(this.next(),this.expect("(")&&this.next(),t=this.read_lexical_var_list(),this.expect(")")&&this.next()),t},read_list_with_dangling_comma(t){const s=[];for(;this.token!=this.EOF;){if(s.push(t()),this.token!=","){if(this.token==")")break;this.error([",",")"]);break}if(this.next(),this.version>=800&&this.token===")")return s}return s},read_lexical_var_list(){return this.read_list_with_dangling_comma(this.read_lexical_var.bind(this))},read_lexical_var(){if(this.token==="&")return this.read_byref(this.read_lexical_var.bind(this));const t=this.node("variable");this.expect(this.tok.T_VARIABLE);const s=this.text().substring(1);return this.next(),t(s,!1)},read_parameter_list(t){if(this.token!==")"){let s=!1;return this.read_list_with_dangling_comma((function(){const i=this.read_parameter(t);return i&&(s&&this.raiseError("Unexpected parameter after a variadic parameter"),i.variadic&&(s=!0)),i}).bind(this),",")}return[]},read_parameter(t){const s=this.node("parameter");let i=null,r=null,a=null,c=!1,D=!1,d=[];this.token===this.tok.T_ATTRIBUTE&&(d=this.read_attr_list()),this.version>=801&&this.token===this.tok.T_READ_ONLY&&(t?(this.next(),D=!0):this.raiseError("readonly properties can be used only on class constructor"));const m=this.read_promoted();!D&&this.version>=801&&this.token===this.tok.T_READ_ONLY&&(t?(this.next(),D=!0):this.raiseError("readonly properties can be used only on class constructor")),this.token==="?"&&(this.next(),c=!0),a=this.read_types(),c&&!a&&this.raiseError("Expecting a type definition combined with nullable operator");const E=this.is_reference(),p=this.is_variadic();if(this.expect(this.tok.T_VARIABLE)){i=this.node("identifier");const F=this.text().substring(1);this.next(),i=i(F)}this.token=="="&&(r=this.next().read_expr());const T=s(i,a,r,E,p,D,c,m);return d&&(T.attrGroups=d),T},read_types(){const t="unset",s="union",i="intersection",r=[];let a=t;const c=this.read_type();if(!c)return null;for(r.push(c);this.token==="|"||this.version>=801&&this.token==="&";){const D=this.peek();if(D===this.tok.T_ELLIPSIS||D===this.tok.T_VARIABLE)break;a===t?a=this.token==="|"?s:i:(a===s&&this.token!=="|"||a===i&&this.token!=="&")&&this.raiseError('Unexpect token "'+this.token+'", "|" and "&" can not be mixed'),this.next(),r.push(this.read_type())}return r.length===1?r[0]:a===i?this.node("intersectiontype")(r):this.node("uniontype")(r)},read_promoted(){return this.token===this.tok.T_PUBLIC?(this.next(),1):this.token===this.tok.T_PROTECTED?(this.next(),2):this.token===this.tok.T_PRIVATE?(this.next(),4):0},read_argument_list(){let t=[];return this.expect("(")&&this.next(),this.version>=801&&this.token===this.tok.T_ELLIPSIS&&this.peek()===")"?(t.push(this.node("variadicplaceholder")()),this.next()):this.token!==")"&&(t=this.read_non_empty_argument_list()),this.expect(")")&&this.next(),t},read_non_empty_argument_list(){let t=!1;return this.read_function_list((function(){const s=this.read_argument();if(s){const i=s.kind==="variadic";t&&!i&&this.raiseError("Unexpected non-variadic argument after a variadic argument"),i&&(t=!0)}return s}).bind(this),",")},read_argument(){return this.token===this.tok.T_ELLIPSIS?this.node("variadic")(this.next().read_expr()):(this.token===this.tok.T_STRING||Object.values(this.lexer.keywords).includes(this.token))&&this.peek()===":"?(this.version<800&&this.raiseError("PHP 8+ is required to use named arguments"),this.node("namedargument")(this.text(),this.next().next().read_expr())):this.read_expr()},read_type(){const t=this.node();if(this.token===this.tok.T_ARRAY||this.token===this.tok.T_CALLABLE){const s=this.text();return this.next(),t("typereference",s.toLowerCase(),s)}if(this.token===this.tok.T_NAME_RELATIVE||this.token===this.tok.T_NAME_QUALIFIED||this.token===this.tok.T_NAME_FULLY_QUALIFIED||this.token===this.tok.T_STRING||this.token===this.tok.T_STATIC){const s=this.text(),i=[this.token,this.lexer.getState()];return this.next(),this.token!==this.tok.T_NS_SEPARATOR&&this.ast.typereference.types.indexOf(s.toLowerCase())>-1?t("typereference",s.toLowerCase(),s):(this.lexer.tokens.push(i),this.next(),t.destroy(),this.read_namespace_name())}return t.destroy(),null}},Es={read_if(){const t=this.node("if"),s=this.next().read_if_expr();let i=null,r=null,a=!1;if(this.token===":"){a=!0,this.next(),i=this.node("block");const c=[];for(;this.token!==this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){r=this.read_elseif_short();break}if(this.token===this.tok.T_ELSE){r=this.read_else_short();break}c.push(this.read_inner_statement())}i=i(null,c),this.expect(this.tok.T_ENDIF)&&this.next(),this.expectEndOfStatement()}else i=this.read_statement(),this.token===this.tok.T_ELSEIF?r=this.read_if():this.token===this.tok.T_ELSE&&(r=this.next().read_statement());return t(s,i,r,a)},read_if_expr(){this.expect("(")&&this.next();const t=this.read_expr();return this.expect(")")&&this.next(),t},read_elseif_short(){let t=null;const s=this.node("if"),i=this.next().read_if_expr();this.expect(":")&&this.next();const r=this.node("block"),a=[];for(;this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){t=this.read_elseif_short();break}if(this.token===this.tok.T_ELSE){t=this.read_else_short();break}a.push(this.read_inner_statement())}return s(i,r(null,a),t,!0)},read_else_short(){this.next().expect(":")&&this.next();const t=this.node("block"),s=[];for(;this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;)s.push(this.read_inner_statement());return t(null,s)}},$i={read_while(){const t=this.node("while");this.expect(this.tok.T_WHILE)&&this.next();let s=null,i=null,r=!1;return this.expect("(")&&this.next(),s=this.read_expr(),this.expect(")")&&this.next(),this.token===":"?(r=!0,i=this.read_short_form(this.tok.T_ENDWHILE)):i=this.read_statement(),t(s,i,r)},read_do(){const t=this.node("do");this.expect(this.tok.T_DO)&&this.next();let s=null,i=null;return i=this.read_statement(),this.expect(this.tok.T_WHILE)&&(this.next().expect("(")&&this.next(),s=this.read_expr(),this.expect(")")&&this.next(),this.expect(";")&&this.next()),t(s,i)},read_for(){const t=this.node("for");this.expect(this.tok.T_FOR)&&this.next();let s=[],i=[],r=[],a=null,c=!1;return this.expect("(")&&this.next(),this.token!==";"?(s=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),this.token!==";"?(i=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),this.token!==")"?(r=this.read_list(this.read_expr,","),this.expect(")")&&this.next()):this.next(),this.token===":"?(c=!0,a=this.read_short_form(this.tok.T_ENDFOR)):a=this.read_statement(),t(s,i,r,a,c)},read_foreach(){const t=this.node("foreach");this.expect(this.tok.T_FOREACH)&&this.next();let s=null,i=null,r=null,a=null,c=!1;return this.expect("(")&&this.next(),s=this.read_expr(),this.expect(this.tok.T_AS)&&(this.next(),r=this.read_foreach_variable(),this.token===this.tok.T_DOUBLE_ARROW&&(i=r,r=this.next().read_foreach_variable())),i&&i.kind==="list"&&this.raiseError("Fatal Error : Cannot use list as key element"),this.expect(")")&&this.next(),this.token===":"?(c=!0,a=this.read_short_form(this.tok.T_ENDFOREACH)):a=this.read_statement(),t(s,i,r,a,c)},read_foreach_variable(){if(this.token===this.tok.T_LIST||this.token==="["){const t=this.token==="[",s=this.node("list");this.next(),!t&&this.expect("(")&&this.next();const i=this.read_array_pair_list(t);return this.expect(t?"]":")")&&this.next(),s(i,t)}return this.read_variable(!1,!1)}},Ve={read_start(){return this.token==this.tok.T_NAMESPACE?this.read_namespace():this.read_top_statement()}},ea={read_namespace(){const t=this.node("namespace");let s,i;return this.expect(this.tok.T_NAMESPACE)&&this.next(),i=this.token==="{"?{name:[""]}:this.read_namespace_name(),this.currentNamespace=i,this.token===";"?(this.currentNamespace=i,s=this.next().read_top_statements(),this.expect(this.EOF),t(i.name,s,!1)):this.token==="{"?(this.currentNamespace=i,s=this.next().read_top_statements(),this.expect("}")&&this.next(),s.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&s.push(this.node("noop")()),t(i.name,s,!0)):(this.error(["{",";"]),this.currentNamespace=i,s=this.read_top_statements(),this.expect(this.EOF),t(i,s,!1))},read_namespace_name(t){const s=this.node();let i,r=this.text();switch(this.token){case this.tok.T_NAME_RELATIVE:i=this.ast.name.RELATIVE_NAME,r=r.replace(/^namespace\\/,"");break;case this.tok.T_NAME_QUALIFIED:i=this.ast.name.QUALIFIED_NAME;break;case this.tok.T_NAME_FULLY_QUALIFIED:i=this.ast.name.FULL_QUALIFIED_NAME;break;default:if(i=this.ast.name.UNQUALIFIED_NAME,!this.expect(this.tok.T_STRING))return s("name","",this.ast.name.FULL_QUALIFIED_NAME)}if(this.next(),t||this.token!=="("){if(r.toLowerCase()==="parent")return s("parentreference",r);if(r.toLowerCase()==="self")return s("selfreference",r)}return s("name",r,i)},read_use_statement(){let t=this.node("usegroup"),s=[],i=null;this.expect(this.tok.T_USE)&&this.next();const r=this.read_use_type();return s.push(this.read_use_declaration(!1)),this.token===","?s=s.concat(this.next().read_use_declarations(!1)):this.token==="{"&&(i=s[0].name,s=this.next().read_use_declarations(r===null),this.expect("}")&&this.next()),t=t(i,r,s),this.expect(";")&&this.next(),t},read_class_name_reference(){return this.read_variable(!0,!1)},read_use_declaration(t){const s=this.node("useitem");let i=null;t&&(i=this.read_use_type());const r=this.read_namespace_name(),a=this.read_use_alias();return s(r.name,a,i)},read_use_declarations(t){const s=[this.read_use_declaration(t)];for(;this.token===",";){if(this.next(),t){if(this.token!==this.tok.T_NAME_RELATIVE&&this.token!==this.tok.T_NAME_QUALIFIED&&this.token!==this.tok.T_NAME_FULLY_QUALIFIED&&this.token!==this.tok.T_FUNCTION&&this.token!==this.tok.T_CONST&&this.token!==this.tok.T_STRING)break}else if(this.token!==this.tok.T_NAME_RELATIVE&&this.token!==this.tok.T_NAME_QUALIFIED&&this.token!==this.tok.T_NAME_FULLY_QUALIFIED&&this.token!==this.tok.T_STRING&&this.token!==this.tok.T_NS_SEPARATOR)break;s.push(this.read_use_declaration(t))}return s},read_use_alias(){let t=null;if(this.token===this.tok.T_AS&&this.next().expect(this.tok.T_STRING)){const s=this.node("identifier"),i=this.text();this.next(),t=s(i)}return t},read_use_type(){return this.token===this.tok.T_FUNCTION?(this.next(),this.ast.useitem.TYPE_FUNCTION):this.token===this.tok.T_CONST?(this.next(),this.ast.useitem.TYPE_CONST):null}};const Vi={"\\":"\\",$:"$",n:`
`,r:"\r",t:"	",f:"\f",v:"\v",e:"\x1B"};var ms={resolve_special_chars:(t,s)=>s?t.replace(/\\"/,'"').replace(/\\([\\$nrtfve]|[xX][0-9a-fA-F]{1,2}|[0-7]{1,3}|u{([0-9a-fA-F]+)})/g,((i,r,a)=>Vi[r]?Vi[r]:r[0]==="x"||r[0]==="X"?String.fromCodePoint(parseInt(r.substr(1),16)):r[0]==="u"?String.fromCodePoint(parseInt(a,16)):String.fromCodePoint(parseInt(r,8)))):t.replace(/\\\\/g,"\\").replace(/\\'/g,"'"),remove_heredoc_leading_whitespace_chars(t,s,i,r){if(s===0)return t;this.check_heredoc_indentation_level(t,s,i,r);const a=i?" ":"	",c=new RegExp(`\\n${a}{${s}}`,"g"),D=new RegExp(`^${a}{${s}}`);return r&&(t=t.replace(D,"")),t.replace(c,`
`)},check_heredoc_indentation_level(t,s,i,r){const a=t.length;let c=0,D=0,d=!0;const m=i?" ":"	";let E=!1;if(!r){if(c=t.indexOf(`
`),c===-1)return;c++}for(;c<a;)d?t[c]===m?D++:E=!0:d=!1,t[c]!==`
`&&E&&D<s?this.raiseError(`Invalid body indentation level (expecting an indentation at least ${s})`):E=!1,t[c]===`
`&&(d=!0,D=0),c++},read_dereferencable_scalar(){let t=null;switch(this.token){case this.tok.T_CONSTANT_ENCAPSED_STRING:{let s=this.node("string");const i=this.text();let r=0;i[0]!=="b"&&i[0]!=="B"||(r=1);const a=i[r]==='"';this.next(),s=s(a,this.resolve_special_chars(i.substring(r+1,i.length-1),a),r===1,i),t=this.token===this.tok.T_DOUBLE_COLON?this.read_static_getter(s):s}break;case this.tok.T_ARRAY:case"[":t=this.read_array()}return t},read_scalar(){if(this.is("T_MAGIC_CONST"))return this.get_magic_constant();{let t,s;switch(this.token){case this.tok.T_LNUMBER:case this.tok.T_DNUMBER:{const i=this.node("number");return t=this.text(),this.next(),i(t,null)}case this.tok.T_START_HEREDOC:if(this.lexer.curCondition==="ST_NOWDOC"){const i=this.lexer.yylloc.first_offset;s=this.node("nowdoc"),t=this.next().text(),this.lexer.heredoc_label.indentation>0&&(t=t.substring(0,t.length-this.lexer.heredoc_label.indentation));const r=t[t.length-1];r===`
`?t=t[t.length-2]==="\r"?t.substring(0,t.length-2):t.substring(0,t.length-1):r==="\r"&&(t=t.substring(0,t.length-1)),this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE)&&this.next(),this.expect(this.tok.T_END_HEREDOC)&&this.next();const a=this.lexer._input.substring(i,this.lexer.yylloc.first_offset);return s=s(this.remove_heredoc_leading_whitespace_chars(t,this.lexer.heredoc_label.indentation,this.lexer.heredoc_label.indentation_uses_spaces,this.lexer.heredoc_label.first_encaps_node),a,this.lexer.heredoc_label.label),this.lexer.heredoc_label.finished=!0,s}return this.read_encapsed_string(this.tok.T_END_HEREDOC);case'"':return this.read_encapsed_string('"');case'b"':case'B"':return this.read_encapsed_string('"',!0);case this.tok.T_CONSTANT_ENCAPSED_STRING:case this.tok.T_ARRAY:case"[":return this.read_dereferencable_scalar();default:{const i=this.error("SCALAR");return this.next(),i}}}},read_dereferencable(t){let s,i;const r=this.node("offsetlookup");return this.token==="["?(i=this.next().read_expr(),this.expect("]")&&this.next(),s=r(t,i)):this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES&&(i=this.read_encapsed_string_item(!1),s=r(t,i)),s},read_encapsed_string_item(t){const s=this.node("encapsedpart");let i,r,a,c=null,D=!1,d=this.node();if(this.token===this.tok.T_ENCAPSED_AND_WHITESPACE){const m=this.text();this.next(),d=d("string",!1,this.version>=703&&!this.lexer.heredoc_label.finished?this.remove_heredoc_leading_whitespace_chars(this.resolve_special_chars(m,t),this.lexer.heredoc_label.indentation,this.lexer.heredoc_label.indentation_uses_spaces,this.lexer.heredoc_label.first_encaps_node):m,!1,m)}else if(this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES){if(c="simple",D=!0,a=null,this.next().token===this.tok.T_STRING_VARNAME){a=this.node("variable");const m=this.text();this.next(),d.destroy(),this.token==="["?(a=a(m,!1),r=this.node("offsetlookup"),i=this.next().read_expr(),this.expect("]")&&this.next(),d=r(a,i)):d=a(m,!1)}else d=d("variable",this.read_expr(),!1);this.expect("}")&&this.next()}else if(this.token===this.tok.T_CURLY_OPEN)c="complex",d.destroy(),d=this.next().read_variable(!1,!1),this.expect("}")&&this.next();else if(this.token===this.tok.T_VARIABLE){if(c="simple",d.destroy(),d=this.read_simple_variable(),this.token==="["&&(r=this.node("offsetlookup"),i=this.next().read_encaps_var_offset(),this.expect("]")&&this.next(),d=r(d,i)),this.token===this.tok.T_OBJECT_OPERATOR){r=this.node("propertylookup"),this.next().expect(this.tok.T_STRING);const m=this.node("identifier");a=this.text(),this.next(),d=r(d,m(a))}}else{this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE);const m=this.text();this.next(),d.destroy(),d=d("string",!1,m,!1,m)}return this.lexer.heredoc_label.first_encaps_node=!1,s(d,c,D)},read_encapsed_string(t){let s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const i=this.lexer.yylloc.first_offset;let r=this.node("encapsed");this.next();const a=this.lexer.yylloc.prev_offset-(s?1:0),c=[];let D=null;for(D=t==="`"?this.ast.encapsed.TYPE_SHELL:t==='"'?this.ast.encapsed.TYPE_STRING:this.ast.encapsed.TYPE_HEREDOC;this.token!==t&&this.token!==this.EOF;)c.push(this.read_encapsed_string_item(!0));if(c.length>0&&c[c.length-1].kind==="encapsedpart"&&c[c.length-1].expression.kind==="string"){const d=c[c.length-1].expression,m=d.value[d.value.length-1];m===`
`?d.value[d.value.length-2]==="\r"?d.value=d.value.substring(0,d.value.length-2):d.value=d.value.substring(0,d.value.length-1):m==="\r"&&(d.value=d.value.substring(0,d.value.length-1))}return this.expect(t)&&this.next(),r=r(c,this.lexer._input.substring(D==="heredoc"?i:a-1,this.lexer.yylloc.first_offset),D),t===this.tok.T_END_HEREDOC&&(r.label=this.lexer.heredoc_label.label,this.lexer.heredoc_label.finished=!0),r},get_magic_constant(){const t=this.node("magic"),s=this.text();return this.next(),t(s.toUpperCase(),s)}},sa={read_top_statements(){let t=[];for(;this.token!==this.EOF&&this.token!=="}";){const s=this.read_top_statement();s&&(Array.isArray(s)?t=t.concat(s):t.push(s))}return t},read_top_statement(){let t=[];switch(this.token===this.tok.T_ATTRIBUTE&&(t=this.read_attr_list()),this.token){case this.tok.T_FUNCTION:return this.read_function(!1,!1,t);case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_READ_ONLY:case this.tok.T_CLASS:return this.read_class_declaration_statement(t);case this.tok.T_INTERFACE:return this.read_interface_declaration_statement(t);case this.tok.T_TRAIT:return this.read_trait_declaration_statement();case this.tok.T_ENUM:return this.read_enum_declaration_statement(t);case this.tok.T_USE:return this.read_use_statement();case this.tok.T_CONST:{const s=this.node("constantstatement"),i=this.next().read_const_list();return this.expectEndOfStatement(),s(null,i)}case this.tok.T_NAMESPACE:return this.read_namespace();case this.tok.T_HALT_COMPILER:{const s=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),this.expect(";"),this.lexer.done=!0,s(this.lexer._input.substring(this.lexer.offset))}default:return this.read_statement()}},read_inner_statements(){let t=[];for(;this.token!=this.EOF&&this.token!=="}";){const s=this.read_inner_statement();s&&(Array.isArray(s)?t=t.concat(s):t.push(s))}return t},read_const_list(){return this.read_list((function(){this.expect(this.tok.T_STRING);const t=this.node("constant");let s=this.node("identifier");const i=this.text();return this.next(),s=s(i),this.expect("=")?t(s,this.next().read_expr()):t(s,null)}),",",!1)},read_declare_list(){const t=[];for(;this.token!=this.EOF&&this.token!==")";){this.expect(this.tok.T_STRING);const s=this.node("declaredirective");let i=this.node("identifier");const r=this.text();this.next(),i=i(r);let a=null;if(this.expect("=")&&(a=this.next().read_expr()),t.push(s(i,a)),this.token!==",")break;this.next()}return t},read_inner_statement(){let t=[];switch(this.token===this.tok.T_ATTRIBUTE&&(t=this.read_attr_list()),this.token){case this.tok.T_FUNCTION:{const s=this.read_function(!1,!1);return s.attrGroups=t,s}case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_CLASS:return this.read_class_declaration_statement();case this.tok.T_INTERFACE:return this.read_interface_declaration_statement();case this.tok.T_TRAIT:return this.read_trait_declaration_statement();case this.tok.T_ENUM:return this.read_enum_declaration_statement();case this.tok.T_HALT_COMPILER:{this.raiseError("__HALT_COMPILER() can only be used from the outermost scope");let s=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),s=s(this.lexer._input.substring(this.lexer.offset)),this.expect(";")&&this.next(),s}default:return this.read_statement()}},read_statement(){switch(this.token){case"{":return this.read_code_block(!1);case this.tok.T_IF:return this.read_if();case this.tok.T_SWITCH:return this.read_switch();case this.tok.T_FOR:return this.read_for();case this.tok.T_FOREACH:return this.read_foreach();case this.tok.T_WHILE:return this.read_while();case this.tok.T_DO:return this.read_do();case this.tok.T_COMMENT:return this.read_comment();case this.tok.T_DOC_COMMENT:return this.read_doc_comment();case this.tok.T_RETURN:{const t=this.node("return");this.next();const s=this.read_optional_expr(";");return this.expectEndOfStatement(),t(s)}case this.tok.T_BREAK:case this.tok.T_CONTINUE:{const t=this.node(this.token===this.tok.T_CONTINUE?"continue":"break");this.next();const s=this.read_optional_expr(";");return this.expectEndOfStatement(),t(s)}case this.tok.T_GLOBAL:{const t=this.node("global"),s=this.next().read_list(this.read_simple_variable,",");return this.expectEndOfStatement(),t(s)}case this.tok.T_STATIC:{const t=[this.token,this.lexer.getState()],s=this.node();if(this.next().token===this.tok.T_DOUBLE_COLON){this.lexer.tokens.push(t);const r=this.next().read_expr();return this.expectEndOfStatement(r),s("expressionstatement",r)}if(this.token===this.tok.T_FUNCTION)return this.read_function(!0,[0,1,0]);const i=this.read_variable_declarations();return this.expectEndOfStatement(),s("static",i)}case this.tok.T_ECHO:{const t=this.node("echo"),s=this.text(),i=s==="<?="||s==="<%=",r=this.next().read_function_list(this.read_expr,",");return this.expectEndOfStatement(),t(r,i)}case this.tok.T_INLINE_HTML:{const t=this.text();let s=this.lexer.yylloc.first_offset>0?this.lexer._input[this.lexer.yylloc.first_offset-1]:null;const i=s==="\r"||s===`
`;i&&s===`
`&&this.lexer.yylloc.first_offset>1&&this.lexer._input[this.lexer.yylloc.first_offset-2]==="\r"&&(s=`\r
`);const r=this.node("inline");return this.next(),r(t,i?s+t:t)}case this.tok.T_UNSET:{const t=this.node("unset");this.next().expect("(")&&this.next();const s=this.read_function_list(this.read_variable,",");return this.expect(")")&&this.next(),this.expect(";")&&this.next(),t(s)}case this.tok.T_DECLARE:{const t=this.node("declare"),s=[];let i;this.next().expect("(")&&this.next();const r=this.read_declare_list();if(this.expect(")")&&this.next(),this.token===":"){for(this.next();this.token!=this.EOF&&this.token!==this.tok.T_ENDDECLARE;)s.push(this.read_top_statement());s.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&s.push(this.node("noop")()),this.expect(this.tok.T_ENDDECLARE)&&this.next(),this.expectEndOfStatement(),i=this.ast.declare.MODE_SHORT}else if(this.token==="{"){for(this.next();this.token!=this.EOF&&this.token!=="}";)s.push(this.read_top_statement());s.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&s.push(this.node("noop")()),this.expect("}")&&this.next(),i=this.ast.declare.MODE_BLOCK}else this.expect(";")&&this.next(),i=this.ast.declare.MODE_NONE;return t(r,s,i)}case this.tok.T_TRY:return this.read_try();case this.tok.T_THROW:{const t=this.node("throw"),s=this.next().read_expr();return this.expectEndOfStatement(),t(s)}case";":return this.next(),null;case this.tok.T_STRING:{const t=this.node(),s=[this.token,this.lexer.getState()],i=this.text();let r=this.node("identifier");if(this.next().token===":")return r=r(i),this.next(),t("label",r);r.destroy(),t.destroy(),this.lexer.tokens.push(s);const a=this.node("expressionstatement"),c=this.next().read_expr();return this.expectEndOfStatement(c),a(c)}case this.tok.T_GOTO:{const t=this.node("goto");let s=null;if(this.next().expect(this.tok.T_STRING)){s=this.node("identifier");const i=this.text();this.next(),s=s(i),this.expectEndOfStatement()}return t(s)}default:{const t=this.node("expressionstatement"),s=this.read_expr();return this.expectEndOfStatement(s),t(s)}}},read_code_block(t){const s=this.node("block");this.expect("{")&&this.next();const i=t?this.read_top_statements():this.read_inner_statements();return i.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&i.push(this.node("noop")()),this.expect("}")&&this.next(),s(null,i)}},ji={read_switch(){const t=this.node("switch");this.expect(this.tok.T_SWITCH)&&this.next(),this.expect("(")&&this.next();const s=this.read_expr();this.expect(")")&&this.next();const i=this.token===":";return t(s,this.read_switch_case_list(),i)},read_switch_case_list(){let t=null;const s=this.node("block"),i=[];for(this.token==="{"?t="}":this.token===":"?t=this.tok.T_ENDSWITCH:this.expect(["{",":"]),this.next(),this.token===";"&&this.next();this.token!==this.EOF&&this.token!==t;)i.push(this.read_case_list(t));return i.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&i.push(this.node("noop")()),this.expect(t)&&this.next(),t===this.tok.T_ENDSWITCH&&this.expectEndOfStatement(),s(null,i)},read_case_list(t){const s=this.node("case");let i=null;this.token===this.tok.T_CASE?i=this.next().read_expr():this.token===this.tok.T_DEFAULT?this.next():this.expect([this.tok.T_CASE,this.tok.T_DEFAULT]),this.expect([":",";"])&&this.next();const r=this.node("block"),a=[];for(;this.token!==this.EOF&&this.token!==t&&this.token!==this.tok.T_CASE&&this.token!==this.tok.T_DEFAULT;)a.push(this.read_inner_statement());return s(i,r(null,a))}},ia={read_try(){this.expect(this.tok.T_TRY);const t=this.node("try");let s=null;const i=[],r=this.next().read_statement();for(;this.token===this.tok.T_CATCH;){const a=this.node("catch");this.next().expect("(")&&this.next();const c=this.read_list(this.read_namespace_name,"|",!1);let D=null;(this.version<800||this.token===this.tok.T_VARIABLE)&&(D=this.read_variable(!0,!1)),this.expect(")"),i.push(a(this.next().read_statement(),c,D))}return this.token===this.tok.T_FINALLY&&(s=this.next().read_statement()),t(r,i,s)}},na={read_short_form(t){const s=this.node("block"),i=[];for(this.expect(":")&&this.next();this.token!=this.EOF&&this.token!==t;)i.push(this.read_inner_statement());return i.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&i.push(this.node("noop")()),this.expect(t)&&this.next(),this.expectEndOfStatement(),s(null,i)},read_function_list(t,s){const i=[];do{if(this.token==s&&this.version>=703&&i.length>0){i.push(this.node("noop")());break}if(i.push(t.apply(this,[])),this.token!=s||this.next().token==")"&&this.version>=703)break}while(this.token!=this.EOF);return i},read_list(t,s,i){const r=[];if(this.token==s&&(i&&r.push(typeof t=="function"?this.node("noop")():null),this.next()),typeof t=="function")do{const a=t.apply(this,[]);if(a&&r.push(a),this.token!=s)break}while(this.next().token!=this.EOF);else{if(!this.expect(t))return[];for(r.push(this.text());this.next().token!=this.EOF&&this.token==s&&this.next().token==t;)r.push(this.text())}return r},read_name_list(){return this.read_list(this.read_namespace_name,",",!1)},read_byref(t){let s=this.node("byref");this.next(),s=s(null);const i=t();return i&&(this.ast.swapLocations(i,s,i,this),i.byref=!0),i},read_variable_declarations(){return this.read_list((function(){const t=this.node("staticvariable");let s=this.node("variable");if(this.expect(this.tok.T_VARIABLE)){const i=this.text().substring(1);this.next(),s=s(i,!1)}else s=s("#ERR",!1);return this.token==="="?t(s,this.next().read_expr()):s}),",")},read_extends_from(){return this.token===this.tok.T_EXTENDS?this.next().read_namespace_name():null},read_interface_extends_list(){return this.token===this.tok.T_EXTENDS?this.next().read_name_list():null},read_implements_list(){return this.token===this.tok.T_IMPLEMENTS?this.next().read_name_list():null}},ra={read_variable(t,s){let i;if(this.token==="&")return this.read_byref(this.read_variable.bind(this,t,s));if(this.is([this.tok.T_VARIABLE,"$"]))i=this.read_reference_variable(s);else if(this.is([this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAME_RELATIVE,this.tok.T_NAME_QUALIFIED,this.tok.T_NAME_FULLY_QUALIFIED,this.tok.T_NAMESPACE])){i=this.node();const r=this.read_namespace_name();if(this.token!=this.tok.T_DOUBLE_COLON&&this.token!="("&&["parentreference","selfreference"].indexOf(r.kind)===-1){const a=r.name.toLowerCase();a==="true"?i=r.destroy(i("boolean",!0,r.name)):a==="false"?i=r.destroy(i("boolean",!1,r.name)):a==="null"?i=r.destroy(i("nullkeyword",r.name)):(i.destroy(r),i=r)}else i.destroy(r),i=r}else if(this.token===this.tok.T_STATIC){i=this.node("staticreference");const r=this.text();this.next(),i=i(r)}else this.expect("VARIABLE");return this.token===this.tok.T_DOUBLE_COLON&&(i=this.read_static_getter(i,s)),this.recursive_variable_chain_scan(i,t,s)},read_static_getter(t,s){const i=this.node("staticlookup");let r,a;return this.next().is([this.tok.T_VARIABLE,"$"])?r=this.read_reference_variable(s):this.token===this.tok.T_STRING||this.token===this.tok.T_CLASS||this.version>=700&&this.is("IDENTIFIER")?(r=this.node("identifier"),a=this.text(),this.next(),r=r(a)):this.token==="{"?(r=this.node("literal"),a=this.next().read_expr(),this.expect("}")&&this.next(),r=r("literal",a,null),this.expect("(")):(this.error([this.tok.T_VARIABLE,this.tok.T_STRING]),r=this.node("identifier"),a=this.text(),this.next(),r=r(a)),i(t,r)},read_what(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],s=null,i=null;switch(this.next().token){case this.tok.T_STRING:s=this.node("identifier"),i=this.text(),this.next(),s=s(i),t&&this.token===this.tok.T_OBJECT_OPERATOR&&this.error();break;case this.tok.T_VARIABLE:s=this.node("variable"),i=this.text().substring(1),this.next(),s=s(i,!1);break;case"$":s=this.node(),this.next().expect(["$","{",this.tok.T_VARIABLE]),this.token==="{"?(i=this.next().read_expr(),this.expect("}")&&this.next(),s=s("variable",i,!0)):(i=this.read_expr(),s=s("variable",i,!1));break;case"{":s=this.node("encapsedpart"),i=this.next().read_expr(),this.expect("}")&&this.next(),s=s(i,"complex",!1);break;default:this.error([this.tok.T_STRING,this.tok.T_VARIABLE,"$","{"]),s=this.node("identifier"),i=this.text(),this.next(),s=s(i)}return s},recursive_variable_chain_scan(t,s,i){let r,a;t:for(;this.token!=this.EOF;)switch(this.token){case"(":if(s)return t;t=this.node("call")(t,this.read_argument_list());break;case"[":case"{":{const c=this.token==="[";r=this.node("offsetlookup"),this.next(),a=!1,i?(a=this.read_encaps_var_offset(),this.expect(c?"]":"}")&&this.next()):(c?this.token!=="]":this.token!=="}")?(a=this.read_expr(),this.expect(c?"]":"}")&&this.next()):this.next(),t=r(t,a);break}case this.tok.T_DOUBLE_COLON:t.kind==="staticlookup"&&t.offset.kind==="identifier"&&this.error(),r=this.node("staticlookup"),t=r(t,this.read_what(!0));break;case this.tok.T_OBJECT_OPERATOR:r=this.node("propertylookup"),t=r(t,this.read_what());break;case this.tok.T_NULLSAFE_OBJECT_OPERATOR:r=this.node("nullsafepropertylookup"),t=r(t,this.read_what());break;default:break t}return t},read_encaps_var_offset(){let t=this.node();if(this.token===this.tok.T_STRING){const s=this.text();this.next(),t=t("identifier",s)}else if(this.token===this.tok.T_NUM_STRING){const s=this.text();this.next(),t=t("number",s,null)}else if(this.token==="-"){this.next();const s=-1*this.text();this.expect(this.tok.T_NUM_STRING)&&this.next(),t=t("number",s,null)}else if(this.token===this.tok.T_VARIABLE){const s=this.text().substring(1);this.next(),t=t("variable",s,!1)}else{this.expect([this.tok.T_STRING,this.tok.T_NUM_STRING,"-",this.tok.T_VARIABLE]);const s=this.text();this.next(),t=t("identifier",s)}return t},read_reference_variable(t){let s,i=this.read_simple_variable();for(;this.token!=this.EOF;){const r=this.node();if(this.token!="{"||t){r.destroy();break}s=this.next().read_expr(),this.expect("}")&&this.next(),i=r("offsetlookup",i,s)}return i},read_simple_variable(){let t,s=this.node("variable");if(this.expect([this.tok.T_VARIABLE,"$"])&&this.token===this.tok.T_VARIABLE)t=this.text().substring(1),this.next(),s=s(t,!1);else switch(this.token==="$"&&this.next(),this.token){case"{":{const i=this.next().read_expr();this.expect("}")&&this.next(),s=s(i,!0);break}case"$":s=s(this.read_simple_variable(),!1);break;case this.tok.T_VARIABLE:{t=this.text().substring(1);const i=this.node("variable");this.next(),s=s(i(t,!1),!1);break}default:this.error(["{","$",this.tok.T_VARIABLE]),t=this.text(),this.next(),s=s(t,!1)}return s}};const oa=Mi;function at(t){return t!="."&&t!=","&&!isNaN(parseFloat(t))&&isFinite(t)}const rt=function(t,s){this.lexer=t,this.ast=s,this.tok=t.tok,this.EOF=t.EOF,this.token=null,this.prev=null,this.debug=!1,this.version=803,this.extractDoc=!1,this.extractTokens=!1,this.suppressErrors=!1;const i=function(r){return[r,null]};this.entries={IDENTIFIER:new Map([this.tok.T_ABSTRACT,this.tok.T_ARRAY,this.tok.T_AS,this.tok.T_BREAK,this.tok.T_CALLABLE,this.tok.T_CASE,this.tok.T_CATCH,this.tok.T_CLASS,this.tok.T_CLASS_C,this.tok.T_CLONE,this.tok.T_CONST,this.tok.T_CONTINUE,this.tok.T_DECLARE,this.tok.T_DEFAULT,this.tok.T_DIR,this.tok.T_DO,this.tok.T_ECHO,this.tok.T_ELSE,this.tok.T_ELSEIF,this.tok.T_EMPTY,this.tok.T_ENDDECLARE,this.tok.T_ENDFOR,this.tok.T_ENDFOREACH,this.tok.T_ENDIF,this.tok.T_ENDSWITCH,this.tok.T_ENDWHILE,this.tok.T_ENUM,this.tok.T_EVAL,this.tok.T_EXIT,this.tok.T_EXTENDS,this.tok.T_FILE,this.tok.T_FINAL,this.tok.T_FINALLY,this.tok.T_FN,this.tok.T_FOR,this.tok.T_FOREACH,this.tok.T_FUNC_C,this.tok.T_FUNCTION,this.tok.T_GLOBAL,this.tok.T_GOTO,this.tok.T_IF,this.tok.T_IMPLEMENTS,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_INSTANCEOF,this.tok.T_INSTEADOF,this.tok.T_INTERFACE,this.tok.T_ISSET,this.tok.T_LINE,this.tok.T_LIST,this.tok.T_LOGICAL_AND,this.tok.T_LOGICAL_OR,this.tok.T_LOGICAL_XOR,this.tok.T_MATCH,this.tok.T_METHOD_C,this.tok.T_NAMESPACE,this.tok.T_NEW,this.tok.T_NS_C,this.tok.T_PRINT,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_PUBLIC,this.tok.T_READ_ONLY,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_RETURN,this.tok.T_STATIC,this.tok.T_SWITCH,this.tok.T_THROW,this.tok.T_TRAIT,this.tok.T_TRY,this.tok.T_UNSET,this.tok.T_USE,this.tok.T_VAR,this.tok.T_WHILE,this.tok.T_YIELD].map(i)),VARIABLE:new Map([this.tok.T_VARIABLE,"$","&",this.tok.T_STRING,this.tok.T_NAME_RELATIVE,this.tok.T_NAME_QUALIFIED,this.tok.T_NAME_FULLY_QUALIFIED,this.tok.T_NAMESPACE,this.tok.T_STATIC].map(i)),SCALAR:new Map([this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C,'"','b"','B"',"-",this.tok.T_NS_SEPARATOR].map(i)),T_MAGIC_CONST:new Map([this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C].map(i)),T_MEMBER_FLAGS:new Map([this.tok.T_PUBLIC,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_STATIC,this.tok.T_ABSTRACT,this.tok.T_FINAL].map(i)),EOS:new Map([";",this.EOF,this.tok.T_INLINE_HTML].map(i)),EXPR:new Map(["@","-","+","!","~","(","`",this.tok.T_LIST,this.tok.T_CLONE,this.tok.T_INC,this.tok.T_DEC,this.tok.T_NEW,this.tok.T_ISSET,this.tok.T_EMPTY,this.tok.T_MATCH,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_EVAL,this.tok.T_INT_CAST,this.tok.T_DOUBLE_CAST,this.tok.T_STRING_CAST,this.tok.T_ARRAY_CAST,this.tok.T_OBJECT_CAST,this.tok.T_BOOL_CAST,this.tok.T_UNSET_CAST,this.tok.T_EXIT,this.tok.T_PRINT,this.tok.T_YIELD,this.tok.T_STATIC,this.tok.T_FUNCTION,this.tok.T_FN,this.tok.T_VARIABLE,"$",this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAME_RELATIVE,this.tok.T_NAME_QUALIFIED,this.tok.T_NAME_FULLY_QUALIFIED,this.tok.T_STRING,this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C,'"','b"','B"',"-",this.tok.T_NS_SEPARATOR].map(i))}};rt.prototype.getTokenName=function(t){return at(t)?t==this.EOF?"the end of file (EOF)":this.lexer.engine.tokens.values[t]:"'"+t+"'"},rt.prototype.parse=function(t,s){this._errors=[],this.filename=s||"eval",this.currentNamespace=[""],this.extractDoc?this._docs=[]:this._docs=null,this.extractTokens?this._tokens=[]:this._tokens=null,this._docIndex=0,this._lastNode=null,this.lexer.setInput(t),this.lexer.all_tokens=this.extractTokens,this.lexer.comment_tokens=this.extractDoc,this.length=this.lexer._input.length,this.innerList=!1,this.innerListForm=!1;const i=this.node("program"),r=[];for(this.next();this.token!=this.EOF;)r.push(this.read_start());r.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&r.push(this.node("noop")()),this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset];const a=i(r,this._errors,this._docs,this._tokens);if(this.debug){const c=this.ast.checkNodes();if(c.length>0)throw c.forEach((function(D){D.position&&console.log("Node at line "+D.position.line+", column "+D.position.column),console.log(D.stack.join(`
`))})),new Error("Some nodes are not closed")}return a},rt.prototype.raiseError=function(t,s,i,r){if(t+=" on line "+this.lexer.yylloc.first_line,!this.suppressErrors){const c=new SyntaxError(t,this.filename,this.lexer.yylloc.first_line);throw c.lineNumber=this.lexer.yylloc.first_line,c.fileName=this.filename,c.columnNumber=this.lexer.yylloc.first_column,c}const a=this.ast.prepare("error",null,this)(t,r,this.lexer.yylloc.first_line,i);return this._errors.push(a),a},rt.prototype.error=function(t){let s="Parse Error : syntax error",i=this.getTokenName(this.token),r="";if(this.token!==this.EOF){if(at(this.token)){let a=this.text();a.length>10&&(a=a.substring(0,7)+"..."),i="'"+a+"' ("+i+")"}s+=", unexpected "+i}return t&&!Array.isArray(t)&&((at(t)||t.length===1)&&(r=", expecting "+this.getTokenName(t)),s+=r),this.raiseError(s,r,t,i)},rt.prototype.position=function(){return new oa(this.lexer.yylloc.first_line,this.lexer.yylloc.first_column,this.lexer.yylloc.first_offset)},rt.prototype.node=function(t){if(this.extractDoc){let s=null;this._docIndex<this._docs.length&&(s=this._docs.slice(this._docIndex),this._docIndex=this._docs.length,this.debug&&(console.log(new Error("Append docs on "+t)),console.log(s)));const i=this.ast.prepare(t,s,this);return i.postBuild=(function(r){if(this._docIndex<this._docs.length)if(this._lastNode){const a=this.prev[2];let c=this._docIndex;for(;c<this._docs.length&&!(this._docs[c].offset>a);c++);c>this._docIndex&&(this._lastNode.setTrailingComments(this._docs.slice(this._docIndex,c)),this._docIndex=c)}else this.token===this.EOF&&(r.setTrailingComments(this._docs.slice(this._docIndex)),this._docIndex=this._docs.length);this._lastNode=r}).bind(this),i}return this.ast.prepare(t,null,this)},rt.prototype.expectEndOfStatement=function(t){if(this.token===";")t&&this.lexer.yytext===";"&&t.includeToken(this);else if(this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF)return this.error(";"),!1;return this.next(),!0};const St=["parser.next","parser.node","parser.showlog"];rt.prototype.showlog=function(){const t=new Error().stack.split(`
`);let s;for(let i=2;i<t.length;i++){s=t[i].trim();let r=!1;for(let a=0;a<St.length;a++)if(s.substring(3,3+St[a].length)===St[a]){r=!0;break}if(!r)break}return console.log("Line "+this.lexer.yylloc.first_line+" : "+this.getTokenName(this.token)+">"+this.lexer.yytext+"< @-->"+s),this},rt.prototype.expect=function(t){if(Array.isArray(t)){if(t.indexOf(this.token)===-1)return this.error(t),!1}else if(this.token!=t)return this.error(t),!1;return!0},rt.prototype.text=function(){return this.lexer.yytext},rt.prototype.next=function(){if(this.token===";"&&this.lexer.yytext!==";"||(this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset]),this.lex(),this.debug&&this.showlog(),this.extractDoc)for(;this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT;)this.token===this.tok.T_COMMENT?this._docs.push(this.read_comment()):this._docs.push(this.read_doc_comment());return this},rt.prototype.peek=function(){const t=this.lexer.getState(),s=this.lexer.lex();return this.lexer.setState(t),s},rt.prototype.lex=function(){if(this.extractTokens)do{if(this.token=this.lexer.lex()||this.EOF,this.token===this.EOF)return this;let t=this.lexer.yytext;if(t=Object.prototype.hasOwnProperty.call(this.lexer.engine.tokens.values,this.token)?[this.lexer.engine.tokens.values[this.token],t,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset]:[null,t,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset],this._tokens.push(t),this.token===this.tok.T_CLOSE_TAG)return this.token=";",this;if(this.token===this.tok.T_OPEN_TAG_WITH_ECHO)return this.token=this.tok.T_ECHO,this}while(this.token===this.tok.T_WHITESPACE||!this.extractDoc&&(this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT)||this.token===this.tok.T_OPEN_TAG);else this.token=this.lexer.lex()||this.EOF;return this},rt.prototype.is=function(t){return Array.isArray(t)?t.indexOf(this.token)!==-1:this.entries[t].has(this.token)},[Xo,qo,Hi,Gi,Zo,ta,Es,$i,Ve,ea,ms,sa,ji,ia,na,ra].forEach((function(t){for(const s in t){if(Object.prototype.hasOwnProperty.call(rt.prototype,s))throw new Error("Function "+s+" is already defined - collision");rt.prototype[s]=t[s]}}));var Zt=rt;const wt={T_HALT_COMPILER:101,T_USE:102,T_ENCAPSED_AND_WHITESPACE:103,T_OBJECT_OPERATOR:104,T_STRING:105,T_DOLLAR_OPEN_CURLY_BRACES:106,T_STRING_VARNAME:107,T_CURLY_OPEN:108,T_NUM_STRING:109,T_ISSET:110,T_EMPTY:111,T_INCLUDE:112,T_INCLUDE_ONCE:113,T_EVAL:114,T_REQUIRE:115,T_REQUIRE_ONCE:116,T_NAMESPACE:117,T_NS_SEPARATOR:118,T_AS:119,T_IF:120,T_ENDIF:121,T_WHILE:122,T_DO:123,T_FOR:124,T_SWITCH:125,T_BREAK:126,T_CONTINUE:127,T_RETURN:128,T_GLOBAL:129,T_STATIC:130,T_ECHO:131,T_INLINE_HTML:132,T_UNSET:133,T_FOREACH:134,T_DECLARE:135,T_TRY:136,T_THROW:137,T_GOTO:138,T_FINALLY:139,T_CATCH:140,T_ENDDECLARE:141,T_LIST:142,T_CLONE:143,T_PLUS_EQUAL:144,T_MINUS_EQUAL:145,T_MUL_EQUAL:146,T_DIV_EQUAL:147,T_CONCAT_EQUAL:148,T_MOD_EQUAL:149,T_AND_EQUAL:150,T_OR_EQUAL:151,T_XOR_EQUAL:152,T_SL_EQUAL:153,T_SR_EQUAL:154,T_INC:155,T_DEC:156,T_BOOLEAN_OR:157,T_BOOLEAN_AND:158,T_LOGICAL_OR:159,T_LOGICAL_AND:160,T_LOGICAL_XOR:161,T_SL:162,T_SR:163,T_IS_IDENTICAL:164,T_IS_NOT_IDENTICAL:165,T_IS_EQUAL:166,T_IS_NOT_EQUAL:167,T_IS_SMALLER_OR_EQUAL:168,T_IS_GREATER_OR_EQUAL:169,T_INSTANCEOF:170,T_INT_CAST:171,T_DOUBLE_CAST:172,T_STRING_CAST:173,T_ARRAY_CAST:174,T_OBJECT_CAST:175,T_BOOL_CAST:176,T_UNSET_CAST:177,T_EXIT:178,T_PRINT:179,T_YIELD:180,T_YIELD_FROM:181,T_FUNCTION:182,T_DOUBLE_ARROW:183,T_DOUBLE_COLON:184,T_ARRAY:185,T_CALLABLE:186,T_CLASS:187,T_ABSTRACT:188,T_TRAIT:189,T_FINAL:190,T_EXTENDS:191,T_INTERFACE:192,T_IMPLEMENTS:193,T_VAR:194,T_PUBLIC:195,T_PROTECTED:196,T_PRIVATE:197,T_CONST:198,T_NEW:199,T_INSTEADOF:200,T_ELSEIF:201,T_ELSE:202,T_ENDSWITCH:203,T_CASE:204,T_DEFAULT:205,T_ENDFOR:206,T_ENDFOREACH:207,T_ENDWHILE:208,T_CONSTANT_ENCAPSED_STRING:209,T_LNUMBER:210,T_DNUMBER:211,T_LINE:212,T_FILE:213,T_DIR:214,T_TRAIT_C:215,T_METHOD_C:216,T_FUNC_C:217,T_NS_C:218,T_START_HEREDOC:219,T_END_HEREDOC:220,T_CLASS_C:221,T_VARIABLE:222,T_OPEN_TAG:223,T_OPEN_TAG_WITH_ECHO:224,T_CLOSE_TAG:225,T_WHITESPACE:226,T_COMMENT:227,T_DOC_COMMENT:228,T_ELLIPSIS:229,T_COALESCE:230,T_POW:231,T_POW_EQUAL:232,T_SPACESHIP:233,T_COALESCE_EQUAL:234,T_FN:235,T_NULLSAFE_OBJECT_OPERATOR:236,T_MATCH:237,T_ATTRIBUTE:238,T_ENUM:239,T_READ_ONLY:240,T_NAME_RELATIVE:241,T_NAME_QUALIFIED:242,T_NAME_FULLY_QUALIFIED:243},$t={values:Object.entries(wt).reduce(((t,s)=>{let[i,r]=s;return{...t,[r]:i}}),{}),names:wt};var Vt=Object.freeze($t),Et=function(t,s,i){this.source=t,this.start=s,this.end=i};const mt=function(t,s,i){this.kind=t,s&&(this.leadingComments=s),i&&(this.loc=i)};mt.prototype.setTrailingComments=function(t){this.trailingComments=t},mt.prototype.destroy=function(t){if(!t)throw new Error("Node already initialized, you must swap with another node");return this.leadingComments&&(t.leadingComments?t.leadingComments=Array.concat(this.leadingComments,t.leadingComments):t.leadingComments=this.leadingComments),this.trailingComments&&(t.trailingComments?t.trailingComments=Array.concat(this.trailingComments,t.trailingComments):t.trailingComments=this.trailingComments),t},mt.prototype.includeToken=function(t){return this.loc&&(this.loc.end&&(this.loc.end.line=t.lexer.yylloc.last_line,this.loc.end.column=t.lexer.yylloc.last_column,this.loc.end.offset=t.lexer.offset),t.ast.withSource&&(this.loc.source=t.lexer._input.substring(this.loc.start.offset,t.lexer.offset))),this},mt.extends=function(t,s){return s.prototype=Object.create(this.prototype),s.extends=this.extends,s.prototype.constructor=s,s.kind=t,s};var q=mt;const Rt=q,Bt="expression";var J=Rt.extends(Bt,(function(t,s,i){Rt.apply(this,[t||Bt,s,i])}));const ct=J,It="array";var At=ct.extends(It,(function(t,s,i,r){ct.apply(this,[It,i,r]),this.items=s,this.shortForm=t}));const Ts=J,Wi="arrowfunc";var aa=Ts.extends(Wi,(function(t,s,i,r,a,c,D,d){Ts.apply(this,[Wi,D,d]),this.arguments=t,this.byref=s,this.body=i,this.type=r,this.nullable=a,this.isStatic=c||!1}));const te=J,Qi="assign";var ua=te.extends(Qi,(function(t,s,i,r,a){te.apply(this,[Qi,r,a]),this.left=t,this.right=s,this.operator=i}));const Yi=J,ue="assignref";var zi=Yi.extends(ue,(function(t,s,i,r){Yi.apply(this,[ue,i,r]),this.left=t,this.right=s}));const Ji=q,je="attribute";var We=Ji.extends(je,(function(t,s,i,r){Ji.apply(this,[je,i,r]),this.name=t,this.args=s}));const Qe=q,Ki="attrgroup";var ha=Qe.extends(Ki,(function(t,s,i){Qe.apply(this,[Ki,s,i]),this.attrs=t||[]}));const ys=J,Xi="operation";var Ee=ys.extends(Xi,(function(t,s,i){ys.apply(this,[t||Xi,s,i])}));const qi=Ee;var Zi=qi.extends("bin",(function(t,s,i,r,a){qi.apply(this,["bin",r,a]),this.type=t,this.left=s,this.right=i}));const me=q,xs="statement";var tt=me.extends(xs,(function(t,s,i){me.apply(this,[t||xs,s,i])}));const tn=tt,en="block";var Ye=tn.extends(en,(function(t,s,i,r){tn.apply(this,[t||en,i,r]),this.children=s.filter(Boolean)}));const sn=J,Ae="literal";var ee=sn.extends(Ae,(function(t,s,i,r,a){sn.apply(this,[t||Ae,r,a]),this.value=s,i&&(this.raw=i)}));const be=ee,he="boolean";var la=be.extends(he,(function(t,s,i,r){be.apply(this,[he,t,s,i,r])}));const gs=tt,nn="break";var rn=gs.extends(nn,(function(t,s,i){gs.apply(this,[nn,s,i]),this.level=t}));const ve=J,se="byref";var ca=ve.extends(se,(function(t,s,i){ve.apply(this,[se,s,i]),this.what=t}));const Fs=J,on="call";var da=Fs.extends(on,(function(t,s,i,r){Fs.apply(this,[on,i,r]),this.what=t,this.arguments=s}));const an=tt,Cs="case";var pa=an.extends(Cs,(function(t,s,i,r){an.apply(this,[Cs,i,r]),this.test=t,this.body=s}));const As=Ee,un="cast";var bs=As.extends(un,(function(t,s,i,r,a){As.apply(this,[un,r,a]),this.type=t,this.raw=s,this.expr=i}));const Pt=tt,vs="catch";var hn=Pt.extends(vs,(function(t,s,i,r,a){Pt.apply(this,[vs,r,a]),this.body=t,this.what=s,this.variable=i}));const ze=tt,ln="declaration",cn=ze.extends(ln,(function(t,s,i,r){ze.apply(this,[t||ln,i,r]),this.name=s}));cn.prototype.parseFlags=function(t){this.isAbstract=t[2]===1,this.isFinal=t[2]===2,this.isReadonly=t[3]===1,this.kind!=="class"&&(t[0]===-1?this.visibility="":t[0]===null?this.visibility=null:t[0]===0?this.visibility="public":t[0]===1?this.visibility="protected":t[0]===2&&(this.visibility="private"),this.isStatic=t[1]===1)};var pt=cn;const dn=pt,pn="class";var fa=dn.extends(pn,(function(t,s,i,r,a,c,D){dn.apply(this,[pn,t,c,D]),this.isAnonymous=!t,this.extends=s,this.implements=i,this.body=r,this.attrGroups=[],this.parseFlags(a)}));const fn=tt,_n="constantstatement";var Dn=fn.extends(_n,(function(t,s,i,r){fn.apply(this,[t||_n,i,r]),this.constants=s}));const kn=Dn,En="classconstant",Je=kn.extends(En,(function(t,s,i,r,a,c,D,d){kn.apply(this,[t||En,s,D,d]),this.parseFlags(i),this.nullable=r,this.type=a,this.attrGroups=c}));Je.prototype.parseFlags=function(t){t[0]===-1?this.visibility="":t[0]===null?this.visibility=null:t[0]===0?this.visibility="public":t[0]===1?this.visibility="protected":t[0]===2&&(this.visibility="private"),this.final=t[2]===2};var _a=Je;const mn=J,Ns="clone";var Tn=mn.extends(Ns,(function(t,s,i){mn.apply(this,[Ns,s,i]),this.what=t}));const yn=J,xn="closure";var Da=yn.extends(xn,(function(t,s,i,r,a,c,D,d){yn.apply(this,[xn,D,d]),this.uses=i,this.arguments=t,this.byref=s,this.type=r,this.nullable=a,this.isStatic=c||!1,this.body=null,this.attrGroups=[]}));const Ss=q;var Dt=Ss.extends("comment",(function(t,s,i,r){Ss.apply(this,[t,i,r]),this.value=s}));const Lt=Dt,Ke="commentblock";var Xe=Lt.extends(Ke,(function(t,s,i){Lt.apply(this,[Ke,t,s,i])}));const Ne=Dt,gn="commentline";var Is=Ne.extends(gn,(function(t,s,i){Ne.apply(this,[gn,t,s,i])}));const Fn=q,Cn="constant";var ka=Fn.extends(Cn,(function(t,s,i,r){Fn.apply(this,[Cn,i,r]),this.name=t,this.value=s}));const qe=tt,Te="continue";var Ea=qe.extends(Te,(function(t,s,i){qe.apply(this,[Te,s,i]),this.level=t}));const jt=Ye,Ls="declare",Se=jt.extends(Ls,(function(t,s,i,r,a){jt.apply(this,[Ls,s,r,a]),this.directives=t,this.mode=i}));Se.MODE_SHORT="short",Se.MODE_BLOCK="block",Se.MODE_NONE="none";var An=Se;const bn=q,ie="declaredirective";var ma=bn.extends(ie,(function(t,s,i,r){bn.apply(this,[ie,i,r]),this.key=t,this.value=s}));const Wt=tt;var Ta=Wt.extends("do",(function(t,s,i,r){Wt.apply(this,["do",i,r]),this.test=t,this.body=s}));const vn=tt,Ie="echo";var ya=vn.extends(Ie,(function(t,s,i,r){vn.apply(this,[Ie,i,r]),this.shortForm=s,this.expressions=t}));const Nn=J,Os="empty";var Sn=Nn.extends(Os,(function(t,s,i){Nn.apply(this,[Os,s,i]),this.expression=t}));const In=ee,Ze="encapsed",Qt=In.extends(Ze,(function(t,s,i,r,a){In.apply(this,[Ze,t,s,r,a]),this.type=i}));Qt.TYPE_STRING="string",Qt.TYPE_SHELL="shell",Qt.TYPE_HEREDOC="heredoc",Qt.TYPE_OFFSET="offset";var le=Qt;const ye=J,ws="encapsedpart";var Ln=ye.extends(ws,(function(t,s,i,r,a){ye.apply(this,[ws,r,a]),this.expression=t,this.syntax=s,this.curly=i}));const ts=J,On="entry";var wn=ts.extends(On,(function(t,s,i,r,a,c){ts.apply(this,[On,a,c]),this.key=t,this.value=s,this.byRef=i,this.unpack=r}));const Rn=pt,Bn="enum";var Pn=Rn.extends(Bn,(function(t,s,i,r,a,c){Rn.apply(this,[Bn,t,a,c]),this.valueType=s,this.implements=i,this.body=r,this.attrGroups=[]}));const es=q,Un="enumcase";var Rs=es.extends(Un,(function(t,s,i,r){es.apply(this,[Un,i,r]),this.name=t,this.value=s}));const Bs=q,Mn="error";var xa=Bs.extends(Mn,(function(t,s,i,r,a,c){Bs.apply(this,[Mn,a,c]),this.message=t,this.token=s,this.line=i,this.expected=r}));const Hn=J,Gn="eval";var ga=Hn.extends(Gn,(function(t,s,i){Hn.apply(this,[Gn,s,i]),this.source=t}));const Ps=J,Us="exit";var Fa=Ps.extends(Us,(function(t,s,i,r){Ps.apply(this,[Us,i,r]),this.expression=t,this.useDie=s}));const Ms=tt,$n="expressionstatement";var Ca=Ms.extends($n,(function(t,s,i){Ms.apply(this,[$n,s,i]),this.expression=t}));const Vn=tt;var Aa=Vn.extends("for",(function(t,s,i,r,a,c,D){Vn.apply(this,["for",c,D]),this.init=t,this.test=s,this.increment=i,this.shortForm=a,this.body=r}));const jn=tt,Wn="foreach";var ba=jn.extends(Wn,(function(t,s,i,r,a,c,D){jn.apply(this,[Wn,c,D]),this.source=t,this.key=s,this.value=i,this.shortForm=a,this.body=r}));const Hs=pt,Qn="function";var Yn=Hs.extends(Qn,(function(t,s,i,r,a,c,D){Hs.apply(this,[Qn,t,c,D]),this.arguments=s,this.byref=i,this.type=r,this.nullable=a,this.body=null,this.attrGroups=[]}));const zn=tt,Jn="global";var va=zn.extends(Jn,(function(t,s,i){zn.apply(this,[Jn,s,i]),this.items=t}));const Gs=tt,Kn="goto";var Na=Gs.extends(Kn,(function(t,s,i){Gs.apply(this,[Kn,s,i]),this.label=t}));const $s=tt,Xn="halt";var qn=$s.extends(Xn,(function(t,s,i){$s.apply(this,[Xn,s,i]),this.after=t}));const ce=q,ss="identifier";var Zn=ce.extends(ss,(function(t,s,i){ce.apply(this,[ss,s,i]),this.name=t}));const tr=tt;var er=tr.extends("if",(function(t,s,i,r,a,c){tr.apply(this,["if",a,c]),this.test=t,this.body=s,this.alternate=i,this.shortForm=r}));const Le=J,Vs="include";var Sa=Le.extends(Vs,(function(t,s,i,r,a){Le.apply(this,[Vs,r,a]),this.once=t,this.require=s,this.target=i}));const js=ee,Ws="inline";var sr=js.extends(Ws,(function(t,s,i,r){js.apply(this,[Ws,t,s,i,r])}));const de=pt,is="interface";var Qs=de.extends(is,(function(t,s,i,r,a,c){de.apply(this,[is,t,a,c]),this.extends=s,this.body=i,this.attrGroups=r}));const ir=pt,Ys="intersectiontype";var Ia=ir.extends(Ys,(function(t,s,i){ir.apply(this,[Ys,null,s,i]),this.types=t}));const nr=J,zt="isset";var La=nr.extends(zt,(function(t,s,i){nr.apply(this,[zt,s,i]),this.variables=t}));const rr=tt,or="label";var Oa=rr.extends(or,(function(t,s,i){rr.apply(this,[or,s,i]),this.name=t}));const zs=J,ar="list";var wa=zs.extends(ar,(function(t,s,i,r){zs.apply(this,[ar,i,r]),this.items=t,this.shortForm=s}));const ur=J,hr="lookup";var Oe=ur.extends(hr,(function(t,s,i,r,a){ur.apply(this,[t||hr,r,a]),this.what=s,this.offset=i}));const lr=ee,cr="magic";var Ra=lr.extends(cr,(function(t,s,i,r){lr.apply(this,[cr,t,s,i,r])}));const Js=J,Ks="match";var dr=Js.extends(Ks,(function(t,s,i,r){Js.apply(this,[Ks,i,r]),this.cond=t,this.arms=s}));const Xs=J,qs="matcharm";var Zs=Xs.extends(qs,(function(t,s,i,r){Xs.apply(this,[qs,i,r]),this.conds=t,this.body=s}));const ti=Yn,pr="method";var Ba=ti.extends(pr,(function(){ti.apply(this,arguments),this.kind=pr}));const fr=q,_r="reference";var xe=fr.extends(_r,(function(t,s,i){fr.apply(this,[t||_r,s,i])}));const Dr=xe,kr="name",we=Dr.extends(kr,(function(t,s,i,r){Dr.apply(this,[kr,i,r]),this.name=t.replace(/\\$/,""),this.resolution=s}));we.UNQUALIFIED_NAME="uqn",we.QUALIFIED_NAME="qn",we.FULL_QUALIFIED_NAME="fqn",we.RELATIVE_NAME="rn";var Ua=we;const ns=Ye,Er="namespace";var Ma=ns.extends(Er,(function(t,s,i,r,a){ns.apply(this,[Er,s,r,a]),this.name=t,this.withBrackets=i||!1}));const mr=J,Tr="namedargument";var Ha=mr.extends(Tr,(function(t,s,i,r){mr.apply(this,[Tr,i,r]),this.name=t,this.value=s}));const yr=J;var xr=yr.extends("new",(function(t,s,i,r){yr.apply(this,["new",i,r]),this.what=t,this.arguments=s}));const gr=q,Fr="noop";var Ga=gr.extends(Fr,(function(t,s){gr.apply(this,[Fr,t,s])}));const rs=ee,ei="nowdoc";var Cr=rs.extends(ei,(function(t,s,i,r,a){rs.apply(this,[ei,t,s,r,a]),this.label=i}));const Ar=q,br="nullkeyword";var $a=Ar.extends(br,(function(t,s,i){Ar.apply(this,[br,s,i]),this.raw=t}));const vr=Oe,Nr="nullsafepropertylookup";var Sr=vr.extends(Nr,(function(t,s,i,r){vr.apply(this,[Nr,t,s,i,r])}));const Ir=ee,Lr="number";var Or=Ir.extends(Lr,(function(t,s,i,r){Ir.apply(this,[Lr,t,s,i,r])}));const si=Oe,wr="offsetlookup";var ii=si.extends(wr,(function(t,s,i,r){si.apply(this,[wr,t,s,i,r])}));const ni=pt,Rr="parameter";var ri=ni.extends(Rr,(function(t,s,i,r,a,c,D,d,m,E){ni.apply(this,[Rr,t,m,E]),this.value=i,this.type=s,this.byref=r,this.variadic=a,this.readonly=c,this.nullable=D,this.flags=d||0,this.attrGroups=[]}));const Br=xe,Pr="parentreference";var Va=Br.extends(Pr,(function(t,s,i){Br.apply(this,[Pr,s,i]),this.raw=t}));const Ur=Ee,oi="post";var ja=Ur.extends(oi,(function(t,s,i,r){Ur.apply(this,[oi,i,r]),this.type=t,this.what=s}));const pe=Ee;var ai=pe.extends("pre",(function(t,s,i,r){pe.apply(this,["pre",i,r]),this.type=t,this.what=s}));const Re=J,ui="print";var Wa=Re.extends(ui,(function(t,s,i){Re.apply(this,[ui,s,i]),this.expression=t}));const hi=Ye,Mr="program";var Qa=hi.extends(Mr,(function(t,s,i,r,a,c){hi.apply(this,[Mr,t,a,c]),this.errors=s,i&&(this.comments=i),r&&(this.tokens=r)}));const Hr=tt,Gr="property";var Be=Hr.extends(Gr,(function(t,s,i,r,a,c,D,d){Hr.apply(this,[Gr,D,d]),this.name=t,this.value=s,this.readonly=i,this.nullable=r,this.type=a,this.attrGroups=c}));const $r=Oe,Vr="propertylookup";var Ya=$r.extends(Vr,(function(t,s,i,r){$r.apply(this,[Vr,t,s,i,r])}));const jr=tt,Pe="propertystatement",li=jr.extends(Pe,(function(t,s,i,r,a){jr.apply(this,[Pe,r,a]),this.properties=s,this.parseFlags(i)}));li.prototype.parseFlags=function(t){t[0]===-1?this.visibility="":t[0]===null?this.visibility=null:t[0]===0?this.visibility="public":t[0]===1?this.visibility="protected":t[0]===2&&(this.visibility="private"),this.isStatic=t[1]===1};var Wr=li;const Qr=J,ci="retif";var za=Qr.extends(ci,(function(t,s,i,r,a){Qr.apply(this,[ci,r,a]),this.test=t,this.trueExpr=s,this.falseExpr=i}));const Yr=tt,zr="return";var Ja=Yr.extends(zr,(function(t,s,i){Yr.apply(this,[zr,s,i]),this.expr=t}));const Jr=xe,Kr="selfreference";var Xr=Jr.extends(Kr,(function(t,s,i){Jr.apply(this,[Kr,s,i]),this.raw=t}));const qr=J,os="silent";var Ka=qr.extends(os,(function(t,s,i){qr.apply(this,[os,s,i]),this.expr=t}));const di=tt,Zr="static";var to=di.extends(Zr,(function(t,s,i){di.apply(this,[Zr,s,i]),this.variables=t}));const eo=q,pi="staticvariable";var so=eo.extends(pi,(function(t,s,i,r){eo.apply(this,[pi,i,r]),this.variable=t,this.defaultValue=s}));const fi=Oe,io="staticlookup";var _i=fi.extends(io,(function(t,s,i,r){fi.apply(this,[io,t,s,i,r])}));const Di=xe,ki="staticreference";var qa=Di.extends(ki,(function(t,s,i){Di.apply(this,[ki,s,i]),this.raw=t}));const Ei=ee,no="string";var Za=Ei.extends(no,(function(t,s,i,r,a,c){Ei.apply(this,[no,s,r,a,c]),this.unicode=i,this.isDoubleQuote=t}));const ro=tt,oo="switch";var tu=ro.extends(oo,(function(t,s,i,r,a){ro.apply(this,[oo,r,a]),this.test=t,this.body=s,this.shortForm=i}));const mi=tt,ao="throw";var eu=mi.extends(ao,(function(t,s,i){mi.apply(this,[ao,s,i]),this.what=t}));const uo=pt,ho="trait";var lo=uo.extends(ho,(function(t,s,i,r){uo.apply(this,[ho,t,i,r]),this.body=s}));const co=q,as="traitalias";var su=co.extends(as,(function(t,s,i,r,a,c){co.apply(this,[as,a,c]),this.trait=t,this.method=s,this.as=i,this.visibility="",r&&(r[0]===0?this.visibility="public":r[0]===1?this.visibility="protected":r[0]===2&&(this.visibility="private"))}));const us=q,po="traitprecedence";var Ti=us.extends(po,(function(t,s,i,r,a){us.apply(this,[po,r,a]),this.trait=t,this.method=s,this.instead=i}));const fo=q,hs="traituse";var iu=fo.extends(hs,(function(t,s,i,r){fo.apply(this,[hs,i,r]),this.traits=t,this.adaptations=s}));const _o=tt;var nu=_o.extends("try",(function(t,s,i,r,a){_o.apply(this,["try",r,a]),this.body=t,this.catches=s,this.always=i}));const Do=xe,ko="typereference",Eo=Do.extends(ko,(function(t,s,i,r){Do.apply(this,[ko,i,r]),this.name=t,this.raw=s}));Eo.types=["int","float","string","bool","object","array","callable","iterable","void","static"];var ru=Eo;const yi=Ee,xi="unary";var ou=yi.extends(xi,(function(t,s,i,r){yi.apply(this,[xi,i,r]),this.type=t,this.what=s}));const mo=pt,To="uniontype";var au=mo.extends(To,(function(t,s,i){mo.apply(this,[To,null,s,i]),this.types=t}));const yo=tt,xo="unset";var uu=yo.extends(xo,(function(t,s,i){yo.apply(this,[xo,s,i]),this.variables=t}));const go=tt,Fo="usegroup";var hu=go.extends(Fo,(function(t,s,i,r,a){go.apply(this,[Fo,r,a]),this.name=t,this.type=s,this.items=i}));const Co=tt,Ao="useitem",gi=Co.extends(Ao,(function(t,s,i,r,a){Co.apply(this,[Ao,r,a]),this.name=t,this.alias=s,this.type=i}));gi.TYPE_CONST="const",gi.TYPE_FUNCTION="function";var lu=gi;const bo=J,ne="variable";var vo=bo.extends(ne,(function(t,s,i,r){bo.apply(this,[ne,i,r]),this.name=t,this.curly=s||!1}));const Fi=J,No="variadic";var cu=Fi.extends(No,(function(t,s,i){Fi.apply(this,[No,s,i]),this.what=t}));const So=q,e="variadicplaceholder";var n=So.extends(e,(function(t,s){So.apply(this,[e,t,s])}));const o=tt,u="while";var l=o.extends(u,(function(t,s,i,r,a){o.apply(this,[u,r,a]),this.test=t,this.body=s,this.shortForm=i}));const h=J,f="yield";var _=h.extends(f,(function(t,s,i,r){h.apply(this,[f,i,r]),this.value=t,this.key=s}));const k=J,y="yieldfrom";var C=k.extends(y,(function(t,s,i){k.apply(this,[y,s,i]),this.value=t}));const b=Et,A=Mi,g=function(t,s){this.withPositions=t,this.withSource=s};g.precedence={},[["or"],["xor"],["and"],["="],["?"],["??"],["||"],["&&"],["|"],["^"],["&"],["==","!=","===","!==","<=>"],["<","<=",">",">="],["<<",">>"],["+","-","."],["*","/","%"],["!"],["instanceof"],["cast","silent"],["**"]].forEach((function(t,s){t.forEach((function(i){g.precedence[i]=s+1}))})),g.prototype.isRightAssociative=function(t){return t==="**"||t==="??"},g.prototype.swapLocations=function(t,s,i,r){this.withPositions&&(t.loc.start=s.loc.start,t.loc.end=i.loc.end,this.withSource&&(t.loc.source=r.lexer._input.substring(t.loc.start.offset,t.loc.end.offset)))},g.prototype.resolveLocations=function(t,s,i,r){this.withPositions&&(t.loc.start.offset>s.loc.start.offset&&(t.loc.start=s.loc.start),t.loc.end.offset<i.loc.end.offset&&(t.loc.end=i.loc.end),this.withSource&&(t.loc.source=r.lexer._input.substring(t.loc.start.offset,t.loc.end.offset)))},g.prototype.resolvePrecedence=function(t,s){let i,r,a;return t.kind==="call"?this.resolveLocations(t,t.what,t,s):t.kind==="propertylookup"||t.kind==="staticlookup"||t.kind==="offsetlookup"&&t.offset?this.resolveLocations(t,t.what,t.offset,s):t.kind==="bin"?t.right&&!t.right.parenthesizedExpression&&(t.right.kind==="bin"?(r=g.precedence[t.type],a=g.precedence[t.right.type],r&&a&&a<=r&&(t.type!==t.right.type||!this.isRightAssociative(t.type))&&(i=t.right,t.right=t.right.left,this.swapLocations(t,t.left,t.right,s),i.left=this.resolvePrecedence(t,s),this.swapLocations(i,i.left,i.right,s),t=i)):t.right.kind==="retif"&&(r=g.precedence[t.type],a=g.precedence["?"],r&&a&&a<=r&&(i=t.right,t.right=t.right.test,this.swapLocations(t,t.left,t.right,s),i.test=this.resolvePrecedence(t,s),this.swapLocations(i,i.test,i.falseExpr,s),t=i))):t.kind!=="silent"&&t.kind!=="cast"||!t.expr||t.expr.parenthesizedExpression?t.kind==="unary"?t.what&&!t.what.parenthesizedExpression&&(t.what.kind==="bin"?(i=t.what,t.what=t.what.left,this.swapLocations(t,t,t.what,s),i.left=this.resolvePrecedence(t,s),this.swapLocations(i,i.left,i.right,s),t=i):t.what.kind==="retif"&&(i=t.what,t.what=t.what.test,this.swapLocations(t,t,t.what,s),i.test=this.resolvePrecedence(t,s),this.swapLocations(i,i.test,i.falseExpr,s),t=i)):t.kind==="retif"?t.falseExpr&&t.falseExpr.kind==="retif"&&!t.falseExpr.parenthesizedExpression&&(i=t.falseExpr,t.falseExpr=i.test,this.swapLocations(t,t.test,t.falseExpr,s),i.test=this.resolvePrecedence(t,s),this.swapLocations(i,i.test,i.falseExpr,s),t=i):t.kind==="assign"?t.right&&t.right.kind==="bin"&&!t.right.parenthesizedExpression&&(r=g.precedence["="],a=g.precedence[t.right.type],r&&a&&a<r&&(i=t.right,t.right=t.right.left,i.left=t,this.swapLocations(i,i.left,t.right,s),t=i)):t.kind==="expressionstatement"&&this.swapLocations(t,t.expression,t,s):t.expr.kind==="bin"?(i=t.expr,t.expr=t.expr.left,this.swapLocations(t,t,t.expr,s),i.left=this.resolvePrecedence(t,s),this.swapLocations(i,i.left,i.right,s),t=i):t.expr.kind==="retif"&&(i=t.expr,t.expr=t.expr.test,this.swapLocations(t,t,t.expr,s),i.test=this.resolvePrecedence(t,s),this.swapLocations(i,i.test,i.falseExpr,s),t=i),t},g.prototype.prepare=function(t,s,i){let r=null;(this.withPositions||this.withSource)&&(r=i.position());const a=this,c=function(){let D=null;const d=Array.prototype.slice.call(arguments);if(d.push(s),a.withPositions||a.withSource){let p=null;a.withSource&&(p=i.lexer._input.substring(r.offset,i.prev[2])),D=new b(p,r,new A(i.prev[0],i.prev[1],i.prev[2])),d.push(D)}t||(t=d.shift());const m=a[t];if(typeof m!="function")throw new Error('Undefined node "'+t+'"');const E=Object.create(m.prototype);return m.apply(E,d),c.instance=E,c.trailingComments&&(E.trailingComments=c.trailingComments),typeof c.postBuild=="function"&&c.postBuild(E),i.debug&&delete a.stack[c.stackUid],a.resolvePrecedence(E,i)};return i.debug&&(this.stack||(this.stack={},this.stackUid=1),this.stack[++this.stackUid]={position:r,stack:new Error().stack.split(`
`).slice(3,5)},c.stackUid=this.stackUid),c.setTrailingComments=function(D){c.instance?c.instance.setTrailingComments(D):c.trailingComments=D},c.destroy=function(D){s&&(D?D.leadingComments?D.leadingComments=s.concat(D.leadingComments):D.leadingComments=s:i._docIndex=i._docs.length-s.length),i.debug&&delete a.stack[c.stackUid]},c},g.prototype.checkNodes=function(){const t=[];for(const s in this.stack)Object.prototype.hasOwnProperty.call(this.stack,s)&&(this.stack[s].key=s,t.push(this.stack[s]));return this.stack={},t},[At,aa,ua,zi,We,ha,Zi,Ye,la,rn,ca,da,pa,bs,hn,fa,_a,Tn,Da,Dt,Xe,Is,ka,Dn,Ea,pt,An,ma,Ta,ya,Sn,le,Ln,wn,Pn,Rs,xa,ga,Fa,J,Ca,Aa,ba,Yn,va,Na,qn,Zn,er,Sa,sr,Qs,Ia,La,Oa,wa,ee,Oe,Ra,dr,Zs,Ba,Ua,Ma,Ha,xr,q,Ga,Cr,$a,Sr,Or,ii,Ee,ri,Va,ja,ai,Wa,Qa,Be,Ya,Wr,xe,za,Ja,Xr,Ka,tt,to,so,_i,qa,Za,tu,eu,lo,su,Ti,iu,nu,ru,ou,au,uu,hu,lu,vo,cu,n,l,_,C].forEach((function(t){g.prototype[t.kind]=t}));const N=Ko,S=Zt,H=Vt,M=g;function $(t,s){const i=Object.keys(t);let r=i.length;for(;r--;){const a=i[r],c=t[a];c===null?delete s[a]:typeof c=="function"?s[a]=c.bind(s):Array.isArray(c)?s[a]=Array.isArray(s[a])?s[a].concat(c):c:s[a]=typeof c=="object"&&typeof s[a]=="object"?$(c,s[a]):c}return s}const W=function(t){if(typeof this=="function")return new this(t);if(this.tokens=H,this.lexer=new N(this),this.ast=new M,this.parser=new S(this.lexer,this.ast),t&&typeof t=="object"){if(t.parser&&(t.lexer||(t.lexer={}),t.parser.version)){if(typeof t.parser.version=="string"){let s=t.parser.version.split(".");if(s=100*parseInt(s[0])+parseInt(s[1]),isNaN(s))throw new Error("Bad version number : "+t.parser.version);t.parser.version=s}else if(typeof t.parser.version!="number")throw new Error("Expecting a number for version");if(t.parser.version<500||t.parser.version>900)throw new Error("Can only handle versions between 5.x to 8.x")}$(t,this),this.lexer.version=this.parser.version}},P=function(t){return typeof t.write=="function"?t.toString():t};W.create=function(t){return new W(t)},W.parseEval=function(t,s){return new W(s).parseEval(t)},W.prototype.parseEval=function(t){return this.lexer.mode_eval=!0,this.lexer.all_tokens=!1,t=P(t),this.parser.parse(t,"eval")},W.parseCode=function(t,s,i){return typeof s!="object"||i||(i=s,s="unknown"),new W(i).parseCode(t,s)},W.prototype.parseCode=function(t,s){return this.lexer.mode_eval=!1,this.lexer.all_tokens=!1,t=P(t),this.parser.parse(t,s)},W.tokenGetAll=function(t,s){return new W(s).tokenGetAll(t)},W.prototype.tokenGetAll=function(t){this.lexer.mode_eval=!1,this.lexer.all_tokens=!0,t=P(t);const s=this.lexer.EOF,i=this.tokens.values;this.lexer.setInput(t);let r=this.lexer.lex()||s;const a=[];for(;r!=s;){let c=this.lexer.yytext;Object.prototype.hasOwnProperty.call(i,r)&&(c=[i[r],c,this.lexer.yylloc.first_line]),a.push(c),r=this.lexer.lex()||s}return a},Ht.exports=W,Ht.exports.tokens=H,Ht.exports.lexer=N,Ht.exports.AST=M,Ht.exports.parser=S,Ht.exports.combine=$,Ht.exports.Engine=W,Ht.exports.default=W;var Q=$o(Ht.exports);const it="PHP",ht=[5,5.1,5.2,5.3,5.4,5.5,5.6,7,7.1,7.2,7.3,7.4,8,8.1,8.2,8.3,8.4],gt=Math.max(...ht);let Tt="";function V(){const t=process.cwd();let s=null;const i=Mt.join(t,"composer.json");if(Ct.existsSync(i)&&(s=i),!s){let r=Mt.dirname(t);for(;r!==Mt.parse(r).root;){const a=Mt.join(r,"composer.json");if(Ct.existsSync(a)){s=a;break}r=Mt.dirname(r)}}if(s)try{const r=Ct.readFileSync(s,"utf8"),a=JSON.parse(r);if(a.require&&a.require.php){const c=a.require.php.match(/^(?:[^0-9]*)?([0-9]+)\.\*/);if(c)return parseFloat(`${c[1]}.0`);const D=a.require.php.match(/^(?:[^0-9]*)?([0-9]+)\.([0-9]+)/);return D?parseFloat(`${D[1]}.${D[2]}`):(Tt=`Could not decode PHP version (${a.require.php}})`,null)}}catch(r){Tt=`Error reading composer.json: ${r.message}`}else Tt="Could not find composer.json";return null}var Y={phpVersion:{since:"0.13.0",category:it,type:"choice",default:"auto",description:"Minimum target PHP version.",choices:[...ht.map((t=>({value:t.toFixed(1)}))),{value:"composer",description:"Use the PHP version defined in composer.json"},{value:"auto",description:`Try composer.json, else latest PHP Version (${gt})`}]},trailingCommaPHP:{since:"0.0.0",category:it,type:"boolean",default:!0,description:"Print trailing commas wherever possible when multi-line."},braceStyle:{since:"0.10.0",category:it,type:"choice",default:"per-cs",description:"Print one space or newline for code blocks (classes and functions).",choices:[{value:"psr-2",description:"(deprecated) Use per-cs"},{value:"per-cs",description:"Use the PER Coding Style brace style."},{value:"1tbs",description:"Use 1tbs brace style."}]},singleQuote:{since:"0.0.0",category:it,type:"boolean",default:!1,description:"Use single quotes instead of double quotes."}};function fe(t,s){const i=s&&s.parentParser==="markdown";if(!t&&i)return"";(function(d){if(d)if(d.phpVersion==="auto")d.phpVersion=V()??gt;else if(d.phpVersion==="composer"){const m=V();if(m===null)throw new Error(`Could not determine PHP version from composer; ${Tt}`);d.phpVersion=m}else d.phpVersion=parseFloat(d.phpVersion)})(s),t=t.replace(/\?>\n<\?/g,`?>
___PSEUDO_INLINE_PLACEHOLDER___<?`);const r=new Q({parser:{extractDoc:!0,version:`${gt}`},ast:{withPositions:!0,withSource:!0}}),a=t.indexOf("<?php")!==-1,c=i&&!a;let D;try{D=c?r.parseEval(t):r.parseCode(t)}catch(d){throw d instanceof SyntaxError&&"lineNumber"in d&&(d.loc={start:{line:d.lineNumber,column:d.columnNumber}},delete d.lineNumber,delete d.columnNumber),d}return D.extra={parseAsEval:c},D.comments.forEach((d=>{d.value[d.value.length-1]===`
`&&(d.value=d.value.slice(0,-1),d.loc.end.offset=d.loc.end.offset-1)})),D}const B=t=>s=>s.loc?.[t]?.offset,nt=B("start"),Z=B("end"),{hasNewline:yt,skipEverythingButNewLine:_e,skipNewline:st}=ut.util;function ge(t){return t.toLowerCase().replace(/^([+-]?[\d.]+e)(?:\+|(-))?0*(\d)/,"$1$2$3").replace(/^([+-]?[\d.]+)e[+-]?0+$/,"$1").replace(/^([+-])?\./,"$10.").replace(/(\.\d+?)0+(?=e|$)/,"$1").replace(/\.(?=e)/,"")}const lt=new Map([["or"],["xor"],["and"],["=","+=","-=","*=","**=","/=",".=","%=","&=","|=","^=","<<=",">>="],["??"],["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!==","<>","<=>"],["<",">","<=",">="],[">>","<<"],["+","-","."],["*","/","%"],["!"],["instanceof"],["++","--","~"],["**"]].flatMap(((t,s)=>t.map((i=>[i,s])))));function Io(t){return lt.get(t)}const Ou=["==","!=","===","!==","<>","<=>"],Lo=["*","/","%"],du=[">>","<<"];function pu(t,s){return Io(s)===Io(t)&&t!=="**"&&(!Ou.includes(t)||!Ou.includes(s))&&!(s==="%"&&Lo.includes(t)||t==="%"&&Lo.includes(s))&&(s===t||!Lo.includes(s)||!Lo.includes(t))&&(!du.includes(t)||!du.includes(s))}function Ci(t){const s=t.children||t.body||t.adaptations;return Array.isArray(s)?s:null}function Jt(t){return t.length>0?t[t.length-1]:null}function Ai(t){const{node:s}=t;if(s.kind==="program"){const r=Ci(s);return!(!r||r.length===0)&&r[0].kind==="inline"}if(s.kind==="switch"){if(!s.body)return!1;const r=Ci(s.body);if(r.length===0)return!1;const[a]=r;if(!a.body)return!1;const c=Ci(a.body);return c.length!==0&&c[0].kind==="inline"}const i=(function(r){let{body:a}=r;return a?(a.kind==="block"&&(a=a.children),a[0]):null})(s);return!!i&&i.kind==="inline"}function fu(t){return t.kind==="nowdoc"||t.kind==="encapsed"&&t.type==="heredoc"}function Oo(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const i=t.getNode(s),r=t.getNode(s+1),a=t.getNode(s+2);if(!r)return!1;if(a&&["call","new","echo"].includes(a.kind)&&!["call","array"].includes(r.kind)||r.kind==="parameter"){const c=a.arguments.length-1;return a.arguments.indexOf(r)!==c}if(a&&a.kind==="for"){const c=a.init.indexOf(r);if(c!==-1)return c!==a.init.length-1;const D=a.test.indexOf(r);if(D!==-1)return D!==a.test.length-1;const d=a.increment.indexOf(r);if(d!==-1)return d!==a.increment.length-1}if(r.kind==="bin")return r.left===i||Oo(t,s+1);if(r.kind==="case"&&r.test===i)return!0;if(r.kind==="staticvariable"){const c=a.variables.length-1;return a.variables.indexOf(r)!==c}if(r.kind==="entry"){if(r.key===i)return!0;const c=a.items.length-1;return a.items.indexOf(r)!==c}if(["call","new"].includes(r.kind)){const c=r.arguments.length-1;return r.arguments.indexOf(i)!==c}if(r.kind==="echo"){const c=r.expressions.length-1;return r.expressions.indexOf(i)!==c}if(r.kind==="array"){const c=r.items.length-1;return r.items.indexOf(i)!==c}return r.kind==="retif"&&Oo(t,s+1)}function wu(t){const s=t.replace(/^\\/,"");return s.indexOf("\\")!==-1?s:t}function Ot(t){return t.comments&&t.comments.some((s=>!s.leading&&!s.trailing))}function xt(t){return t.kind==="propertylookup"||t.kind==="nullsafepropertylookup"||t.kind==="staticlookup"||t.kind==="offsetlookup"}function Fh(t){const{node:s}=t;return!["try","catch"].includes(s.kind)&&Ai(t)}function Ch(t){const{node:s}=t;if(["try","catch"].includes(s.kind))return!0;if(s.kind==="switch"){const i=Ci(s.body);if(i.length===0)return!0;const r=Jt(i);if(!r.body)return!0;const a=Ci(r.body);return a.length===0||a[0].kind!=="inline"}return!Ai(t)}function _u(t){return["program","declare","namespace"].includes(t.kind)}function Du(t){return["name","parentreference","selfreference","staticreference"].includes(t.kind)}function ls(t){return t.kind==="bin"&&["||","&&"].includes(t.type)?"logical":t.kind}function wo(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"body";const{node:i}=t;return i[s]&&i[s].children&&i[s].children.length===0&&(!i[s].comments||i[s].comments.length===0)}function Ah(t,s){let i=nt(s);return i=_e(t,i),i=st(t,i),yt(t,i)}function Ru(t){return t.kind==="nowdoc"||t.kind==="encapsed"&&t.type==="heredoc"||t.kind==="entry"&&(t.value.kind==="nowdoc"||t.value.kind==="encapsed"&&t.value.type==="heredoc")}function ku(t,s){const i=(function(r,a){const c=[].concat(a);let D,d=-1;for(;D=r.getParentNode(++d);)if(c.indexOf(D.kind)!==-1)return d;return-1})(t,s);return i===-1?null:t.getParentNode(i)}const Bu=new Map(["__construct","__destruct","__call","__callStatic","__get","__set","__isset","__unset","__sleep","__wakeup","__toString","__invoke","__set_state","__clone","__debugInfo"].map((t=>[t.toLowerCase(),t])));function Pu(t){const s=t.toLowerCase();return Bu.has(s)?Bu.get(s):t}function Ro(t){const s=new Set(t);return i=>s.has(i?.kind)}const bh=Ro(["variadicplaceholder","namedargument","nullkeyword","identifier","parameter","variable","variadic","boolean","literal","number","string","clone","cast"]),vh=Ro(["array"]),Uu=Ro(["nullsafepropertylookup","propertylookup","staticlookup","offsetlookup","call","new"]),Nh=Ro(["arrowfunc"]);function Mu(t){const s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Uu(t)&&s.push(t),t.what?Mu(t.what,s):s}function Hu(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(s<=0)return!1;const i=r=>Hu(r,s-1);if(bh(t))return!0;if(vh(t))return t.items.every((r=>r===null||i(r)));if(Uu(t)){const r=Mu(t);return r.unshift(),r.length<=s&&r.every((a=>xt(a)?i(a.offset):a.arguments.every(i)))}return!!Nh(t)&&t.arguments.length<=s&&t.arguments.every(i)}const{addLeadingComment:Kt,addDanglingComment:bt,addTrailingComment:Xt,skipNewline:Sh,hasNewline:Bo,hasNewlineInRange:Ih,getNextNonSpaceNonCommentCharacterIndex:bi,isNextLineEmpty:Lh,isPreviousLineEmpty:Oh}=ut.util,{join:Gu,indent:wh,hardline:re,cursor:$u,lineSuffix:Vu,breakParent:Rh}=ut.doc.builders;function Po(t,s){const{children:i}=t;i.length===0?bt(t,s):Kt(i[0],s)}function Eu(t,s){t.kind==="block"?Po(t,s):Kt(t,s)}function ju(t,s,i,r,a){const c=bi(t,Z(a)),D=t.charAt(c);return s&&s.kind==="identifier"&&i&&(i.kind==="function"||i.kind==="method")&&D===")"?(Xt(i,a),!0):!(!i||i.kind!=="function"&&i.kind!=="method"||!r||r.kind!=="block")&&(Po(r,a),!0)}function mu(t,s,i,r,a){if(!i||i.kind!=="if"||!r)return!1;const c=bi(t,Z(a));return t.charAt(c)===")"?(Xt(s,a),!0):s===i.body&&r===i.alternate?(bt(i,a),!0):r.kind==="if"?(Eu(r.body,a),!0):i.body===r&&(Kt(r,a),!0)}function Tu(t,s,i){if(t&&["class","interface","trait"].includes(t.kind)){if(t.__parent_new_arguments?.includes(s))return!1;if(s&&t.extends){if(Array.isArray(t.extends)){if(t.extends.some((r=>{if(s&&s===r)return bt(s,i),!0})))return!0}else if(s===t.extends)return bt(s,i),!0}if(s&&t.implements&&t.implements.some((r=>{if(s&&s===r)return bt(s,i),!0})))return!0;if(!(t.body&&t.body.length>0))return bt(t,i),!0}return!!(s&&s.kind==="class"&&s.isAnonymous&&s.leadingComments&&i.kind==="commentblock")}function yu(t,s,i,r){if(s&&(s.kind==="function"||s.kind==="method")){let a=0;for(let d=0;d<s.arguments.length;d++)a=Z(s.arguments[d])>a?Z(s.arguments[d]):a;const c=s.body&&nt(r)>a&&Z(r)<nt(s.body),D=bi(t,Z(r));if(s.type&&c&&t.charAt(D)!==")")return Z(r)<nt(s.type)?(bt(s.type,r),!0):(Xt(s.type,r),!0)}return!1}function xu(t,s,i,r,a){return!(!i||!["function","method","parameter"].includes(i.kind))&&s.kind==="typereference"&&r.kind==="identifier"&&(Xt(s,a),!0)}function Wu(t,s){return!(!t||!["label","goto"].includes(t.kind))&&(Xt(t,s),!0)}function gu(t,s,i,r){return i&&i.kind==="inline"?(i.leadingComments||(i.leadingComments=[]),i.leadingComments.includes(r)||i.leadingComments.push(r),!0):!(t||i||!s||s.kind!=="inline")&&(bt(s,r),!0)}function Qu(t,s,i){return!(!t||t.kind!=="try"||!s)&&(s.kind==="block"?(Po(s,i),!0):s.kind==="try"?(Eu(s.always,i),!0):s.kind==="catch"&&(Eu(s.body,i),!0))}function Yu(t,s,i,r){return i||s||!t||t.kind!=="namespace"||t.withBrackets?!(s||!t||t.kind!=="namespace"||t.withBrackets)&&(bt(t,r),!0):(Xt(t,r),!0)}function zu(t,s,i,r){return!(!t||t.kind!=="declare")&&(!s||s.kind!=="noop")&&(i&&t.directives[0]!==i?!(!i||!s)&&(Kt(i,r),!0):(t.mode==="none"?Xt(t,r):bt(t,r),!0))}function Fu(t,s,i,r,a){if(!i||i.kind!=="while"||!r)return!1;const c=bi(t,Z(a));return t.charAt(c)===")"?(Xt(s,a),!0):r.kind==="block"&&(Po(r,a),!0)}function Cu(t,s){return t.node.printed=!0,s.printer.printComment(t,s)}function dt(t,s,i,r){const a=[],c=t.getValue();return c&&c.comments?(t.each((()=>{const D=t.node;!D||D.leading||D.trailing||r&&!r(D)||a.push(Cu(t,s))}),"comments"),a.length===0?"":i?Gu(re,a):wh([re,Gu(re,a)])):""}function vi(t){return t.comments&&t.comments.some((s=>s.leading))}function Ni(t){return t.comments&&t.comments.some((s=>s.trailing))}function Ue(t,s){const i=[];return t.forEach(((r,a,c)=>{r.printed=!0;const D=c.length===a+1;i.push(r.value),D||i.push(re),Lh(s.originalText,Z(r))&&!D&&i.push(re)})),i}function Au(t){return t.kind==="commentblock"}function Ju(t,s,i){const{node:r}=t;return r&&r===s.cursorNode?[$u,i,$u]:i}function bu(t,s,i,r){const{node:a}=t,c=s(t),D=a&&a.comments;if(!D||D.length===0)return Ju(t,i,c);const d=[],m=["",c];return t.each((E=>{let{node:p}=E;const{leading:T,trailing:F}=p;if(T){const v=(function(L,O,G){const R=Cu(L,G);if(!R)return"";const K=L.node;return G.printer.isBlockComment&&G.printer.isBlockComment(K)?[R,Bo(G.originalText,Z(K))?re:" "]:[R,re]})(t,0,i);if(!v)return;d.push(v);const x=i.originalText;Bo(x,Sh(x,Z(p)))&&d.push(re)}else F&&m.push((function(v,x,L){const O=Cu(v,L);if(!O)return"";const G=v.node,R=L.printer.isBlockComment&&L.printer.isBlockComment(G);if(Bo(L.originalText,nt(G),{backwards:!0})){const K=Oh(L.originalText,nt(G));return Vu([re,K?re:"",O])}return R?[" ",O]:[Vu([" ",O]),R?"":Rh]})(t,0,i))}),"comments"),Ju(t,i,d.concat(m))}function Ku(t,s){const{parent:i}=t;if(!i)return!1;const{key:r,node:a}=t;if(["program","expressionstatement","namespace","declare","block","include","print","return","echo"].includes(i.kind))return!1;switch(a.kind){case"pre":case"post":if(i.kind==="unary")return a.kind==="pre"&&(a.type==="+"&&i.type==="+"||a.type==="-"&&i.type==="-");case"unary":switch(i.kind){case"unary":return a.type===i.type&&(a.type==="+"||a.type==="-");case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return r==="what";case"bin":return i.type==="**"&&r==="left";default:return!1}case"bin":switch(i.kind){case"assign":case"retif":return["and","xor","or"].includes(a.type);case"silent":case"cast":return a.parenthesizedExpression;case"pre":case"post":case"unary":return!0;case"call":case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":return r==="what";case"bin":{const D=i.type,d=Io(D),m=a.type,E=Io(m);return d>E||D==="||"&&m==="&&"||d===E&&r==="right"||d===E&&!pu(D,m)||(d<E&&m==="%"?D==="+"||D==="-":!(!du[c=D]&&c!=="|"&&c!=="^"&&c!=="&"))}default:return!1}case"propertylookup":case"nullsafepropertylookup":case"staticlookup":return i.kind==="call"&&r==="what"&&a.parenthesizedExpression;case"clone":case"new":{const D=a.kind==="clone"||a.kind==="new"&&s.phpVersion<8.4;switch(i.kind){case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return r==="what"&&D;default:return!1}}case"yield":switch(i.kind){case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return r==="what";case"retif":return r==="test";default:return!(!a.key&&!a.value)}case"assign":return(i.kind!=="for"||!i.init.includes(a)&&!i.increment.includes(a))&&i.kind!=="assign"&&i.kind!=="static"&&!["if","do","while","foreach","switch"].includes(i.kind)&&i.kind!=="silent"&&i.kind!=="call";case"retif":switch(i.kind){case"cast":return!0;case"unary":case"bin":case"retif":return!(r==="test"&&!i.trueExpr);case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return r==="what";default:return!1}case"closure":switch(i.kind){case"call":return r==="what";case"propertylookup":case"nullsafepropertylookup":return!0;default:return!1}case"silence":case"cast":return a.parenthesizedExpression;case"string":case"array":switch(i.kind){case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return(!["string","array"].includes(a.kind)||i.kind!=="offsetlookup")&&r==="what";default:return!1}case"print":case"include":return i.kind==="bin"}var c;return!1}const{breakParent:Xu,join:ft,line:et,lineSuffix:Bh,group:w,conditionalGroup:cs,indent:U,dedent:Ph,ifBreak:Me,hardline:I,softline:X,literalline:ds,align:Uh,dedentToRoot:Mh}=ut.doc.builders,{willBreak:Fe}=ut.doc.utils,{isNextLineEmptyAfterIndex:Hh,hasNewline:Gh,hasNewlineInRange:qu,getNextNonSpaceNonCommentCharacterIndex:$h,isNextLineEmpty:He,isPreviousLineEmpty:Vh}=ut.util;function Si(t,s){return!!t.trailingCommaPHP&&t.phpVersion>=s}function vu(t){return t.braceStyle!=="1tbs"}function Nu(t,s,i){return[arguments.length>3&&arguments[3]!==void 0&&arguments[3]?"?":"","->",i("offset")]}function Zu(t,s,i){return Nu(t,s,i,!0)}function th(t,s,i){const{node:r}=t,a=!["variable","identifier"].includes(r.offset.kind);return["::",a?"{":"",i("offset"),a?"}":""]}function eh(t,s,i){const{node:r}=t,a=r.offset&&r.offset.kind==="number"||ku(t,"encapsed");return["[",r.offset?w([U([a?"":X,i("offset")]),a?"":X]):"","]"]}function sh(t){return t.kind==="array"&&(t.items.length>0||t.comments)||t.kind==="function"||t.kind==="method"||t.kind==="closure"}function oe(t,s,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"arguments";const a=t.node[r];if(a.length===0)return["(",dt(t,s,!0),")"];let c=!1,D=!1;const d=t.map((v=>{let{node:x,isLast:L,isFirst:O}=v;const G=[i()];return L||(He(s.originalText,Z(x))?(O&&(D=!0),c=!0,G.push(",",I,I)):G.push(",",et)),G}),r),{node:m}=t,E=Jt(a),p=Si(s,7.3)&&["call","new","unset","isset"].includes(m.kind)||Si(s,8)&&["function","closure","method","arrowfunc","attribute"].includes(m.kind)?U([E&&Ru(E)?I:"",","]):"",T=(function(v){if(v.length!==2)return!1;const[x,L]=v;return!(x.comments&&x.comments.length||x.kind!=="function"&&x.kind!=="method"&&x.kind!=="closure"||L.kind==="retif"||sh(L))})(a),F=(function(v){const x=Jt(v),L=(O=v).length>1?O[O.length-2]:null;var O;return!vi(x)&&!Ni(x)&&sh(x)&&(!L||L.kind!==x.kind)})(a);if(T||F){const v=(T?d.slice(1).some(Fe):d.slice(0,-1).some(Fe))||c;let x;t.each((G=>{let{isLast:R,isFirst:K}=G;T&&K&&(x=[i([],{expandFirstArg:!0}),d.length>1?",":"",D?I:et,D?I:"",d.slice(1)]),F&&R&&(x=[...d.slice(0,-1),i([],{expandLastArg:!0})])}),r);const L=d.some(Fe),O=["(",...x,")"];return[L?Xu:"",cs([L?Me(w(["(",U([et,...d]),p,et,")"],{shouldBreak:!0}),O):O,T?["(",w(x[0],{shouldBreak:!0}),...x.slice(1),")"]:["(",...d.slice(0,-1),w(Jt(x),{shouldBreak:!0}),")"],w(["(",U([et,...d]),Me(p),et,")"],{shouldBreak:!0})],{shouldBreak:v})]}return w(["(",U([X,...d]),Me(p),X,")"],{shouldBreak:d.some(Fe)||c})}function ih(t){return t.kind==="array"&&t.items.length!==0}function Ii(t){return t.right.kind==="array"&&t.right.items.length!==0}function nh(t,s,i,r,a){let c=[];const{node:D}=t;if(D.kind==="bin"){pu(D.type,D.left.type)?c=c.concat(t.call((()=>nh(t,s,i,!0,a)),"left")):c.push(s("left"));const d=Ii(D)?[D.type," ",s("right")]:[D.type,et,s("right")],{parent:m}=t,E=!(a&&["||","&&"].includes(D.type))&&ls(m)!==ls(D)&&ls(D.left)!==ls(D)&&ls(D.right)!==ls(D),p=fu(D.left)||D.left.kind==="bin"&&fu(D.left.right);c.push(p?"":" ",E?w(d):d),r&&D.comments&&(c=bu(t,(()=>c),i))}else c.push(s());return c}function rh(t,s,i){const{node:r}=t;switch(r.kind){case"propertylookup":return Nu(t,s,i);case"nullsafepropertylookup":return Zu(t,s,i);case"staticlookup":return th(t,0,i);case"offsetlookup":return eh(t,0,i);default:throw new Error(`Have not implemented lookup kind ${r.kind} yet.`)}}function oh(t){let{opening:s=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t.type==="heredoc")return s?`<<<${t.label}`:t.label;const i={string:'"',shell:"`"};if(i[t.type])return i[t.type];throw new Error(`Unimplemented encapsed type ${t.type}`)}function jh(t,s,i){const r=[];let a=[];return t.each((c=>{let{node:D}=c;r.push(a),r.push(w(i())),a=[",",et],D&&He(s.originalText,Z(D))&&a.push(X)}),"items"),r}function Li(t,s,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"children";const{node:a,parent:c}=t;let D=-1;const d=[],m=[];t.map((()=>{const{node:p,next:T,isFirst:F,isLast:v,index:x}=t,L=p.kind==="inline",O=i(),G=!v&&!L&&(T&&T.kind==="case"?!Ai(t):T&&T.kind!=="inline");let R=[O,G?I:"",G&&He(s.originalText,Z(p))?I:""];const K=a.kind==="block"&&c&&["function","closure","method","try","catch"].includes(c.kind);let z=K&&F?"":" ";if(L||!L&&v&&D>=0){const vt=D;if(L&&(D=x),L&&!F||!L&&v){const qt=(L?vt:D)+1,Nt=v&&!L?x+1:x,ae=t.siblings[L?vt:D],ps=ae?(function(fs){const Ri=fs.split(`
`).pop();return Ri.length-Ri.trimLeft().length+1})(ae.raw):"",Oi=Nt-qt>1,Go=Oi?K&&!ae||_u(a)&&qt===0?"":I:"",wi=Oi&&p.kind!=="halt"?K&&v?"":I:"";Oi&&(z=""),m.push({start:qt,end:Nt,alignment:ps,before:Go,after:wi})}}if(L){const vt=T&&T.kind==="echo"&&T.shortForm?"<?=":"<?php",qt=p.leadingComments&&p.leadingComments.length?[F&&a.kind!=="namespace"&&!K?"<?php":"",a.kind!=="namespace"&&K?"":I,Ue(p.leadingComments,s),I,"?>"]:_u(a)&&F&&a.kind!=="namespace"?"":[z,"?>"],Nt=t.getNode(x+1),ae=Nt&&Nt.children&&Nt.children.length;R=[qt,R,p.comments&&p.comments.length?[vt,I,ae?Ue(p.comments,s):"",I]:_u(a)&&v?"":[vt," "]]}d.push(R)}),r);const E=(function(p,T){if(T.length===0)return p;let F=0;return T.reduce(((v,x)=>{const{start:L,end:O,alignment:G,before:R,after:K}=x,z=[R||"",...p.slice(L,O),K||""],vt=v.concat(p.slice(F,L),G?Mh(w(Uh(new Array(G).join(" "),z))):w(z),O===p.length-1?p.slice(O):"");return F=O,vt}),[])})(d,m);if(a.kind==="program"&&!a.extra.parseAsEval){const p=[],[T]=a.children;if(!T||T.kind!=="inline"){const F=s.originalText.trim().match(/^<\?(php|=)(\s+)?\S/),v=[F&&F[2]&&F[2].includes(`
`)?[I,F[2].split(`
`).length>2?I:""]:" ",a.comments?Ue(a.comments,s):""],x=T&&T.kind==="echo"&&T.shortForm;p.push([x?"<?=":"<?php",v])}if(p.push(E),/\?>\n?$/.test(s.originalText)){const F=Jt(a.children),v=F?[qu(s.originalText.trimEnd(),Z(F),Z(a))?F.kind==="inline"&&F.comments&&F.comments.length?"":I:" ",He(s.originalText,Z(F))?I:""]:a.comments?I:"";p.push(Bh([v,"?>"]))}return p}return E}function ah(t,s,i,r){return t.map((a=>{let{node:c,isLast:D}=a;const d=[];return d.push(i()),D||(d.push(I),He(s.originalText,Z(c))&&d.push(I)),d}),r)}function Ut(t,s,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"extends",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:" ",c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:" ";const D=t.node[r],d=Ot(D)?[I,t.call((()=>dt(t,s,!0)),r),I]:a,m=Array.isArray(D)?w(ft(",",t.map((E=>{let{node:p}=E;const T=i();return Ot(p)?[I,dt(t,s,!0),I,T]:[c,T]}),r))):[c,i(r)];return U([d,r,Fe(d)?U(m):m])}function Ce(t,s,i){let{inline:r=!1}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=[];return t.node.attrGroups?(t.each((()=>{const c=["#["];!r&&a.length>0&&a.push(I),c.push(X),t.each((()=>{const D=t.node;c.length>2&&c.push(",",et);const d=[D.name];D.args.length>0&&d.push(oe(t,s,i,"args")),c.push(w(d))}),"attrs"),a.push(w([U(c),Me(Si(s,8)?",":""),X,"]",r?Me(X," "):""]))}),"attrGroups"),a.length===0?[]:[...a,r?"":I]):[]}function De(t,s,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"body";const{node:a}=t;if(!a[r])return";";const c=i(r);return[a.shortForm?":":" {",U(a[r].kind!=="block"||a[r].children&&a[r].children.length>0||a[r].comments&&a[r].comments.length>0?[Fh(t)?a.kind==="switch"?" ":"":I,c]:""),a.kind==="if"&&r==="body"?"":[Ch(t)?I:"",a.shortForm?["end",a.kind,";"]:"}"]]}function Uo(t,s,i,r,a,c,D){if(!r)return s;const d=Mo(t,r,a,c,D);return w([s,i,d])}function uh(t){return!!xt(t)&&(!(t.what.kind!=="variable"&&!Du(t.what))||uh(t.what))}function Mo(t,s,i,r,a){const c=r?"&":"";if((function(d,m){return m.comments&&m.comments.some((E=>E.leading&&Bo(d,Z(E))))})(a.originalText,s))return U([I,c,i]);const D=s.kind==="cast"?s.expr:s;return D.kind==="bin"&&!Ii(D)||D.kind==="retif"&&(!D.trueExpr&&!ih(D.falseExpr)||D.test.kind==="bin"&&!Ii(D.test))||(t.kind==="variable"||t.kind==="string"||xt(t))&&(D.kind==="string"&&!hh(D)||uh(D))?w(U([et,c,i])):[" ",c,i]}function hh(t){return t.raw.includes(`
`)}function Ho(t,s){return(t.kind==="string"||t.kind==="encapsed"&&(t.type==="string"||t.type==="shell"))&&hh(t)&&!Gh(s,nt(t),{backwards:!0})}function lh(t,s,i){return w(t.map((r=>{let{isFirst:a}=r;return a?[s()]:[i,s()]}),"types"))}const Wh=new Set(["loc","range","raw","comments","leadingComments","trailingComments","parenthesizedExpression","parent","prev","start","end","tokens","errors","extra"]);function ch(t,s){if(t.kind==="string"&&delete s.isDoubleQuote,["array","list"].includes(t.kind)&&delete s.shortForm,t.kind==="inline"){if(t.value.includes("___PSEUDO_INLINE_PLACEHOLDER___"))return null;s.value=s.value.replace(/\n/g,"")}if((t.kind==="continue"||t.kind==="break")&&t.level){const{level:i}=s;i.kind==="number"&&(s.level=i.value==="1"?null:i)}if(t.kind==="block"&&t.children.length===1&&t.children[0].kind==="block")for(;s.children[0].kind==="block";)s.children=s.children[0].children;if(t.kind==="number"&&(s.value=ge(t.value)),["foreach","for","if","while","do"].includes(t.kind)&&(t.body&&t.body.kind!=="block"?s.body={kind:"block",children:[s.body]}:s.body=s.body?s.body:null,t.alternate&&t.alternate.kind!=="block"?s.alternate={kind:"block",children:[s.alternate]}:s.alternate=s.alternate?s.alternate:null),t.kind==="usegroup"&&typeof t.name=="string"&&(s.name=s.name.replace(/^\\/,"")),t.kind==="useitem"&&(s.name=s.name.replace(/^\\/,"")),t.kind==="method"&&t.name.kind==="identifier"&&(s.name.name=Pu(s.name.name)),t.kind==="noop")return null}ch.ignoredProperties=Wh;const dh=/@prettier|@format/,ph=(function(t){const s=new Map;return i=>(s.has(i)||s.set(i,t(i)),s.get(i))})((t=>{const s=fe(t),[i]=s.children,[r]=s.comments.filter((a=>a.kind==="commentblock"));if(i&&r&&r.loc.start.line<i.loc.start.line)return r})),{join:Qh,hardline:Yh}=ut.doc.builders;function fh(t,s){let{extend:i,override:r}=s;const a={};for(const c in t)a[c==="languageId"?"linguistLanguageId":c]=t[c];if(i)for(const c in i)a[c]=(a[c]||[]).concat(i[c]);for(const c in r)a[c]=r[c];return a}const zh=[fh({name:"PHP",type:"programming",color:"#4F5D95",extensions:[".php",".aw",".ctp",".fcgi",".inc",".php3",".php4",".php5",".phps",".phpt"],tmScope:"text.html.php",aceMode:"php",languageId:272,aliases:["inc"],codemirrorMode:"php",codemirrorMimeType:"application/x-httpd-php",interpreters:["php"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},{override:{parsers:["php"],vscodeLanguageIds:["php"]}}),fh({name:"HTML+PHP",type:"markup",color:"#4f5d95",extensions:[".phtml"],tmScope:"text.html.php",aceMode:"php",languageId:151,codemirrorMode:"php",codemirrorMimeType:"application/x-httpd-php",group:"HTML"},{override:{parsers:["php"],vscodeLanguageIds:["php"]}})],Jh={php:{parse:fe,astFormat:"php",locStart:nt,locEnd:Z,hasPragma:function(t){if(!dh.test(t))return!1;const s=ph(t);if(s){const{value:i}=s;return dh.test(i)}return!1}}},Kh=new Set(["kind","loc","errors","extra","comments","leadingComments","enclosingNode","precedingNode","followingNode"]),Xh={php:{print:function(t,s,i){const{node:r}=t;if(typeof r=="string")return r;const a=(function(d,m,E){const{node:p}=d;switch(p.kind){case"program":return w([Li(d,m,E),dt(d,m,!0,(T=>!T.printed))]);case"expressionstatement":return E("expression");case"block":return[Li(d,m,E),dt(d,m,!0)];case"declare":{const T=F=>ft(", ",F.map(E,"directives"));return["block","short"].includes(p.mode)?["declare(",T(d),")",p.mode==="block"?" {":":",p.children.length>0?U([I,Li(d,m,E)]):"",dt(d,m),I,p.mode==="block"?"}":"enddeclare;"]:["declare(",T(d),")",d.next?.kind==="inline"?"":";"]}case"declaredirective":return[E("key"),"=",E("value")];case"namespace":return["namespace ",p.name&&typeof p.name=="string"?[p.name,p.withBrackets?" ":""]:"",p.withBrackets?"{":";",Ot(p)?[" ",dt(d,m,!0)]:"",p.children.length>0?p.withBrackets?U([I,Li(d,m,E)]):[p.children[0].kind==="inline"?"":[I,Ah(m.originalText,p)?I:""],Li(d,m,E)]:"",p.withBrackets?[I,"}"]:""];case"usegroup":return w(["use ",p.type?[p.type," "]:"",U([p.name?[wu(p.name),"\\{",X]:"",ft([",",et],d.map(E,"items"))]),p.name?[Me(Si(m,7.2)?",":""),X,"}"]:""]);case"useitem":return[p.type?[p.type," "]:"",wu(p.name),Ot(p)?[" ",dt(d,m,!0)]:"",p.alias?[" as ",E("alias")]:""];case"class":case"enum":case"interface":case"trait":return(function(T,F,v){const{node:x}=T,L=x.kind==="class"&&x.isAnonymous,O=Ce(T,F,v,{inline:L}),G=L?[]:[...O];x.isFinal&&G.push("final "),x.isAbstract&&G.push("abstract "),x.isReadonly&&G.push("readonly "),G.push(L?"":x.kind),x.name&&G.push(" ",v("name")),x.kind==="enum"&&x.valueType&&G.push(": ",v("valueType")),x.extends&&x.implements?G.push(cs([[Ut(T,F,v,"extends"),Ut(T,F,v,"implements")],[Ut(T,F,v,"extends"),Ut(T,F,v,"implements"," ",I)],[Ut(T,F,v,"extends",I," "),Ut(T,F,v,"implements",I,x.implements.length>1?I:" ")]],{shouldBreak:Ot(x.extends)})):(x.extends&&G.push(cs([Ut(T,F,v,"extends"),Ut(T,F,v,"extends"," ",I),Ut(T,F,v,"extends",I,x.extends.length>1?I:" ")])),x.implements&&G.push(cs([Ut(T,F,v,"implements"),Ut(T,F,v,"implements"," ",I),Ut(T,F,v,"implements",I,x.implements.length>1?I:" ")])));const R=x.body&&x.body.length===0&&!Ot(x),K=w([w(G),vu(F)&&!R?L?et:I:" "]),z=["{",U([R?"":I,ah(T,F,v,"body")]),dt(T,F,!0),R?"":I,"}"];return[K,z]})(d,m,E);case"traitprecedence":return[E("trait"),"::",E("method")," insteadof ",ft(", ",d.map(E,"instead"))];case"traitalias":return[p.trait?[E("trait"),"::"]:"",p.method?E("method"):""," as ",ft(" ",[...p.visibility?[p.visibility]:[],...p.as?[E("as")]:[]])];case"traituse":return w(["use ",U(w(ft([",",et],d.map(E,"traits")))),p.adaptations?[" {",p.adaptations.length>0?[U([I,ah(d,m,E,"adaptations")]),I]:Ot(p)?[et,dt(d,m,!0),et]:"","}"]:""]);case"function":case"closure":case"method":return(function(T,F,v){const{node:x}=T,L=Ce(T,F,v,{inline:x.kind==="closure"}),O=[];x.isFinal&&O.push("final "),x.isAbstract&&O.push("abstract "),x.visibility&&O.push(x.visibility," "),x.isStatic&&O.push("static "),O.push("function "),x.byref&&O.push("&"),x.name&&O.push(v("name")),O.push(oe(T,F,v)),x.uses&&x.uses.length>0&&O.push(w([" use ",oe(T,F,v,"uses")])),x.type&&O.push([": ",Ot(x.type)?[T.call((()=>dt(T,F,!0)),"type")," "]:"",x.nullable?"?":"",v("type")]);const G=O;if(!x.body)return[...L,G];const R=["{",U([wo(T)?"":I,v("body")]),wo(T)?"":I,"}"];return x.kind==="closure"?[...L,G," ",R]:x.arguments.length===0?[...L,G,vu(F)&&!wo(T)?I:" ",R]:O.some(Fe)?[...L,G," ",R]:[...L,cs([[G,vu(F)&&!wo(T)?I:" ",R],[G," ",R]])]})(d,m,E);case"arrowfunc":return[p.parenthesizedExpression?"(":"",...Ce(d,m,E,{inline:!0}),p.isStatic?"static ":"","fn",oe(d,m,E),p.type?[": ",p.nullable?"?":"",E("type")]:""," => ",E("body"),p.parenthesizedExpression?")":""];case"parameter":{let T="";p.flags===1?T="public ":p.flags===2?T="protected ":p.flags===4&&(T="private ");const F=[...Ce(d,m,E,{inline:!0}),T,p.readonly?"readonly ":"",p.nullable?"?":"",p.type?[E("type")," "]:"",p.byref?"&":"",p.variadic?"...":"","$",E("name")];return p.value?w([F,Ot(p)?" ":"",dt(d,m,!0)," =",Mo(p.name,p.value,E("value"),!1,m)]):F}case"variadic":return["...",E("what")];case"property":return w([p.readonly?"readonly ":"",p.type?[p.nullable?"?":"",E("type")," "]:"","$",E("name"),p.value?[" =",Mo(p.name,p.value,E("value"),!1,m)]:""]);case"propertystatement":{const T=[];d.each((()=>{T.push(...Ce(d,m,E))}),"properties");const F=d.map(E,"properties"),v=p.properties.some((O=>O.value));let x;F.length!==1||p.properties[0].comments?F.length>0&&(x=U(F[0])):[x]=F;const L=p.visibility||p.visibility===null;return w([...T,L?[p.visibility===null?"var":p.visibility,""]:"",p.isStatic?[L?" ":"","static"]:"",x?[" ",x]:"",U(F.slice(1).map((O=>[",",v?I:et,O])))])}case"if":{const T=[],F=De(d,m,E,"body"),v=w(["if (",w([U([X,E("test")]),X]),")",F]);if(T.push(v,Ai(d)||!p.body?"":I),p.alternate){T.push(p.shortForm?"":"} ");const x=Ni(p.body)&&p.body.comments.some((O=>O.trailing&&!Au(O)))||(function(O){if(!O.comments)return!1;const G=Jt(O.comments.filter((R=>!R.leading&&!R.trailing)));return G&&!Au(G)})(p),L=!x;T.push(L?"":I),Ot(p)&&T.push(He(m.originalText,Z(p.body))?I:"",dt(d,m,!0),x?I:" "),T.push("else",w(p.alternate.kind==="if"?E("alternate"):De(d,m,E,"alternate")))}else T.push(p.body?p.shortForm?"endif;":"}":"");return T}case"do":return["do",De(d,m,E,"body")," while (",w([U([X,E("test")]),X]),")"];case"while":case"switch":return w([p.kind," (",w([U([X,E("test")]),X]),")",De(d,m,E,"body")]);case"for":{const T=De(d,m,E,"body"),F=dt(d,m,!0),v=F?[F,X]:"";return p.init.length||p.test.length||p.increment.length?[v,w(["for (",w([U([X,w(ft([",",et],d.map(E,"init"))),";",et,w(ft([",",et],d.map(E,"test"))),";",et,w(ft([",",et],d.map(E,"increment")))]),X]),")",T])]:[v,w(["for (;;)",T])]}case"foreach":{const T=De(d,m,E,"body"),F=dt(d,m,!0);return[F?[F,X]:"",w(["foreach (",w([U([X,E("source"),et,"as ",w(p.key?U(ft([" =>",et],[E("key"),E("value")])):E("value"))]),X]),")",T])]}case"try":{const T=[];return T.push("try",De(d,m,E,"body")),p.catches&&T.push(d.map(E,"catches")),p.always&&T.push(" finally",De(d,m,E,"always")),T}case"catch":return[" catch",p.what?[" (",ft(" | ",d.map(E,"what")),p.variable?[" ",E("variable")]:"",")"]:"",De(d,m,E,"body")];case"case":return[p.test?["case ",p.test.comments?U(E("test")):E("test"),":"]:"default:",p.body&&p.body.children&&p.body.children.length?U([Ai(d)?"":I,E("body")]):""];case"break":case"continue":return p.level&&p.level.kind==="number"&&p.level.value!=="1"?[`${p.kind} `,E("level")]:p.kind;case"call":return p.arguments.length===1&&Ho(p.arguments[0],m.originalText)?[E("what"),"(",ft(", ",d.map(E,"arguments")),")"]:xt(p.what)?(function(T,F,v){const x=[];function L(j){const{originalText:ot}=F,kt=$h(ot,Z(j));return ot.charAt(kt)===")"?Hh(ot,kt+1,F):He(ot,Z(j))}function O(j){const{node:ot}=j;if(ot.kind!=="call"||!xt(ot.what)&&ot.what.kind!=="call")if(xt(ot)){let kt=null;kt=ot.kind==="propertylookup"?Nu(j,F,v):ot.kind==="nullsafepropertylookup"?Zu(j,F,v):ot.kind==="staticlookup"?th(j,F,v):eh(j,F,v),x.unshift({node:ot,needsParens:Ku(j,F),printed:bu(j,(()=>kt),F)}),j.call((Bi=>O(Bi)),"what")}else x.unshift({node:ot,printed:v()});else x.unshift({node:ot,printed:[bu(j,(()=>oe(j,F,v)),F),L(ot)?I:""]}),j.call((kt=>O(kt)),"what")}const{node:G}=T;x.unshift({node:G,printed:oe(T,F,v)}),T.call((j=>O(j)),"what");for(let j=0;j<x.length;++j)x[j].node.kind==="call"&&x[j-1]&&["propertylookup","nullsafepropertylookup","staticlookup"].includes(x[j-1].node.kind)&&x[j-1].needsParens&&(x[0].printed=["(",x[0].printed],x[j-1].printed=[x[j-1].printed,")"]);const R=[];let K=[x[0]],z=1;for(;z<x.length&&(x[z].node.kind==="call"||xt(x[z].node)&&x[z].node.offset&&x[z].node.offset.kind==="number");++z)K.push(x[z]);if(x[0].node.kind!=="call")for(;z+1<x.length&&xt(x[z].node)&&xt(x[z+1].node);++z)K.push(x[z]);R.push(K),K=[];let vt=!1;for(;z<x.length;++z){if(vt&&xt(x[z].node)){if(x[z].node.kind==="offsetlookup"&&x[z].node.offset&&x[z].node.offset.kind==="number"){K.push(x[z]);continue}R.push(K),K=[],vt=!1}x[z].node.kind==="call"&&(vt=!0),K.push(x[z]),x[z].node.comments&&Ni(x[z].node)&&(R.push(K),K=[],vt=!1)}K.length>0&&R.push(K);function qt(j){const ot=j[1].length&&j[1][0].node.kind==="offsetlookup";if(j[0].length===1){const _s=j[0][0].node;return _s.kind==="variable"&&(_s.name==="this"||Nt&&kt(_s.name))||Du(_s)}function kt(_s){return _s.length<F.tabWidth}const Bi=Jt(j[0]).node;return xt(Bi)&&(Bi.offset.kind==="identifier"||Bi.offset.kind==="variable")&&ot}const Nt=T.parent.kind==="expressionstatement",ae=R.length>=2&&!R[1][0].node.comments&&qt(R);function ps(j){const ot=[];for(let kt=0;kt<j.length;kt++)j[kt+1]&&j[kt+1].needsParens?(ot.push("(",j[kt].printed,j[kt+1].printed,")"),kt++):ot.push(j[kt].printed);return ot}function Oi(j){return j.length===0?"":U(w([I,ft(I,j.map(ps))]))}const Go=R.map(ps),wi=Go,fs=ae?3:2,Ri=R.slice(0,fs).flat(),_h=Ri.slice(1,-1).some((j=>vi(j.node)))||Ri.slice(0,-1).some((j=>Ni(j.node)))||R[fs]&&vi(R[fs][0].node),qh=ku(T,"encapsed");if(R.length<=fs&&!_h||qh)return w(wi);const Dh=Jt(ae?R.slice(1,2)[0]:R[0]).node,kh=Dh.kind!=="call"&&L(Dh),Eh=[ps(R[0]),ae?R.slice(1,2).map(ps):"",kh?I:"",Oi(R.slice(ae?2:1))],mh=x.filter((j=>j.node.kind==="call"));return _h||mh.length>2&&mh.some((j=>!j.node.arguments.every((ot=>Hu(ot)))))||Go.slice(0,-1).some(Fe)?w(Eh):[Fe(wi)||kh?Xu:"",cs([wi,Eh])]})(d,m,E):[E("what"),oe(d,m,E)];case"new":{const T=p.what&&p.what.kind==="class"&&p.what.isAnonymous;if(!T&&p.arguments.length===1&&Ho(p.arguments[0],m.originalText))return["new ",...d.call(Ce,"what"),E("what"),"(",ft(", ",d.map(E,"arguments")),")"];const F=[];if(F.push("new "),T)F.push(p.what.leadingComments&&p.what.leadingComments[0].kind==="commentblock"?[Ue(p.what.leadingComments,m)," "]:"",...d.call((()=>Ce(d,m,E,{inline:!0})),"what"),"class",p.arguments.length>0?[" ",oe(d,m,E)]:"",w(E("what")));else{const v=["call","offsetlookup"].includes(p.what.kind),x=[v?"(":"",E("what"),v?")":"",oe(d,m,E)];F.push(vi(p.what)?U(x):x)}return F}case"clone":return["clone ",p.what.comments?U(E("what")):E("what")];case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":{const{parent:T}=d;let F,v=0;do F=d.getParentNode(v),v++;while(F&&xt(F));const x=ku(d,"encapsed")||F&&(F.kind==="new"||F.kind==="assign"&&F.left.kind!=="variable")||p.kind==="offsetlookup"||(Du(p.what)||p.what.kind==="variable")&&["identifier","variable","encapsedpart"].includes(p.offset.kind)&&T&&!xt(T);return[E("what"),x?rh(d,m,E):w(U([X,rh(d,m,E)]))]}case"exit":return w([p.useDie?"die":"exit","(",p.expression?Ho(p.expression,m.originalText)?E("expression"):[U([X,E("expression")]),X]:dt(d,m),")"]);case"global":return w(["global ",U(ft([",",et],d.map(E,"items")))]);case"include":return[p.require?"require":"include",p.once?"_once":""," ",p.target.comments?U(E("target")):E("target")];case"label":return[E("name"),":"];case"goto":return["goto ",E("label")];case"throw":return["throw ",p.what.comments?U(E("what")):E("what")];case"silent":return["@",E("expr")];case"halt":return[Ot(p)?[dt(d,m,!0),I]:"","__halt_compiler();",p.after];case"eval":return w(["eval(",Ho(p.source,m.originalText)?E("source"):[U([X,E("source")]),X],")"]);case"echo":{const T=d.map(E,"expressions");let F;return T.length!==1||p.expressions[0].comments?T.length>0&&(F=fu(p.expressions[0])||p.expressions[0].comments?U(T[0]):Ph(T[0])):[F]=T,w([p.shortForm?"":"echo ",F||"",U(T.slice(1).map((v=>[",",et,v])))])}case"print":return["print ",p.expression.comments?U(E("expression")):E("expression")];case"return":{const T=[];if(T.push("return"),p.expr){const F=E("expr");T.push(" ",p.expr.comments?U(F):F)}return Ot(p)&&T.push(" ",dt(d,m,!0)),T}case"isset":case"unset":return w([p.kind,oe(d,m,E,"variables")]);case"empty":return w(["empty(",U([X,E("expression")]),X,")"]);case"variable":{const{parent:T,grandparent:F}=d,v=T.kind==="assign"?"":p.byref?"&":"",x=T.kind==="encapsedpart"&&T.syntax==="simple"&&T.curly||F&&T.kind==="offsetlookup"&&F.kind==="encapsedpart"&&F.syntax==="simple"&&F.curly?"":"$",L=p.curly?"{":"",O=p.curly?"}":"";return[v,x,L,E("name"),O]}case"constantstatement":case"classconstant":{const T=Ce(d,m,E),F=d.map(E,"constants");let v;return F.length!==1||p.constants[0].comments?F.length>0&&(v=U(F[0])):[v]=F,w([...T,p.final?"final ":"",p.visibility?[p.visibility," "]:"","const",p.type?[p.nullable?" ?":" ",E("type")]:"",v?[" ",v]:"",U(F.slice(1).map((x=>[",",I,x])))])}case"constant":return Uo(p.name,E("name")," =",p.value,E("value"),!1,m);case"static":{const T=d.map(E,"variables"),F=p.variables.some((x=>x.defaultValue));let v;return T.length!==1||p.variables[0].comments?T.length>0&&(v=U(T[0])):[v]=T,w(["static",v?[" ",v]:"",U(T.slice(1).map((x=>[",",F?I:et,x])))])}case"staticvariable":return Uo(p.variable,E("variable")," =",p.defaultValue,E("defaultValue"),!1,m);case"list":case"array":{const T=p.kind==="array"&&m.phpVersion>=5.4||p.kind==="list"&&(p.shortForm||m.phpVersion>=7.1),F=T?"[":[p.kind,"("],v=T?"]":")";if(p.items.length===0)return Ot(p)?w([F,dt(d,m),X,v]):[F,v];const x=Jt(p.items),L=x&&x.kind==="noop",[O]=p.items.filter((R=>R.kind!=="noop")).sort(((R,K)=>nt(R)-nt(K))),G=!(!O||!O.key)&&O&&qu(m.originalText,nt(p),nt(O));return w([F,U([X,jh(d,m,E)]),L?",":"",Me(!L&&Si(m,5)?[x&&Ru(x)?I:"",","]:""),dt(d,m,!0),X,v],{shouldBreak:G})}case"entry":{const T=p.byRef?"&":"",F=p.unpack?"...":"";return p.key?Uo(p.key,E("key")," =>",p.value,E("value"),T,m):[T,F,E("value")]}case"yield":{const T=[p.key?[E("key")," => "]:"",E("value")];return["yield",p.key||p.value?" ":"",p.value&&p.value.comments?U(T):T]}case"yieldfrom":return["yield from ",p.value.comments?U(E("value")):E("value")];case"unary":return[p.type,E("what")];case"pre":return[p.type+p.type,E("what")];case"post":return[E("what"),p.type+p.type];case"cast":return["(",p.type,") ",p.expr.comments?U(E("expr")):E("expr")];case"assignref":case"assign":{const T=p.kind==="assignref";return Uo(p.left,E("left"),[" ",T?"=":p.operator],p.right,E("right"),T,m)}case"bin":{const{parent:T,grandparent:F}=d,v=p!==T.body&&(T.kind==="if"||T.kind==="while"||T.kind==="switch"||T.kind==="do"),x=nh(d,E,m,!1,v);if(v)return x;if(T.kind==="unary"||xt(T)&&T.kind!=="offsetlookup")return w([U([X,...x]),X]);const L=p!==T.body&&T.kind==="for"||T.kind==="retif"&&F&&F.kind!=="return",O=["assign","property","constant","staticvariable","entry"].includes(T.kind),G=p.left.kind==="bin"&&pu(p.type,p.left.type);if(L||Ii(p)&&!G||!Ii(p)&&O)return w(x);const R=x.slice(1);return w([x.length>0?x[0]:"",U(R)])}case"retif":{const T=[],{parent:F}=d;let v,x=0;do v=d.getParentNode(x),x++;while(v&&v.kind==="retif");const L=v||F,O=p.falseExpr.kind==="bin"?U(E("falseExpr")):E("falseExpr"),G=[p.trueExpr?et:" ","?",p.trueExpr?[" ",p.trueExpr.kind==="bin"?U(E("trueExpr")):E("trueExpr"),et]:"",":",p.trueExpr?[" ",O]:[ih(p.falseExpr)?" ":et,O]];T.push(G);const R=Nt=>F===L?w(Nt):Nt,K=d.grandparent,z=F.kind==="cast"&&K?K:F,vt=["propertylookup","nullsafepropertylookup","staticlookup"].includes(z.kind),qt=E("test");if(!p.trueExpr){const Nt=[qt,z.kind==="bin"||["print","echo","return","include"].includes(L.kind)?U(T):T];return z.kind==="call"&&z.what===p||z.kind==="unary"||xt(z)&&z.kind!=="offsetlookup"?w([U([X,Nt]),X]):R(Nt)}return R([p.test.kind==="retif"?U(qt):qt,U(T),vt?X:""])}case"boolean":return p.value?"true":"false";case"number":return ge(p.value);case"string":{const{parent:T}=d;if(T.kind==="encapsedpart"){const x=d.grandparent;let L=0;const O=m.phpVersion>=7.3;let G=ds;if(x.type==="heredoc"){G=O?I:ds;const R=x.raw.split(`
`);L=R[R.length-1].search(/\S/),L===-1&&(L=R[R.length-2].search(/\S/))}return ft(G,p.raw.split(`
`).map(((R,K)=>K>0||p.loc.start.column===0?R.substring(L):R)))}const F=(function(x,L){if(x.isDoubleQuote===L.singleQuote){const O=x.raw.slice(x.raw[0]==="b"?2:1,-1).match(/\\([$nrtfve]|[xX][0-9a-fA-F]{1,2}|[0-7]{1,3}|u{([0-9a-fA-F]+)})|\r?\n|'|"|\$/);return x.isDoubleQuote?O:!O}return x.isDoubleQuote})(p,m)?'"':"'";let v=p.raw;return p.raw[0]==="b"&&(v=v.slice(1)),['"',"'"].includes(v[0])&&(v=v.substr(1)),['"',"'"].includes(v[v.length-1])&&(v=v.substr(0,v.length-1)),[p.raw[0]==="b"?"b":"",F,ft(ds,v.split(`
`)),F]}case"intersectiontype":return lh(d,E,"&");case"uniontype":return lh(d,E,"|");case"encapsedpart":{const T=p.syntax==="simple"&&p.curly||p.syntax==="complex"?[p.curly?"$":"","{"]:"",F=p.syntax==="simple"&&p.curly||p.syntax==="complex"?"}":"";return[T,E("expression"),F]}case"encapsed":switch(p.type){case"string":case"shell":case"heredoc":{const T=m.phpVersion>=7.3?I:ds;return[oh(p),p.type==="heredoc"?T:"",...d.map(E,"value"),oh(p,{opening:!1}),p.type==="heredoc"&&Oo(d)?I:""]}default:throw new Error(`Have not implemented kind ${p.type} yet.`)}case"inline":return ft(ds,p.raw.replace("___PSEUDO_INLINE_PLACEHOLDER___","").split(`
`));case"magic":return p.value;case"nowdoc":{const T=m.phpVersion>=7.3?I:ds;return["<<<'",p.label,"'",T,ft(T,p.value.split(`
`)),T,p.label,Oo(d)?I:""]}case"name":return[p.resolution==="rn"?"namespace\\":"",p.name];case"literal":return E("value");case"parentreference":return"parent";case"selfreference":return"self";case"staticreference":return"static";case"typereference":return p.name;case"nullkeyword":return"null";case"identifier":{const{parent:T}=d;return T.kind==="method"&&(p.name=Pu(p.name)),E("name")}case"match":{const T=d.map((()=>{const F=d.node,v=vi(F)?[Ue(F.leadingComments,m),I]:[],x=!d.isLast||m.trailingCommaPHP?",":"",L=Ni(F)?[" ",Ue(F.comments.filter((K=>K.trailing)),m)]:[],O=F.conds===null?"default":d.map((K=>{let{isFirst:z}=K;return[",",et,E()].slice(z?2:0)}),"conds"),G=E("body"),R=!d.isFirst&&Vh(m.originalText,nt(F))?I:"";return["",I,R,...v,w([w([O,U(et)]),"=> ",G,x,...L])].slice(d.isFirst?1:0)}),"arms");return w(["match (",w([U([X,E("cond")]),X]),") {",w(U([...T]))," ",X,"}"])}case"noop":return p.comments?Ue(p.comments,m):"";case"namedargument":return[p.name,": ",E("value")];case"enumcase":return w(["case ",E("name"),p.value?[" =",Mo(p.name,p.value,E("value"),!1,m)]:""]);case"variadicplaceholder":return"...";default:throw new Error(`Have not implemented kind '${p.kind}' yet.`)}})(t,s,i),c=[],D=Ku(t,s);return D&&c.unshift("("),c.push(a),D&&c.push(")"),(function(d){const{node:m,parent:E}=d;if(!E)return!1;if(["for","foreach","while","do","if","switch"].includes(E.kind)&&m.kind!=="block"&&m.kind!=="if"&&(E.body===m||E.alternate===m))return!0;if(!(function(p){return["block","program","namespace","class","enum","interface","trait","traituse","declare"].includes(p.kind)})(E)||m.kind==="echo"&&m.shortForm)return!1;if(m.kind==="traituse")return!m.adaptations;if(m.kind==="method"&&m.isAbstract)return!0;if(m.kind==="method"){const{parent:p}=d;if(p&&p.kind==="interface")return!0}return["expressionstatement","do","usegroup","classconstant","propertystatement","traitprecedence","traitalias","goto","constantstatement","enumcase","global","static","echo","unset","return","break","continue","throw"].includes(m.kind)})(t)&&c.push(";"),(function(d){const{node:m}=d,E=m.kind==="program",p=m.children&&Jt(m.children);if(!E||p&&["halt","inline"].includes(p.kind))return!1;if(p&&(p.kind==="declare"||p.kind==="namespace")){const T=p.children.length>0&&Jt(p.children);if(T&&["halt","inline"].includes(T.kind))return!1}return!0})(t)&&c.push(I),c},getVisitorKeys:function(t,s){return Object.keys(t).filter((i=>!s.has(i)&&!Kh.has(i)))},insertPragma:function(t){const s=ph(t);if(s){const{start:{offset:r},end:{offset:a}}=s.loc,c=t.substring(0,r),D=t.substring(a);return`${c}${(function(d){let m=d.split(`
`);if(m.length===1){const[,p]=/\/*\*\*(.*)\*\//.exec(m[0]);m=["/**",` * ${p.trim()}`," */"]}const E=m.findIndex((p=>/@\S/.test(p)))||1;return m.splice(E,0," * @format"),m.join(`
`)})(s.value)}${D}`}return t.startsWith("<?php")?`${t.substring(0,5)}
/** 
 * @format 
 */
${t.substring(5)}`:t},massageAstNode:ch,getCommentChildNodes:function(t){if(t.kind==="new"&&t.what.kind==="class")return t.what.__parent_new_arguments=[...t.arguments],[t.what]},canAttachComment:function(t){return t.kind&&t.kind!=="commentblock"&&t.kind!=="commentline"},isBlockComment:Au,handleComments:{ownLine:function(t,s,i){const{precedingNode:r,enclosingNode:a,followingNode:c}=t;return ju(s,r,a,c,t)||(function(D,d,m){return D&&xt(D)&&d&&["identifier","variable","encapsed"].includes(d.kind)?(Kt(D,m),!0):!1})(a,c,t)||mu(s,r,a,c,t)||Fu(s,r,a,c,t)||Qu(a,c,t)||Tu(a,c,t)||xu(s,r,a,c,t)||yu(s,a,c,t)||(function(D,d,m,E){return!m&&D&&(D.kind==="for"||D.kind==="foreach")?(D.body&&D.body.kind!=="block"?Kt(m,E):Kt(D,E),!0):!1})(a,0,c,t)||gu(a,r,c,t)||zu(a,r,c,t)},endOfLine:function(t,s,i){const{precedingNode:r,enclosingNode:a,followingNode:c}=t;return(function(D,d,m,E,p){return!d&&!E&&m&&m.kind==="array"?(Xt(m,p),!0):!1})(0,r,a,c,t)||(function(D,d,m,E,p){return m&&m.kind==="return"&&!m.expr?(Xt(m,p),!0):!1})(0,0,a,0,t)||ju(s,r,a,c,t)||(function(D,d,m,E,p){const T=d&&!Ih(p,Z(d),nt(E));return(!d||!T)&&D&&D.kind==="retif"&&m?(Kt(m,E),!0):!1})(a,r,c,t,s)||mu(s,r,a,c,t)||Fu(s,r,a,c,t)||Qu(a,c,t)||Tu(a,c,t)||xu(s,r,a,c,t)||yu(s,a,c,t)||(function(D,d){return D&&D.kind==="entry"?(Kt(D,d),!0):!1})(a,t)||(function(D,d,m){return d&&d.kind==="call"&&D&&d.what===D&&d.arguments.length>0?(Kt(d.arguments[0],m),!0):!1})(r,a,t)||(function(D,d,m){if(D&&D.kind==="assign"&&d){const E=D.loc.start.offset+D.loc.source.indexOf("=");if(m.loc.start.offset>E)return Kt(d,m),!0}return!1})(a,c,t)||gu(a,r,c,t)||Yu(a,r,c,t)||zu(a,r,c,t)||Wu(a,t)},remaining:function(t,s,i){const{precedingNode:r,enclosingNode:a,followingNode:c}=t;return mu(s,r,a,c,t)||Fu(s,r,a,c,t)||(function(D,d,m){const E=bi(D,Z(m));return D.charAt(E)!==")"?!1:d&&(d.kind==="function"||d.kind==="closure"||d.kind==="method"||d.kind==="call"||d.kind==="new")&&d.arguments.length===0?(bt(d,m),!0):!1})(s,a,t)||Tu(a,c,t)||(function(D,d,m){return D&&D.kind==="traituse"&&D.adaptations&&!D.adaptations.length?(bt(D,m),!0):!1})(a,0,t)||xu(s,r,a,c,t)||yu(s,a,c,t)||Wu(a,t)||(function(D,d,m,E){return d&&d.kind==="halt"?(bt(d,E),!0):D&&D.kind==="halt"?(bt(D,E),!0):!1})(r,a,0,t)||(function(D,d){return D&&(D.kind==="continue"||D.kind==="break")&&!D.label?(Xt(D,d),!0):!1})(a,t)||gu(a,r,c,t)||Yu(a,r,c,t)}},willPrintOwnComments(t){const{node:s}=t;return s&&s.kind==="noop"},printComment(t){const s=t.node;switch(s.kind){case"commentblock":{if(!s.value.includes(`
`))return s.value;const i=s.value.split(`
`);return i.slice(1,i.length-1).every((r=>r.trim()[0]==="*"))?Qh(Yh,i.map(((r,a)=>(a>0?" ":"")+(a<i.length-1?r.trim():r.trimLeft())))):s.value}case"commentline":return s.value.trimRight();default:throw new Error(`Not a comment: ${JSON.stringify(s)}`)}},hasPrettierIgnore(t){const s=a=>a.value.includes("prettier-ignore")&&!a.value.includes("prettier-ignore-start")&&!a.value.includes("prettier-ignore-end"),{node:i,parent:r}=t;return i&&i.kind!=="classconstant"&&i.comments&&i.comments.length>0&&i.comments.some(s)||i&&i.kind==="constant"&&r&&r.kind==="classconstant"&&r.comments&&r.comments.length>0&&r.comments.some(s)}}};Ft.defaultOptions={tabWidth:4},Ft.languages=zh,Ft.options=Y,Ft.parsers=Jh,Ft.printers=Xh}))})(Pi,Pi.exports)),Pi.exports}var gh=ol();const al=tl(gh),hl=el({__proto__:null,default:al},[gh]);export{hl as s};
